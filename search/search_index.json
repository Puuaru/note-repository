{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Puuaru's note repository \u00b6 \u6b22\u8fce\u6765\u5230 Puuaru \u7684\u7b14\u8bb0\u4ed3\u5e93\uff0c\u8fd9\u662f\u6211\u7528\u4ee5\u8bb0\u5f55\u4e0e\u6574\u7406\u81ea\u5df1\u7684\u5404\u79cd\u96f6\u788e\u7b14\u8bb0\u7684\u4ed3\u5e93\uff0c\u4f60\u4e5f\u53ef\u4ee5\u5c06\u5176\u89c6\u4f5c\u4e00\u4e2a\u535a\u5ba2 \u642d\u5efa\u65b9\u5f0f \u00b6 \u672c\u4ed3\u5e93\u4f7f\u7528 MkDocs \u642d\u5efa\uff0c\u5229\u7528 github pages \u8fdb\u884c\u90e8\u7f72\u3002 MkDocs \u642d\u5efa\u4e2a\u4eba\u9759\u6001\u9875\u9762\u7684\u53c2\u8003\u8d44\u6599\u5982\u4e0b\uff1a MkDocs\u7684\u5b98\u7f51 \u57fa\u4e8e\u4e3b\u9898 mkdocs-material \u642d\u5efa\u4e2a\u4eba\u9759\u6001\u535a\u5ba2\u7684\u7b14\u8bb0 \u8fd9\u4e2a\u9875\u9762\u7684 github \u4ed3\u5e93","title":"Puuaru's note repository"},{"location":"#puuarus-note-repository","text":"\u6b22\u8fce\u6765\u5230 Puuaru \u7684\u7b14\u8bb0\u4ed3\u5e93\uff0c\u8fd9\u662f\u6211\u7528\u4ee5\u8bb0\u5f55\u4e0e\u6574\u7406\u81ea\u5df1\u7684\u5404\u79cd\u96f6\u788e\u7b14\u8bb0\u7684\u4ed3\u5e93\uff0c\u4f60\u4e5f\u53ef\u4ee5\u5c06\u5176\u89c6\u4f5c\u4e00\u4e2a\u535a\u5ba2","title":"Puuaru's note repository"},{"location":"#_1","text":"\u672c\u4ed3\u5e93\u4f7f\u7528 MkDocs \u642d\u5efa\uff0c\u5229\u7528 github pages \u8fdb\u884c\u90e8\u7f72\u3002 MkDocs \u642d\u5efa\u4e2a\u4eba\u9759\u6001\u9875\u9762\u7684\u53c2\u8003\u8d44\u6599\u5982\u4e0b\uff1a MkDocs\u7684\u5b98\u7f51 \u57fa\u4e8e\u4e3b\u9898 mkdocs-material \u642d\u5efa\u4e2a\u4eba\u9759\u6001\u535a\u5ba2\u7684\u7b14\u8bb0 \u8fd9\u4e2a\u9875\u9762\u7684 github \u4ed3\u5e93","title":"\u642d\u5efa\u65b9\u5f0f"},{"location":"linux/manjaro%E7%9A%84%E6%A1%8C%E9%9D%A2%E5%90%AF%E5%8A%A8%E5%A4%B1%E8%B4%A5%E9%97%AE%E9%A2%98/","text":"manjaro\u7684\u684c\u9762\u542f\u52a8\u95ee\u9898 \u00b6 \u7531\u4e8e\u88c5\u673a\u914d\u7f6e\u4f7f\u7528\u768413\u4ee3i5\uff0c\u5199\u4e0b\u6587\u7ae0\u65f6 manjaro \u5b98\u7f51\u4e2d\u63d0\u4f9b\u7684\u5b89\u88c5\u955c\u50cf\u5b58\u5728\u4e00\u5b9a\u7684\u517c\u5bb9\u6027\u95ee\u9898\uff0c\u4f1a\u4f7f\u5b89\u88c5\u7684 manjoro \u7cfb\u7edf\u51fa\u73b0\u684c\u9762\u542f\u52a8\u95ee\u9898\u3002 \u8fd9\u91cc\u8bb0\u5f55\u4e0b\u5f53\u65f6\u7684\u89e3\u51b3\u601d\u8def\u3002 \u5b89\u88c5\u65f6U\u76d8\u7cfb\u7edf\u4e2d\u7684\u684c\u9762\u542f\u52a8\u95ee\u9898 \u00b6 \u6b64\u65f6\u53ef\u4ee5\u901a\u8fc7 alt + 2 \u8fdb\u5165 tty\uff0c\u4f7f\u7528 less \u67e5\u770b\u4f4d\u4e8e /var/log \u7684 Xorg.0.log \u4ece\u800c\u786e\u8ba4\u5404\u79cd\u8bbe\u5907\u7684\u542f\u52a8\u4fe1\u606f\u3002 \u7136\u800c\u5f53\u65f6\u7684\u60c5\u51b5\u662f\u8be5\u8def\u5f84\u4e0b\u5e76\u672a\u53d1\u73b0 xorg \u7684 log \u6587\u4ef6\uff0c\u4e5f\u5c31\u662f\u8bf4\u6781\u6709\u53ef\u80fd\u8fde xorg \u90fd\u6ca1\u80fd\u8dd1\u8d77\u6765\uff0c\u6545\u4f7f\u7528 sudo pacman-mirrors -c China \u66f4\u6362\u56fd\u5185\u6e90\u4e4b\u540e\u66f4\u65b0\u4e00\u904d\u7cfb\u7edf\uff0c\u518d\u81ea\u884c\u5b89\u88c5 xorg\uff0c\u5728 xorg \u5b89\u88c5\u540e\u53ef\u4ee5\u5728 /var/log \u4e2d\u627e\u5230 Xorg.0.log \u6587\u4ef6\uff0c\u6b64\u65f6\u4fbf\u53ef\u901a\u8fc7\u8be5\u6587\u4ef6\u786e\u8ba4\u8bbe\u5907\u7684\u542f\u52a8\u4fe1\u606f\uff0c\u4e4b\u540e\u5bf9\u7740 ERR \u8fdb\u884c\u9a71\u52a8\u5b89\u88c5\u548c\u4fee\u590d\u5373\u53ef\u3002 \u5b89\u88c5\u540e\u7684\u684c\u9762\u5f02\u5e38\u95ee\u9898 \u00b6 \u5b89\u88c5\u5b8c manjaro \u5e76\u8fdb\u884c\u5347\u7ea7\u540e\u9047\u5230\u4e86\u5982\u4e0b\u684c\u9762\u5f02\u5e38\u95ee\u9898\uff1a\u6240\u6709\u64cd\u4f5c\u7684\u7ed3\u679c\u90fd\u5fc5\u987b\u5728\u7a97\u53e3\u5207\u6362\u65f6\u624d\u80fd\u56de\u663e\uff0c\u5728\u8fdb\u5165 tty \u6392\u67e5\u540e\u53d1\u73b0\u5e94\u8be5\u4e0d\u662f\u8bbe\u5907\u9a71\u52a8\u7b49\u95ee\u9898\uff0c\u56e0\u6b64\u8003\u8651\u6362 linux \u5185\u6838\u5230\u652f\u630113\u4ee3cpu\u7684 5.19 \u7248\u672c","title":"manjaro\u7684\u684c\u9762\u542f\u52a8\u95ee\u9898"},{"location":"linux/manjaro%E7%9A%84%E6%A1%8C%E9%9D%A2%E5%90%AF%E5%8A%A8%E5%A4%B1%E8%B4%A5%E9%97%AE%E9%A2%98/#manjaro","text":"\u7531\u4e8e\u88c5\u673a\u914d\u7f6e\u4f7f\u7528\u768413\u4ee3i5\uff0c\u5199\u4e0b\u6587\u7ae0\u65f6 manjaro \u5b98\u7f51\u4e2d\u63d0\u4f9b\u7684\u5b89\u88c5\u955c\u50cf\u5b58\u5728\u4e00\u5b9a\u7684\u517c\u5bb9\u6027\u95ee\u9898\uff0c\u4f1a\u4f7f\u5b89\u88c5\u7684 manjoro \u7cfb\u7edf\u51fa\u73b0\u684c\u9762\u542f\u52a8\u95ee\u9898\u3002 \u8fd9\u91cc\u8bb0\u5f55\u4e0b\u5f53\u65f6\u7684\u89e3\u51b3\u601d\u8def\u3002","title":"manjaro\u7684\u684c\u9762\u542f\u52a8\u95ee\u9898"},{"location":"linux/manjaro%E7%9A%84%E6%A1%8C%E9%9D%A2%E5%90%AF%E5%8A%A8%E5%A4%B1%E8%B4%A5%E9%97%AE%E9%A2%98/#u","text":"\u6b64\u65f6\u53ef\u4ee5\u901a\u8fc7 alt + 2 \u8fdb\u5165 tty\uff0c\u4f7f\u7528 less \u67e5\u770b\u4f4d\u4e8e /var/log \u7684 Xorg.0.log \u4ece\u800c\u786e\u8ba4\u5404\u79cd\u8bbe\u5907\u7684\u542f\u52a8\u4fe1\u606f\u3002 \u7136\u800c\u5f53\u65f6\u7684\u60c5\u51b5\u662f\u8be5\u8def\u5f84\u4e0b\u5e76\u672a\u53d1\u73b0 xorg \u7684 log \u6587\u4ef6\uff0c\u4e5f\u5c31\u662f\u8bf4\u6781\u6709\u53ef\u80fd\u8fde xorg \u90fd\u6ca1\u80fd\u8dd1\u8d77\u6765\uff0c\u6545\u4f7f\u7528 sudo pacman-mirrors -c China \u66f4\u6362\u56fd\u5185\u6e90\u4e4b\u540e\u66f4\u65b0\u4e00\u904d\u7cfb\u7edf\uff0c\u518d\u81ea\u884c\u5b89\u88c5 xorg\uff0c\u5728 xorg \u5b89\u88c5\u540e\u53ef\u4ee5\u5728 /var/log \u4e2d\u627e\u5230 Xorg.0.log \u6587\u4ef6\uff0c\u6b64\u65f6\u4fbf\u53ef\u901a\u8fc7\u8be5\u6587\u4ef6\u786e\u8ba4\u8bbe\u5907\u7684\u542f\u52a8\u4fe1\u606f\uff0c\u4e4b\u540e\u5bf9\u7740 ERR \u8fdb\u884c\u9a71\u52a8\u5b89\u88c5\u548c\u4fee\u590d\u5373\u53ef\u3002","title":"\u5b89\u88c5\u65f6U\u76d8\u7cfb\u7edf\u4e2d\u7684\u684c\u9762\u542f\u52a8\u95ee\u9898"},{"location":"linux/manjaro%E7%9A%84%E6%A1%8C%E9%9D%A2%E5%90%AF%E5%8A%A8%E5%A4%B1%E8%B4%A5%E9%97%AE%E9%A2%98/#_1","text":"\u5b89\u88c5\u5b8c manjaro \u5e76\u8fdb\u884c\u5347\u7ea7\u540e\u9047\u5230\u4e86\u5982\u4e0b\u684c\u9762\u5f02\u5e38\u95ee\u9898\uff1a\u6240\u6709\u64cd\u4f5c\u7684\u7ed3\u679c\u90fd\u5fc5\u987b\u5728\u7a97\u53e3\u5207\u6362\u65f6\u624d\u80fd\u56de\u663e\uff0c\u5728\u8fdb\u5165 tty \u6392\u67e5\u540e\u53d1\u73b0\u5e94\u8be5\u4e0d\u662f\u8bbe\u5907\u9a71\u52a8\u7b49\u95ee\u9898\uff0c\u56e0\u6b64\u8003\u8651\u6362 linux \u5185\u6838\u5230\u652f\u630113\u4ee3cpu\u7684 5.19 \u7248\u672c","title":"\u5b89\u88c5\u540e\u7684\u684c\u9762\u5f02\u5e38\u95ee\u9898"},{"location":"linux/%E4%BD%BF%E7%94%A8rofi%E5%AE%9E%E7%8E%B0%E8%87%AA%E5%AE%9A%E4%B9%89%E8%8F%9C%E5%8D%95/","text":"\u4f7f\u7528 rofi \u5b9e\u73b0\u81ea\u5b9a\u4e49\u83dc\u5355 \u00b6 rofi \u00b6 rofi \u662f\u4e00\u6b3e\u53ef\u4ee5\u7528\u4e8e\u66ff\u4ee3 dmenu \u7684\u7a0b\u5e8f\u542f\u52a8\u5668\u548c\u7a97\u53e3\u5207\u6362\u5668\uff0c \u540c\u65f6\u5176\u5728 dmenu \u6a21\u5f0f\u4e0b\u5bf9\u811a\u672c\u7684\u652f\u6301\u4e5f\u4f7f\u5b83\u6210\u4e3a\u81ea\u5b9a\u4e49\u83dc\u5355\u7684\u826f\u597d\u9009\u62e9 \u539f\u7406 \u00b6 rofi \u5728 -modi \u6a21\u5f0f\u4e0b\u4f1a\u5c06\u811a\u672c\u4e2d\u7684\u8f93\u51fa\u6309\u7167\u5206\u884c\u4f5c\u4e3a\u81ea\u5df1\u7684\u83dc\u5355\u9009\u9879\uff0c \u800c\u5728 -dmenu \u6a21\u5f0f\u4e0b\u5219\u4f1a\u5c06\u7ba1\u9053\u8f93\u51fa\u4f5c\u4e3a\u81ea\u5df1\u7684\u83dc\u5355\u9009\u9879\uff0c \u540c\u65f6\uff0c\u5f53\u811a\u672c\u540e\u7eed\u4ecd\u6709\u5bf9 rofi \u7684\u8c03\u7528\u65f6\uff0c\u524d\u4e00\u6b21\u8c03\u7528\u4e2d\u9009\u4e2d\u7684\u9009\u9879\u90fd\u4f1a\u4f5c\u4e3a\u8fd9\u6b21\u8c03\u7528\u7684\u5165\u53c2 \u9009\u9879\u663e\u793a \u00b6 \u7f16\u8f91\u4e00\u4e2a\u811a\u672c test.sh \u586b\u5165\u5982\u4e0b\u5185\u5bb9\u5e76\u4e3a\u5176\u6dfb\u52a0\u6267\u884c\u6743\u9650\uff1a echo -e \"option1\\noption2\\noption3\" case $* in \"option1\" ) notify-send \"select option1\" ;; esac \u4e4b\u540e\u6267\u884c\u547d\u4ee4 rofi -show test -modi \"test:./test.sh\" \uff0c \u9009\u4e2d option1 \uff0c option1 \u4fbf\u4f1a\u6210\u4e3a\u4e0b\u4e00\u4e2a\u5165\u53c2\u88ab case $* \u6355\u6349\u5230\uff0c\u4ece\u800c\u6267\u884c case \u8bed\u53e5\u4e2d\u7684\u5185\u5bb9 dmenu \u6a21\u5f0f \u00b6 dmenu \u6a21\u5f0f\u4e0b\uff0crofi \u4f1a\u5c06\u7ba1\u9053\u7684\u8f93\u51fa\u4f5c\u4e3a\u81ea\u5df1\u7684\u8f93\u5165\uff0c\u4ee5\u6b64\u8fdb\u884c\u9009\u9879\u663e\u793a\uff1a selection =( $( bluetoothctl devices | awk '{print $2,$3}' | rofi -i -p 'Connect:' -dmenu ) )","title":"\u4f7f\u7528 rofi \u5b9e\u73b0\u81ea\u5b9a\u4e49\u83dc\u5355"},{"location":"linux/%E4%BD%BF%E7%94%A8rofi%E5%AE%9E%E7%8E%B0%E8%87%AA%E5%AE%9A%E4%B9%89%E8%8F%9C%E5%8D%95/#rofi","text":"","title":"\u4f7f\u7528 rofi \u5b9e\u73b0\u81ea\u5b9a\u4e49\u83dc\u5355"},{"location":"linux/%E4%BD%BF%E7%94%A8rofi%E5%AE%9E%E7%8E%B0%E8%87%AA%E5%AE%9A%E4%B9%89%E8%8F%9C%E5%8D%95/#rofi_1","text":"rofi \u662f\u4e00\u6b3e\u53ef\u4ee5\u7528\u4e8e\u66ff\u4ee3 dmenu \u7684\u7a0b\u5e8f\u542f\u52a8\u5668\u548c\u7a97\u53e3\u5207\u6362\u5668\uff0c \u540c\u65f6\u5176\u5728 dmenu \u6a21\u5f0f\u4e0b\u5bf9\u811a\u672c\u7684\u652f\u6301\u4e5f\u4f7f\u5b83\u6210\u4e3a\u81ea\u5b9a\u4e49\u83dc\u5355\u7684\u826f\u597d\u9009\u62e9","title":"rofi"},{"location":"linux/%E4%BD%BF%E7%94%A8rofi%E5%AE%9E%E7%8E%B0%E8%87%AA%E5%AE%9A%E4%B9%89%E8%8F%9C%E5%8D%95/#_1","text":"rofi \u5728 -modi \u6a21\u5f0f\u4e0b\u4f1a\u5c06\u811a\u672c\u4e2d\u7684\u8f93\u51fa\u6309\u7167\u5206\u884c\u4f5c\u4e3a\u81ea\u5df1\u7684\u83dc\u5355\u9009\u9879\uff0c \u800c\u5728 -dmenu \u6a21\u5f0f\u4e0b\u5219\u4f1a\u5c06\u7ba1\u9053\u8f93\u51fa\u4f5c\u4e3a\u81ea\u5df1\u7684\u83dc\u5355\u9009\u9879\uff0c \u540c\u65f6\uff0c\u5f53\u811a\u672c\u540e\u7eed\u4ecd\u6709\u5bf9 rofi \u7684\u8c03\u7528\u65f6\uff0c\u524d\u4e00\u6b21\u8c03\u7528\u4e2d\u9009\u4e2d\u7684\u9009\u9879\u90fd\u4f1a\u4f5c\u4e3a\u8fd9\u6b21\u8c03\u7528\u7684\u5165\u53c2","title":"\u539f\u7406"},{"location":"linux/%E4%BD%BF%E7%94%A8rofi%E5%AE%9E%E7%8E%B0%E8%87%AA%E5%AE%9A%E4%B9%89%E8%8F%9C%E5%8D%95/#_2","text":"\u7f16\u8f91\u4e00\u4e2a\u811a\u672c test.sh \u586b\u5165\u5982\u4e0b\u5185\u5bb9\u5e76\u4e3a\u5176\u6dfb\u52a0\u6267\u884c\u6743\u9650\uff1a echo -e \"option1\\noption2\\noption3\" case $* in \"option1\" ) notify-send \"select option1\" ;; esac \u4e4b\u540e\u6267\u884c\u547d\u4ee4 rofi -show test -modi \"test:./test.sh\" \uff0c \u9009\u4e2d option1 \uff0c option1 \u4fbf\u4f1a\u6210\u4e3a\u4e0b\u4e00\u4e2a\u5165\u53c2\u88ab case $* \u6355\u6349\u5230\uff0c\u4ece\u800c\u6267\u884c case \u8bed\u53e5\u4e2d\u7684\u5185\u5bb9","title":"\u9009\u9879\u663e\u793a"},{"location":"linux/%E4%BD%BF%E7%94%A8rofi%E5%AE%9E%E7%8E%B0%E8%87%AA%E5%AE%9A%E4%B9%89%E8%8F%9C%E5%8D%95/#dmenu","text":"dmenu \u6a21\u5f0f\u4e0b\uff0crofi \u4f1a\u5c06\u7ba1\u9053\u7684\u8f93\u51fa\u4f5c\u4e3a\u81ea\u5df1\u7684\u8f93\u5165\uff0c\u4ee5\u6b64\u8fdb\u884c\u9009\u9879\u663e\u793a\uff1a selection =( $( bluetoothctl devices | awk '{print $2,$3}' | rofi -i -p 'Connect:' -dmenu ) )","title":"dmenu \u6a21\u5f0f"},{"location":"linux/%E5%AE%B9%E5%99%A8/Docker/file-descriptor-table/","text":"java \u5bb9\u5668\u542f\u52a8\u62a5\u9519 \u00b6 library initialization failed - unable to allocate file descriptor table \u8be5\u62a5\u9519\u6765\u81ea ulimit \u53c2\u6570\u95ee\u9898\uff0c\u5176\u53ef\u80fd\u539f\u56e0\u6709 linux \u7684\u8bbe\u7f6e\u95ee\u9898\uff0c \u4e5f\u6709\u53ef\u80fd\u662f docker \u670d\u52a1\u7684\u95ee\u9898 \u89e3\u51b3\uff1a \u4fee\u6539 docker.service \u6587\u4ef6\uff0c \u5728 ExecStart \u7684\u540e\u9762\u6dfb\u52a0\u9ed8\u8ba4 nofile \u53c2\u6570 --defualt-ulimit nofile=65536:65536","title":"java \u5bb9\u5668\u542f\u52a8\u62a5\u9519"},{"location":"linux/%E5%AE%B9%E5%99%A8/Docker/file-descriptor-table/#java","text":"library initialization failed - unable to allocate file descriptor table \u8be5\u62a5\u9519\u6765\u81ea ulimit \u53c2\u6570\u95ee\u9898\uff0c\u5176\u53ef\u80fd\u539f\u56e0\u6709 linux \u7684\u8bbe\u7f6e\u95ee\u9898\uff0c \u4e5f\u6709\u53ef\u80fd\u662f docker \u670d\u52a1\u7684\u95ee\u9898 \u89e3\u51b3\uff1a \u4fee\u6539 docker.service \u6587\u4ef6\uff0c \u5728 ExecStart \u7684\u540e\u9762\u6dfb\u52a0\u9ed8\u8ba4 nofile \u53c2\u6570 --defualt-ulimit nofile=65536:65536","title":"java \u5bb9\u5668\u542f\u52a8\u62a5\u9519"},{"location":"%E5%89%8D%E7%AB%AF/vue%E6%95%B4%E5%90%88%E5%AF%8C%E6%96%87%E6%9C%AC%E7%BC%96%E8%BE%91%E5%99%A8tinymce/","text":"vue \u6574\u5408 tinymce \u00b6 \u5feb\u901f\u5b89\u88c5 \u00b6 npm install @tinymce/tinymce-vue@3.2.8 -S // vue2 \u4e2d\u4e0d\u80fd\u4f7f\u7528 @tinymce/tinymce-vue \u4e3a4\u4ee5\u4e0a\u7684\u7248\u672c npm install tinymce@5.10.3 -S \u4e0a\u8ff0\u5b89\u88c5\u540e\uff0c\u7f16\u8f91\u5668\u9ed8\u8ba4\u662f\u82f1\u6587\uff0c\u56e0\u6b64\u82e5\u6709\u9700\u8981\u53ef\u4ee5\u4e0b\u8f7d \u4e2d\u6587\u6c49\u5316\u5305 \u4e4b\u540e\u5728 vue \u9879\u76ee\u7684 static \u6216 public \u76ee\u5f55\u4e0b\u521b\u5efa tinymce \u76ee\u5f55\uff0c\u8be5\u76ee\u5f55\u7528\u4ee5\u5b58\u653e\u4e3b\u9898\u3001\u8bed\u8a00\u5305\u4ee5\u53ca\u540e\u9762\u53ef\u80fd\u9700\u8981\u4f7f\u7528\u5230\u7684\u81ea\u5b9a\u4e49\u63d2\u4ef6\u3002\u5c06 node_modules/tinymce \u76ee\u5f55\u4e0b\u7684 skin \u3001 plugin \u6587\u4ef6\u5939 \u590d\u5236\u5230 public/tinymce \u4e2d\uff0c\u5e76\u53ef\u5728 public/tinymce \u76ee\u5f55\u4e0b\u521b\u5efa langs \u76ee\u5f55\u7528\u4ee5\u5b89\u88c5\u8bed\u8a00\u5305\u3002 \u5f53\u7136\uff0c\u4f60\u4e5f\u53ef\u4ee5\u76f4\u63a5\u9009\u62e9\u5176\u4ed6\u5df2\u7ecf\u6253\u5305\u597d\u7684 tinymce \u7f6e\u4e8e public \u76ee\u5f55\uff0c\u6bd4\u5982\u4f7f\u7528 vue-element-admin \u6253\u5305\u597d\u7684 tinymce\uff0c\u8fd9\u7c7b\u60c5\u51b5\u4e0b\u9700\u8981\u5c06 @tinymce/tinymce-vue \u4e2d\u7684 min.js \u6587\u4ef6\u4e5f\u4e00\u5e76\u590d\u5236\u5230 public/tinymce \u76ee\u5f55\u4e0b\uff0c\u800c\u4e0d\u9700\u8981\u5728 package.json \u6587\u4ef6\u4e2d\u5199\u5165 tinymce \u7684\u4f9d\u8d56 \u4e4b\u540e\u5728 public/index.html \u6587\u4ef6\u4e2d\u5f15\u5165 tinymce\uff1a < html > < head > ... < script src = \"<%= BASE_URL %>tinymce4.7.5/tinymce.min.js\" ></ script > < script src = \"<%= BASE_URL %>tinymce4.7.5/langs/zh_CN.js\" ></ script > </ head > \u5c01\u88c5 tinymce \u4e3a\u7ec4\u4ef6 \u00b6","title":"vue \u6574\u5408 tinymce"},{"location":"%E5%89%8D%E7%AB%AF/vue%E6%95%B4%E5%90%88%E5%AF%8C%E6%96%87%E6%9C%AC%E7%BC%96%E8%BE%91%E5%99%A8tinymce/#vue-tinymce","text":"","title":"vue \u6574\u5408 tinymce"},{"location":"%E5%89%8D%E7%AB%AF/vue%E6%95%B4%E5%90%88%E5%AF%8C%E6%96%87%E6%9C%AC%E7%BC%96%E8%BE%91%E5%99%A8tinymce/#_1","text":"npm install @tinymce/tinymce-vue@3.2.8 -S // vue2 \u4e2d\u4e0d\u80fd\u4f7f\u7528 @tinymce/tinymce-vue \u4e3a4\u4ee5\u4e0a\u7684\u7248\u672c npm install tinymce@5.10.3 -S \u4e0a\u8ff0\u5b89\u88c5\u540e\uff0c\u7f16\u8f91\u5668\u9ed8\u8ba4\u662f\u82f1\u6587\uff0c\u56e0\u6b64\u82e5\u6709\u9700\u8981\u53ef\u4ee5\u4e0b\u8f7d \u4e2d\u6587\u6c49\u5316\u5305 \u4e4b\u540e\u5728 vue \u9879\u76ee\u7684 static \u6216 public \u76ee\u5f55\u4e0b\u521b\u5efa tinymce \u76ee\u5f55\uff0c\u8be5\u76ee\u5f55\u7528\u4ee5\u5b58\u653e\u4e3b\u9898\u3001\u8bed\u8a00\u5305\u4ee5\u53ca\u540e\u9762\u53ef\u80fd\u9700\u8981\u4f7f\u7528\u5230\u7684\u81ea\u5b9a\u4e49\u63d2\u4ef6\u3002\u5c06 node_modules/tinymce \u76ee\u5f55\u4e0b\u7684 skin \u3001 plugin \u6587\u4ef6\u5939 \u590d\u5236\u5230 public/tinymce \u4e2d\uff0c\u5e76\u53ef\u5728 public/tinymce \u76ee\u5f55\u4e0b\u521b\u5efa langs \u76ee\u5f55\u7528\u4ee5\u5b89\u88c5\u8bed\u8a00\u5305\u3002 \u5f53\u7136\uff0c\u4f60\u4e5f\u53ef\u4ee5\u76f4\u63a5\u9009\u62e9\u5176\u4ed6\u5df2\u7ecf\u6253\u5305\u597d\u7684 tinymce \u7f6e\u4e8e public \u76ee\u5f55\uff0c\u6bd4\u5982\u4f7f\u7528 vue-element-admin \u6253\u5305\u597d\u7684 tinymce\uff0c\u8fd9\u7c7b\u60c5\u51b5\u4e0b\u9700\u8981\u5c06 @tinymce/tinymce-vue \u4e2d\u7684 min.js \u6587\u4ef6\u4e5f\u4e00\u5e76\u590d\u5236\u5230 public/tinymce \u76ee\u5f55\u4e0b\uff0c\u800c\u4e0d\u9700\u8981\u5728 package.json \u6587\u4ef6\u4e2d\u5199\u5165 tinymce \u7684\u4f9d\u8d56 \u4e4b\u540e\u5728 public/index.html \u6587\u4ef6\u4e2d\u5f15\u5165 tinymce\uff1a < html > < head > ... < script src = \"<%= BASE_URL %>tinymce4.7.5/tinymce.min.js\" ></ script > < script src = \"<%= BASE_URL %>tinymce4.7.5/langs/zh_CN.js\" ></ script > </ head >","title":"\u5feb\u901f\u5b89\u88c5"},{"location":"%E5%89%8D%E7%AB%AF/vue%E6%95%B4%E5%90%88%E5%AF%8C%E6%96%87%E6%9C%AC%E7%BC%96%E8%BE%91%E5%99%A8tinymce/#tinymce","text":"","title":"\u5c01\u88c5 tinymce \u4e3a\u7ec4\u4ef6"},{"location":"%E5%90%8E%E7%AB%AF/SpringSecurity/","text":"Spring Security Note \u00b6 \u7b80\u4ecb \u00b6 \u4e00\u822c\u7528\u4e8e\u4e2d\u5927\u578b\u9879\u76ee\u7684\u5b89\u5168\u6846\u67b6\uff0c\u76f8\u6bd4\u8d77**shiro**\uff0cSpring Security\u63d0\u4f9b\u66f4\u4e30\u5bcc\u7684\u529f\u80fd\u4e0e\u793e\u533a\u8d44\u6e90 \u8ba4\u8bc1\u4e0e\u6388\u6743 \u00b6 \u4e00\u822cWeb\u5e94\u7528\u9700\u8981\u8fdb\u884c\u8ba4\u8bc1\u548c\u6388\u6743 \u8ba4\u8bc1\uff1a\u9a8c\u8bc1\u5f53\u524d\u8bbf\u95ee\u7cfb\u7edf\u7684\u662f\u5426\u4e3a\u672c\u7cfb\u7edf\u7684\u7528\u6237\uff0c\u5177\u4f53\u53c8\u662f\u54ea\u4e2a\u7528\u6237 \u6388\u6743\uff1a\u7ecf\u8fc7\u8ba4\u8bc1\u540e\u5224\u65ad\u8be5\u7528\u6237\u62e5\u6709\u4ec0\u4e48\u6743\u9650\u8fdb\u884c\u4ec0\u4e48\u64cd\u4f5c \u57fa\u672c\u539f\u7406 \u00b6 Spring Security\u672c\u8d28\u4e0a\u662f\u4e00\u6761\u8fc7\u6ee4\u5668\u94fe\uff0c\u5176\u5e95\u5c42\u4e3b\u8981\u6709\u4e09\u4e2a\u8fc7\u6ee4\u5668 FilterSecurityInterceptor \u00b6 \u65b9\u6cd5\u7ea7\u7684\u6743\u9650\u6821\u9a8c\u8fc7\u6ee4\u5668\uff0c\u57fa\u672c\u4f4d\u4e8e\u8fc7\u6ee4\u5668\u94fe\u7684\u6700\u5e95\u90e8 ExceptionTranslationFilter \u00b6 \u5f02\u5e38\u8fc7\u6ee4\u5668\uff0c\u7528\u6765\u5904\u7406\u5728\u8ba4\u8bc1\u6388\u6743\u8fc7\u7a0b\u4e2d\u629b\u51fa\u7684\u4efb\u4f55AccessDeniedException\u548cAuthenticationException\u5f02\u5e38 UsernamePasswordAuthenticationFilter \u00b6 \u5bf9/login\u7684POST\u8bf7\u6c42\u505a\u62e6\u622a\uff0c\u6821\u9a8c\u8868\u5355\u4e2d\u7684\u7528\u6237\u540d\u548c\u5bc6\u7801 \u5feb\u901f\u5f00\u59cb \u00b6 \u4e3a\u6a21\u5757\u5f15\u5165\u5982\u4e0b\u4f9d\u8d56 <dependencies> <dependency> <groupId>org.springframework.boot</groupId> <artifactId>spring-boot-starter-web</artifactId> </dependency> <dependency> <groupId>org.projectlombok</groupId> <artifactId>lombok</artifactId> <optional>true</optional> </dependency> <!-- Spring Security --> <dependency> <groupId>org.springframework.boot</groupId> <artifactId>spring-boot-starter-security</artifactId> </dependency> </dependencies> \u5f15\u5165\u540eSpring Security\u5c06\u81ea\u5e26\u8ba4\u8bc1\u53ca\u5176\u9ed8\u8ba4\u8ba4\u8bc1\u8d26\u6237 user \uff0c\u4e3a\u8d44\u6e90\u8bbf\u95ee\u6dfb\u52a0\u4e00\u4e2a\u8ba4\u8bc1\u754c\u9762(\u53ef\u7528\u6237\u81ea\u5b9a\u4e49)\u5e76\u5728\u63a7\u5236\u53f0\u4e2d\u8f93\u51fa\u4e34\u65f6\u7684\u7528\u6237\u5bc6\u7801 Using generated security password: 531d7c71-7435-4d38-ac4b-d678eae86498 \u8ba4\u8bc1 \u00b6 \u73b0\u4ee3\u524d\u540e\u7aef\u5206\u79bb\u9879\u76ee\u8ba4\u8bc1\u6d41\u7a0b \u00b6 \u81ea\u5b9a\u4e49\u903b\u8f91\u8fc7\u7a0b \u00b6 \u7ed3\u5408\u4e0a\u6587\u63d0\u5230\u7684\u57fa\u672c\u539f\u7406\uff0c\u81ea\u5b9a\u4e49\u8ba4\u8bc1\u7684\u903b\u8f91\u53ef\u4ee5\u5982\u4e0b\uff1a \u521b\u5efa\u4e00\u4e2a\u7c7b\u7ee7\u627f UsernamePasswordAuthenticationFilter \u5e76\u91cd\u51993\u4e2a\u65b9\u6cd5 \u5b9e\u73b0 UserDetailsService \u5e76\u6ce8\u5165\u5bb9\u5668\uff0cSpring Security\u4f1a\u81ea\u52a8\u4f7f\u7528\u8be5\u5b9e\u73b0\u4f5c\u4e3a\u65b0\u7684 UserDetailsService \uff0c\u5f53\u7136\u4e5f\u53ef\u4ee5\u5728config\u7c7b\u4e2d\u6307\u5b9a\u4f7f\u7528\u7684 UserDetailsService \uff1b\u5b9e\u73b0\u7c7b\u4e2d\u53ef\u7f16\u5199\u67e5\u8be2\u6570\u636e\u5e93\u4e0e\u6388\u6743\u7b49\u8fc7\u7a0b\uff0c\u6700\u7ec8\u8fd4\u56de\u5b89\u5168\u6846\u67b6\u63d0\u4f9b\u7684 UserDetails \u5bf9\u8c61\uff08\u8be5\u5bf9\u8c61\u53ef\u4ee5\u901a\u8fc7\u7f16\u5199\u5b9e\u73b0\u7c7b\u5bf9\u5df2\u6709\u7684 User \u5b9e\u4f53\u8fdb\u884c\u5c01\u88c5\uff09 \u5b9e\u73b0 PasswordEncoder \u63a5\u53e3\u5bf9\u5bc6\u7801\u8fdb\u884c\u52a0\u5bc6\uff0c\u5b98\u65b9\u63a8\u8350\u4f7f\u7528 BCryptPasswordEncoder \u5b9e\u73b0\u7c7b\u6765\u8fdb\u884c\u52a0\u5bc6\uff0c\u8be5\u5b9e\u73b0\u7c7b\u662fBCrypt\u5f3a\u6563\u5217\u65b9\u6cd5\u7684\u5177\u4f53\u5b9e\u73b0\uff0c\u662f\u57fa\u4e8e\u54c8\u5e0c\u7b97\u6cd5\u5b9e\u73b0\u7684\u5355\u5411\u52a0\u5bc6\uff0c\u53ef\u4ee5\u901a\u8fc7 strength \u6765\u63a7\u5236\u52a0\u5bc6\u5f3a\u5ea6\uff0c\u9ed8\u8ba4\u4e3a10 \u6388\u6743 \u00b6 \u4e0d\u540c\u7684\u7528\u6237\u53ef\u4ee5\u4f7f\u7528\u4e0d\u540c\u7684\u529f\u80fd \u4e0d\u80fd\u53ea\u4f9d\u8d56\u524d\u7aef\u6765\u5224\u65ad\u7528\u6237\u7684\u6743\u9650\u6765\u9009\u62e9\u663e\u793a\u54ea\u4e9b\u83dc\u5355\u54ea\u4e9b\u6309\u94ae\uff0c\u5982\u679c\u53ea\u662f\u8fd9\u6837\uff0c\u4e00\u65e6\u6709\u4eba\u77e5\u9053\u4e86\u5bf9\u5e94\u529f\u80fd\u7684\u63a5\u53e3\u5730\u5740\u5c31\u53ef\u4ee5\u4e0d\u901a\u8fc7\u524d\u7aef\u800c\u76f4\u63a5\u53d1\u9001\u8bf7\u6c42\u53bb\u5b9e\u73b0\u76f8\u5173\u529f\u80fd\u7684\u64cd\u4f5c\uff0c\u56e0\u6b64\u9700\u8981\u5728\u540e\u7aef\u8fdb\u884c\u7528\u6237\u6743\u9650\u7684\u5224\u65ad\uff0c\u5224\u65ad\u5f53\u524d\u7528\u6237\u662f\u5426\u6709\u54cd\u5e94\u7684\u6743\u9650\uff0c\u5fc5\u987b\u5177\u6709\u6240\u9700\u6743\u9650\u624d\u80fd\u8fdb\u884c\u54cd\u5e94\u64cd\u4f5c\u3002 \u6388\u6743\u57fa\u672c\u6d41\u7a0b \u00b6 \u5728Spring Security\u4e2d\u4f1a\u4f7f\u7528\u9ed8\u8ba4\u7684FilterSecurityInterceptor\u6765\u8fdb\u884c\u6743\u9650\u6821\u9a8c\u3002\u5728FilterSecurityInterceptor\u4e2d\u4f1a\u4eceSecurityContextHolder\u83b7\u53d6\u5176\u4e2d\u7684Authentication\uff0c\u7136\u540e\u83b7\u53d6\u5176\u4e2d\u7684\u6743\u9650\u4fe1\u606f\u6765\u786e\u5b9a\u5f53\u524d\u7528\u6237\u662f\u5426\u62e5\u6709\u8bbf\u95ee\u5f53\u524d\u8d44\u6e90\u6240\u9700\u7684\u6743\u9650\u3002 \u56e0\u6b64\u4e3a\u9879\u76ee\u6dfb\u52a0\u6743\u9650\u64cd\u4f5c\u53ea\u9700\u8981\u628a\u5f53\u524d\u767b\u5f55\u7528\u6237\u7684\u6743\u9650\u4e5f\u5b58\u5165Authentication\uff0c\u7136\u540e\u4e3a\u8d44\u6e90\u8bbe\u7f6e\u6240\u9700\u6743\u9650\u5373\u53ef\u3002 \u6388\u6743\u5b9e\u73b0 \u00b6 \u9650\u5236\u8bbf\u95ee\u8d44\u6e90\u6240\u9700\u6743\u9650 \u00b6 Spring Security\u63d0\u4f9b\u4e86\u57fa\u4e8e\u6ce8\u89e3\u7684\u6743\u9650\u63a7\u5236\u65b9\u6848\uff0c\u4e5f\u662f\u4e3b\u8981\u91c7\u7528\u7684\u6388\u6743\u65b9\u5f0f @EnableGlobalMethodSecurity ( prePostEnabled = true ) // \u5f00\u542f\u914d\u7f6e \u4f7f\u7528\u5bf9\u5e94\u6ce8\u89e3 @PreAuthorize \u4ece\u6570\u636e\u5e93\u4e2d\u67e5\u8be2\u6743\u9650\u4fe1\u606f \u00b6 RBAC\u6743\u9650\u6a21\u578b \u00b6 RBAC\uff08Role-Based Access Control\uff09\u5373\uff1a\u57fa\u4e8e\u89d2\u8272\u7684\u6743\u9650\u63a7\u5236\uff0c\u8fd9\u662f\u76ee\u524d\u6700\u5e38\u88ab\u5f00\u53d1\u8005\u4f7f\u7528\u4e5f\u662f\u76f8\u5bf9\u6613\u7528\u3001\u901a\u7528\u7684\u6743\u9650\u6a21\u578b \u5173\u8054\u8868\u5efa\u8bae\u4f7f\u7528\u591a\u4e3b\u952e \u8be5\u6743\u9650\u6a21\u578b\u7684\u6ce8\u610f\u529b\u96c6\u4e2d\u4e8e\u7528\u6237\u3001\u89d2\u8272\u3001\u6743\u9650\u4e09\u4e2a\u5b9e\u4f53\uff0c\u5176\u4e2d\u7528\u6237-\u89d2\u8272\u548c\u89d2\u8272-\u6743\u9650\u5747\u4e3a\u591a\u5bf9\u591a\u5173\u7cfb\uff0c\u56e0\u6b64\u4e3a\u907f\u514d\u6570\u636e\u5197\u4f59\u53e6\u8d77\u6570\u636e\u8868\u5206\u9694 \u67e5\u8be2\u4e00\u4e2a\u89d2\u8272\u6709\u54ea\u4e9b\u6743\u9650\u65f6\uff0cSQL\u8bed\u53e5\u5982\u4e0b\uff1a SELECT DISTINCT m . perms FROM sys_user_role ur LEFT JOIN sys_role r ON ur . role_id = r . id LEFT JOIN sys_role_menu rm ON ur . role_id = rm . role_id LEFT JOIN sys_menu m ON m . id = rm . menu_id WHERE user_id = 3 AND r . status = 0 AND m . status = 0 \u81ea\u5b9a\u4e49\u5931\u8d25\u5904\u7406 \u00b6 \u82e5\u5e0c\u671b\u5728\u8ba4\u8bc1\u5931\u8d25\u6216\u6388\u6743\u5931\u8d25\u65f6\u4e5f\u80fd\u548c\u5b9a\u4e49\u597d\u7684ResponseResult\u4e00\u6837\u8fd4\u56de\u76f8\u540c\u7ed3\u6784\u7684json\uff0c\u4ece\u800c\u8ba9\u524d\u7aef\u80fd\u5bf9\u54cd\u5e94\u8fdb\u884c\u7edf\u4e00\u7684\u5904\u7406\uff0c\u5c31\u9700\u8981\u5728\u4e86\u89e3Spring Security\u7684\u5f02\u5e38\u5904\u7406\u673a\u5236\u540e\u4f5c\u81ea\u5b9a\u4e49\u5931\u8d25\u5904\u7406 \u5728Spring Security\u4e2d\uff0c\u82e5\u8ba4\u8bc1\u6216\u6388\u6743\u7684\u8fc7\u7a0b\u4e2d\u51fa\u73b0\u4e86\u5f02\u5e38\uff0c\u4f1a\u88abExceptionTranslationFilter\u6355\u83b7\u5230\uff0c\u5e76\u5728\u5176\u4e2d\u5224\u65ad\u662f\u8ba4\u8bc1\u5931\u8d25\u8fd8\u662f\u6388\u6743\u5931\u8d25\u51fa\u73b0\u7684\u5f02\u5e38\u3002 \u5982\u679c\u662f\u8ba4\u8bc1\u8fc7\u7a0b\u4e2d\u51fa\u73b0\u7684\u5f02\u5e38\u4f1a\u88ab\u5c01\u88c5\u6210AuthenticationException\u7136\u540e\u8c03\u7528AuthenticationEntryPoint\u5bf9\u8c61\u7684\u65b9\u6cd5\u53bb\u8fdb\u884c\u5f02\u5e38\u5904\u7406\u3002 \u5982\u679c\u662f\u6388\u6743\u8fc7\u7a0b\u4e2d\u51fa\u73b0\u7684\u5f02\u5e38\u4f1a\u88ab\u5c01\u88c5\u6210AccessDeniedException\u7136\u540e\u8c03\u7528AccessDeniedHandler\u5bf9\u8c61\u7684\u65b9\u6cd5\u53bb\u8fdb\u884c\u5f02\u5e38\u5904\u7406\u3002 \u56e0\u6b64\u82e5\u8981\u81ea\u5b9a\u4e49\u5931\u8d25\u5904\u7406\uff0c\u53ea\u9700\u81ea\u5b9a\u4e49AuthenticationEntryPoint\u548cAccessDeniedHandler\u7136\u540e\u914d\u7f6e\u7ed9SpringSecurity\u5373\u53ef\u3002 \u8de8\u57df\u95ee\u9898 \u00b6 CORS\u7b80\u4ecb \u00b6 CORS\uff08Cross-Origin Resource Sharing\uff0c\u8de8\u57df\u8d44\u6e90\u5171\u4eab\uff09\uff0c\u4ecb\u7ecd\u6b64\u6982\u5ff5\u524d\u9700\u8981\u5148\u4ecb\u7ecd**\u57df**\u3001 \u8d44\u6e90 \u3001**\u540c\u57df\u7b56\u7565**\u4e09\u4e2a\u6982\u5ff5\uff1a \u57df\uff1a\u6307**\u4e00\u4e2a\u7ad9\u70b9**\uff0c\u57df\u7531 protocol\u3001host \u548c port \u4e09\u90e8\u5206\u7ec4\u6210\uff0c\u5176\u4e2d host \u53ef\u4ee5\u662f\u57df\u540d\uff0c\u4e5f\u53ef\u4ee5\u662f ip ; port \u5982\u679c\u6ca1\u6709\u6307\u660e\uff0c\u5219\u662f\u4f7f\u7528 protocol \u7684\u9ed8\u8ba4\u7aef\u53e3 \u8d44\u6e90\uff1a\u6307\u4e00\u4e2a URL \u5bf9\u5e94\u7684\u5185\u5bb9 \u540c\u57df\u7b56\u7565\uff1a\u4e3a\u4e86\u9632\u6b62 XSS\uff08Cross-site scripting\uff0c\u8de8\u7ad9\u811a\u672c\u653b\u51fb\uff1a\u5229\u7528\u5b89\u5168\u6f0f\u6d1e\u5c06\u4ee3\u7801\u6ce8\u5165\u5230\u7f51\u7ad9\u4e0a\u4f7f\u5f97\u7528\u6237\u52a0\u8f7d\u7f51\u9875\u65f6\u6267\u884c\u653b\u51fb\u8005\u6076\u610f\u5236\u9020\u7684\u7f51\u9875\u7a0b\u5e8f\uff09\uff0c\u6d4f\u89c8\u5668\u3001\u5ba2\u6237\u7aef\u5e94\u8be5\u4ec5\u8bf7\u6c42\u4e0e\u5f53\u524d\u9875\u9762\u6765\u81ea\u540c\u4e00\u4e2a\u57df\u7684\u8d44\u6e90\uff0c\u8bf7\u6c42\u5176\u4ed6\u57df\u7684\u8d44\u6e90\u9700\u8981\u901a\u8fc7\u8ba4\u8bc1 \u7531\u4e8e\u540c\u57df\u7b56\u7565\u7684\u5f71\u54cd\uff0c\u4ece\u7ad9\u70b9A\u8bf7\u6c42\u7ad9\u70b9B\u7684\u8d44\u6e90\u65f6\uff0c\u8fd9\u6837\u7684\u8de8\u57df\u8bf7\u6c42\u5c06\u88ab\u7981\u6b62\u53d1\u9001\uff1b\u4e3a\u4e86\u8ba9\u8de8\u57df\u8bf7\u6c42\u80fd\u591f\u6b63\u5e38\u53d1\u9001\uff0c\u6211\u4eec\u9700\u8981\u4e00\u5957\u673a\u5236\u5728\u4e0d\u7834\u574f\u540c\u57df\u7b56\u7565\u5b89\u5168\u6027\u7684\u60c5\u51b5\u4e0b\u5141\u8bb8\u8de8\u57df\u8bf7\u6c42\u6b63\u5e38\u53d1\u9001\uff0c\u8fd9\u6837\u7684\u673a\u5236\u5c31\u662f CORS \u9884\u68c0\u8bf7\u6c42 \u00b6 \u5728 CORS \u4e2d\uff0c\u5b9a\u4e49\u4e86\u4e00\u79cd\u9884\u68c0\u8bf7\u6c42\uff08preflight request\uff09\uff0c\u5f53\u5b9e\u9645\u8bf7\u6c42\u4e0d\u662f\u4e00\u4e2a**\u7b80\u5355\u8bf7\u6c42**\u65f6\uff0c\u4f1a\u53d1\u8d77\u4e00\u6b21\u9884\u68c0\u8bf7\u6c42\u3002\u9884\u68c0\u8bf7\u6c42\u662f\u9488\u5bf9\u5b9e\u9645\u8bf7\u6c42\u7684 URL \u53d1\u8d77\u4e00\u6b21 OPTIONS \u8bf7\u6c42\uff0c\u5e76\u5e26\u4e0a\u4e0b\u9762\u4e09\u4e2a headers\uff1a Origin\uff1a\u5f53\u524d\u9875\u9762\u6240\u5728\u7684\u57df\uff0c\u7528\u4e8e\u544a\u8bc9\u670d\u52a1\u5668\u5f53\u524d\u8bf7\u6c42\u7684\u57df\u3002\u5982\u679c\u6ca1\u6709\u8fd9\u4e2aheader\uff0c\u670d\u52a1\u5668\u5c06\u4e0d\u4f1a\u8fdb\u884cCORS\u9a8c\u8bc1 Access-Control-Request-Method\uff1a\u5b9e\u9645\u8bf7\u6c42\u5c06\u4f1a\u4f7f\u7528\u7684\u65b9\u6cd5 Access-Control-Request-Headers\uff1a\u5b9e\u9645\u8bf7\u6c42\u5c06\u4f1a\u4f7f\u7528\u5230\u7684 header \u96c6\u5408 \u5982\u679c\u670d\u52a1\u7aef CORS \u9a8c\u8bc1\u5931\u8d25\uff0c\u5219\u4f1a\u8fd4\u56de\u5ba2\u6237\u7aef\u9519\u8bef\uff0c\u5373 4xx \u7684\u72b6\u6001\u7801\uff1b\u5426\u5219\uff0c\u5c06\u4f1a\u8fd4\u56de\u6210\u529f\uff0c\u8fd4\u56de 200 \u7684\u72b6\u6001\u7801\uff0c\u5e76\u643a\u5e26\u4ee5\u4e0b headers\uff1a Access-Control-Allow-Origin\uff1a\u5141\u8bb8\u8bf7\u6c42\u7684\u57df\uff0c\u591a\u6570\u60c5\u51b5\u4e0b\u5c31\u662f\u9884\u68c0\u8bf7\u6c42\u4e2d\u7684 Origin \u7684\u503c Access-Control-Allow-Credentials\uff1a\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u670d\u52a1\u5668\u662f\u5426\u5141\u8bb8\u4f7f\u7528 cookies Access-Control-Expose-Headers\uff1a\u5b9e\u9645\u8bf7\u6c42\u4e2d\u53ef\u4ee5\u51fa\u73b0\u5728\u54cd\u5e94\u4e2d\u7684 headers \u96c6\u5408 Access-Control-Max-Age\uff1a\u9884\u68c0\u8bf7\u6c42\u8fd4\u56de\u7684\u89c4\u5219\u53ef\u4ee5\u88ab\u7f13\u5b58\u7684\u6700\u957f\u65f6\u95f4\uff0c\u8d85\u8fc7\u8fd9\u4e2a\u65f6\u95f4\uff0c\u9700\u8981\u518d\u6b21\u53d1\u8d77\u9884\u68c0\u8bf7\u6c42 Access-Control-Allow-Methods\uff1a\u5b9e\u9645\u8bf7\u6c42\u4e2d\u53ef\u4ee5\u4f7f\u7528\u5230\u7684\u65b9\u6cd5\u96c6\u5408 \u6d4f\u89c8\u5668\u4f1a\u6839\u636e\u9884\u68c0\u8bf7\u6c42\u7684\u54cd\u5e94\uff0c\u6765\u51b3\u5b9a\u662f\u5426\u53d1\u8d77\u5b9e\u9645\u8bf7\u6c42 Spring Boot \u4e2d\u7684\u51e0\u79cd\u914d\u7f6e\u65b9\u5f0f \u00b6 @CrossOrigin \u6ce8\u89e3 \u00b6 @RestController class HelloController { @GetMapping ( \"hello\" ) @CrossOrigin ( origins = \"http://localhost:8080\" ) public String hello () { return \"Hello, CORS\" ; } } \u5b9e\u73b0 WebMvcConfigurer.addCorsMappings \u65b9\u6cd5 \u00b6 @Configuration @EnableWebMvc class MvcConfig implements WebMvcConfigurer { @Override private void addCorsMappings ( CorsRegistry registry ) { // \u8bbe\u7f6e\u5141\u8bb8\u8de8\u57df\u7684\u8def\u5f84 registry . addMapping ( \"/hello\" ) // \u8bbe\u7f6e\u5141\u8bb8\u8de8\u57df\u8bf7\u6c42\u7684\u57df\u540d . allowedOriginsPatterns ( \"http://localhost:8080\" ); } } \u6ce8\u5165 CorsFilter \u00b6 @Configuration public class CorsConfig { @Bean public CorsWebFilter corsWebFilter () { CorsConfiguration configuration = new CorsConfiguration (); configuration . addAllowedHeader ( \"*\" ); configuration . addAllowedOrigin ( \"*\" ); configuration . addAllowedMethod ( \"*\" ); UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource ( new PathPatternParser ()); source . registerCorsConfiguration ( \"/**\" , configuration ); return new CorsWebFilter ( source ); } } Spring Security \u4e2d\u7684\u914d\u7f6e \u00b6 \u5728\u5f15\u5165 Spring Security \u4e4b\u540e\uff0c \u4f1a\u7531\u4e8e Spring Security \u81ea\u52a8\u5bf9\u9884\u68c0\u8bf7\u6c42\u8fdb\u884c\u9274\u6743 \uff0c\u800c\u5bfc\u81f4\u6bcf\u6b21\u9884\u68c0\u8bf7\u6c42\u90fd\u4f1a\u5f97\u5230\u4e00\u4e2a 401 \u7684\u72b6\u6001\u7801\uff0c\u8868\u793a\u8bf7\u6c42\u672a\u88ab\u6388\u6743\u3002\u6b64\u65f6\u9700\u8981\u589e\u52a0\u4e00\u70b9\u914d\u7f6e\u624d\u80fd\u8ba9 CORS \u6b63\u5e38\u5de5\u4f5c\uff1a \u6ce8\uff1a\u5728\u5f15\u5165 Spring Gateway \u4e2d\uff0cCORS \u53ef\u4ee5\u901a\u8fc7 Spring Gateway \u89e3\u51b3\uff0c\u6b64\u65f6\u4e0d\u518d\u4f1a\u51fa\u73b0\u9884\u68c0\u8bf7\u6c42\u88ab Spring Security \u62e6\u622a\u7684\u60c5\u51b5 \uff0c\u56e0\u6b64\u65e0\u9700\u5728\u6388\u6743\u6a21\u5757\u7684 Spring Security \u4e2d\u9488\u5bf9 CORS \u4f5c\u989d\u5916\u914d\u7f6e @Configuration public class SecurityConfig extends WebSecurityConfigurerAdapter { @Override protected void configure ( HttpSecurity http ) throws Exception { http . cors (); } } \u5728 cors() \u4e2d\uff0cSpring Security \u4f1a\u4fdd\u8bc1\u901a\u8fc7 Spring Context \u6216\u6839\u636e CorsConfiguration \u914d\u7f6e\u521b\u5efa\u4f7f\u5f97 CorsFilter \u5b58\u5728\u5e76\u4f7f\u5176\u5728\u8eab\u4efd\u9a8c\u8bc1\u76f8\u5173\u7684 Filter \u4e4b\u524d\u6267\u884c\uff0c\u5373\u5f15\u7528 Spring Security \u540e\uff0c cors() \u4f1a\u9ed8\u8ba4\u5728 DispatcherServlet \u524d\u8fdb\u884c\u4e00\u6b21 CORS \u9a8c\u8bc1\uff0c\u800c\u5b9e\u73b0 WebMvcConfiguration \u7684\u65b9\u5f0f\u8fdb\u884c\u7684 CORS \u914d\u7f6e\u6700\u540e\u4f1a\u5728 Spring \u7684 Interceptor \u6216 Handler \u4e2d\u751f\u6548\uff0c\u56e0\u6b64 cors() + WebMvcConfiguration.addCorsMappings \u7684\u65b9\u6cd5\u662f\u4e00\u79cd\u76f8\u5bf9\u4f4e\u6548\u7684\u65b9\u5f0f\uff0c\u4f1a\u5bfc\u81f4\u8de8\u57df\u8bf7\u6c42\u5206\u522b\u5728 Filter \u548c Interceptor \u5c42\u5404\u7ecf\u5386\u4e00\u6b21 CORS \u9a8c\u8bc1 CSRF \u00b6 CSRF\u7684\u653b\u51fb\u624b\u6bb5 \u00b6 \u524d\u540e\u7aef\u5206\u79bb\u9879\u76ee\u5bf9 CSRF \u7684\u6297\u6027 \u00b6 Spring Security \u5185\u7f6e\u7684 CSRF \u9632\u5fa1\u624b\u6bb5\u662f\u901a\u8fc7\u751f\u6210 CSRF Token \u8fd4\u56de\u7ed9\u7528\u6237\u8fbe\u6210\u7684\uff0c\u800c\u8fd9\u672c\u8eab\u5c31\u4e0ejwt\u7684\u8ba4\u8bc1\u624b\u6bb5\u4e00\u81f4 \u524d\u540e\u7aef\u5206\u79bb\u9879\u76ee\u91c7\u7528 jwt \u8fdb\u884c\u8ba4\u8bc1\uff0c\u8fd9\u4f1a\u8981\u6c42\u524d\u7aef\u5728\u767b\u5f55\u540e\u4ece Response Headers \u4e2d\u53d6\u51fa token \u5e76\u5c06\u5176\u5b58\u5165 localStorage \u4e2d\uff08\u53ea\u8003\u8651\u524d\u7aef\u4ee3\u7801\u7684\u8bdd\uff0c\u5982 Vue \u4ee3\u7801\u4e2d\u5c31\u662f\u524d\u7aef\u5e94\u7528\u7684 user.state.token \u4e2d\uff09\uff0c\u7136\u540e\u5728\u540e\u7eed\u8bbf\u95ee\u65f6\u901a\u8fc7\u524d\u7aef\u4ee3\u7801\u5c06 token \u5c01\u88c5\u8fdb\u8bf7\u6c42\u5934\u518d\u8fdb\u884c\u8bf7\u6c42 \u800c\u5728 CSRF \u653b\u51fb\u4e2d\uff0c\u7528\u6237\u88ab\u8bf1\u5bfc\u53d1\u9001\u8bf7\u6c42\u65f6\u7531\u4e8e\u6d4f\u89c8\u5668\u5e76\u672a\u6267\u884c\u7ad9\u70b9A\u7684\u524d\u7aef\u7a0b\u5e8f\uff0c\u56e0\u6b64\u8fd9\u4e2a\u8bf1\u5bfc\u8bf7\u6c42\u53ea\u4f1a\u6839\u636e\u6d4f\u89c8\u5668\u903b\u8f91\u5c01\u88c5\u4e00\u4e2a\u8bf7\u6c42\u5fc5\u8981\u7684\u4fe1\u606f\u53ca cookie \u8fdb\u8bf7\u6c42\u5934\uff0c\u800c\u4e0d\u4f1a\u5c06\u4f5c\u4e3a\u524d\u7aef\u7a0b\u5e8f\u4fe1\u606f\u4e00\u90e8\u5206\u7684\u7528\u6237 token \u5c01\u88c5\u5230\u8bf7\u6c42\u5934\uff0c\u7531\u6b64\u8fbe\u6210 CSRF \u9632\u5fa1\u7684\u6548\u679c","title":"Spring Security Note"},{"location":"%E5%90%8E%E7%AB%AF/SpringSecurity/#spring-security-note","text":"","title":"Spring Security Note"},{"location":"%E5%90%8E%E7%AB%AF/SpringSecurity/#_1","text":"\u4e00\u822c\u7528\u4e8e\u4e2d\u5927\u578b\u9879\u76ee\u7684\u5b89\u5168\u6846\u67b6\uff0c\u76f8\u6bd4\u8d77**shiro**\uff0cSpring Security\u63d0\u4f9b\u66f4\u4e30\u5bcc\u7684\u529f\u80fd\u4e0e\u793e\u533a\u8d44\u6e90","title":"\u7b80\u4ecb"},{"location":"%E5%90%8E%E7%AB%AF/SpringSecurity/#_2","text":"\u4e00\u822cWeb\u5e94\u7528\u9700\u8981\u8fdb\u884c\u8ba4\u8bc1\u548c\u6388\u6743 \u8ba4\u8bc1\uff1a\u9a8c\u8bc1\u5f53\u524d\u8bbf\u95ee\u7cfb\u7edf\u7684\u662f\u5426\u4e3a\u672c\u7cfb\u7edf\u7684\u7528\u6237\uff0c\u5177\u4f53\u53c8\u662f\u54ea\u4e2a\u7528\u6237 \u6388\u6743\uff1a\u7ecf\u8fc7\u8ba4\u8bc1\u540e\u5224\u65ad\u8be5\u7528\u6237\u62e5\u6709\u4ec0\u4e48\u6743\u9650\u8fdb\u884c\u4ec0\u4e48\u64cd\u4f5c","title":"\u8ba4\u8bc1\u4e0e\u6388\u6743"},{"location":"%E5%90%8E%E7%AB%AF/SpringSecurity/#_3","text":"Spring Security\u672c\u8d28\u4e0a\u662f\u4e00\u6761\u8fc7\u6ee4\u5668\u94fe\uff0c\u5176\u5e95\u5c42\u4e3b\u8981\u6709\u4e09\u4e2a\u8fc7\u6ee4\u5668","title":"\u57fa\u672c\u539f\u7406"},{"location":"%E5%90%8E%E7%AB%AF/SpringSecurity/#filtersecurityinterceptor","text":"\u65b9\u6cd5\u7ea7\u7684\u6743\u9650\u6821\u9a8c\u8fc7\u6ee4\u5668\uff0c\u57fa\u672c\u4f4d\u4e8e\u8fc7\u6ee4\u5668\u94fe\u7684\u6700\u5e95\u90e8","title":"FilterSecurityInterceptor"},{"location":"%E5%90%8E%E7%AB%AF/SpringSecurity/#exceptiontranslationfilter","text":"\u5f02\u5e38\u8fc7\u6ee4\u5668\uff0c\u7528\u6765\u5904\u7406\u5728\u8ba4\u8bc1\u6388\u6743\u8fc7\u7a0b\u4e2d\u629b\u51fa\u7684\u4efb\u4f55AccessDeniedException\u548cAuthenticationException\u5f02\u5e38","title":"ExceptionTranslationFilter"},{"location":"%E5%90%8E%E7%AB%AF/SpringSecurity/#usernamepasswordauthenticationfilter","text":"\u5bf9/login\u7684POST\u8bf7\u6c42\u505a\u62e6\u622a\uff0c\u6821\u9a8c\u8868\u5355\u4e2d\u7684\u7528\u6237\u540d\u548c\u5bc6\u7801","title":"UsernamePasswordAuthenticationFilter"},{"location":"%E5%90%8E%E7%AB%AF/SpringSecurity/#_4","text":"\u4e3a\u6a21\u5757\u5f15\u5165\u5982\u4e0b\u4f9d\u8d56 <dependencies> <dependency> <groupId>org.springframework.boot</groupId> <artifactId>spring-boot-starter-web</artifactId> </dependency> <dependency> <groupId>org.projectlombok</groupId> <artifactId>lombok</artifactId> <optional>true</optional> </dependency> <!-- Spring Security --> <dependency> <groupId>org.springframework.boot</groupId> <artifactId>spring-boot-starter-security</artifactId> </dependency> </dependencies> \u5f15\u5165\u540eSpring Security\u5c06\u81ea\u5e26\u8ba4\u8bc1\u53ca\u5176\u9ed8\u8ba4\u8ba4\u8bc1\u8d26\u6237 user \uff0c\u4e3a\u8d44\u6e90\u8bbf\u95ee\u6dfb\u52a0\u4e00\u4e2a\u8ba4\u8bc1\u754c\u9762(\u53ef\u7528\u6237\u81ea\u5b9a\u4e49)\u5e76\u5728\u63a7\u5236\u53f0\u4e2d\u8f93\u51fa\u4e34\u65f6\u7684\u7528\u6237\u5bc6\u7801 Using generated security password: 531d7c71-7435-4d38-ac4b-d678eae86498","title":"\u5feb\u901f\u5f00\u59cb"},{"location":"%E5%90%8E%E7%AB%AF/SpringSecurity/#_5","text":"","title":"\u8ba4\u8bc1"},{"location":"%E5%90%8E%E7%AB%AF/SpringSecurity/#_6","text":"","title":"\u73b0\u4ee3\u524d\u540e\u7aef\u5206\u79bb\u9879\u76ee\u8ba4\u8bc1\u6d41\u7a0b"},{"location":"%E5%90%8E%E7%AB%AF/SpringSecurity/#_7","text":"\u7ed3\u5408\u4e0a\u6587\u63d0\u5230\u7684\u57fa\u672c\u539f\u7406\uff0c\u81ea\u5b9a\u4e49\u8ba4\u8bc1\u7684\u903b\u8f91\u53ef\u4ee5\u5982\u4e0b\uff1a \u521b\u5efa\u4e00\u4e2a\u7c7b\u7ee7\u627f UsernamePasswordAuthenticationFilter \u5e76\u91cd\u51993\u4e2a\u65b9\u6cd5 \u5b9e\u73b0 UserDetailsService \u5e76\u6ce8\u5165\u5bb9\u5668\uff0cSpring Security\u4f1a\u81ea\u52a8\u4f7f\u7528\u8be5\u5b9e\u73b0\u4f5c\u4e3a\u65b0\u7684 UserDetailsService \uff0c\u5f53\u7136\u4e5f\u53ef\u4ee5\u5728config\u7c7b\u4e2d\u6307\u5b9a\u4f7f\u7528\u7684 UserDetailsService \uff1b\u5b9e\u73b0\u7c7b\u4e2d\u53ef\u7f16\u5199\u67e5\u8be2\u6570\u636e\u5e93\u4e0e\u6388\u6743\u7b49\u8fc7\u7a0b\uff0c\u6700\u7ec8\u8fd4\u56de\u5b89\u5168\u6846\u67b6\u63d0\u4f9b\u7684 UserDetails \u5bf9\u8c61\uff08\u8be5\u5bf9\u8c61\u53ef\u4ee5\u901a\u8fc7\u7f16\u5199\u5b9e\u73b0\u7c7b\u5bf9\u5df2\u6709\u7684 User \u5b9e\u4f53\u8fdb\u884c\u5c01\u88c5\uff09 \u5b9e\u73b0 PasswordEncoder \u63a5\u53e3\u5bf9\u5bc6\u7801\u8fdb\u884c\u52a0\u5bc6\uff0c\u5b98\u65b9\u63a8\u8350\u4f7f\u7528 BCryptPasswordEncoder \u5b9e\u73b0\u7c7b\u6765\u8fdb\u884c\u52a0\u5bc6\uff0c\u8be5\u5b9e\u73b0\u7c7b\u662fBCrypt\u5f3a\u6563\u5217\u65b9\u6cd5\u7684\u5177\u4f53\u5b9e\u73b0\uff0c\u662f\u57fa\u4e8e\u54c8\u5e0c\u7b97\u6cd5\u5b9e\u73b0\u7684\u5355\u5411\u52a0\u5bc6\uff0c\u53ef\u4ee5\u901a\u8fc7 strength \u6765\u63a7\u5236\u52a0\u5bc6\u5f3a\u5ea6\uff0c\u9ed8\u8ba4\u4e3a10","title":"\u81ea\u5b9a\u4e49\u903b\u8f91\u8fc7\u7a0b"},{"location":"%E5%90%8E%E7%AB%AF/SpringSecurity/#_8","text":"\u4e0d\u540c\u7684\u7528\u6237\u53ef\u4ee5\u4f7f\u7528\u4e0d\u540c\u7684\u529f\u80fd \u4e0d\u80fd\u53ea\u4f9d\u8d56\u524d\u7aef\u6765\u5224\u65ad\u7528\u6237\u7684\u6743\u9650\u6765\u9009\u62e9\u663e\u793a\u54ea\u4e9b\u83dc\u5355\u54ea\u4e9b\u6309\u94ae\uff0c\u5982\u679c\u53ea\u662f\u8fd9\u6837\uff0c\u4e00\u65e6\u6709\u4eba\u77e5\u9053\u4e86\u5bf9\u5e94\u529f\u80fd\u7684\u63a5\u53e3\u5730\u5740\u5c31\u53ef\u4ee5\u4e0d\u901a\u8fc7\u524d\u7aef\u800c\u76f4\u63a5\u53d1\u9001\u8bf7\u6c42\u53bb\u5b9e\u73b0\u76f8\u5173\u529f\u80fd\u7684\u64cd\u4f5c\uff0c\u56e0\u6b64\u9700\u8981\u5728\u540e\u7aef\u8fdb\u884c\u7528\u6237\u6743\u9650\u7684\u5224\u65ad\uff0c\u5224\u65ad\u5f53\u524d\u7528\u6237\u662f\u5426\u6709\u54cd\u5e94\u7684\u6743\u9650\uff0c\u5fc5\u987b\u5177\u6709\u6240\u9700\u6743\u9650\u624d\u80fd\u8fdb\u884c\u54cd\u5e94\u64cd\u4f5c\u3002","title":"\u6388\u6743"},{"location":"%E5%90%8E%E7%AB%AF/SpringSecurity/#_9","text":"\u5728Spring Security\u4e2d\u4f1a\u4f7f\u7528\u9ed8\u8ba4\u7684FilterSecurityInterceptor\u6765\u8fdb\u884c\u6743\u9650\u6821\u9a8c\u3002\u5728FilterSecurityInterceptor\u4e2d\u4f1a\u4eceSecurityContextHolder\u83b7\u53d6\u5176\u4e2d\u7684Authentication\uff0c\u7136\u540e\u83b7\u53d6\u5176\u4e2d\u7684\u6743\u9650\u4fe1\u606f\u6765\u786e\u5b9a\u5f53\u524d\u7528\u6237\u662f\u5426\u62e5\u6709\u8bbf\u95ee\u5f53\u524d\u8d44\u6e90\u6240\u9700\u7684\u6743\u9650\u3002 \u56e0\u6b64\u4e3a\u9879\u76ee\u6dfb\u52a0\u6743\u9650\u64cd\u4f5c\u53ea\u9700\u8981\u628a\u5f53\u524d\u767b\u5f55\u7528\u6237\u7684\u6743\u9650\u4e5f\u5b58\u5165Authentication\uff0c\u7136\u540e\u4e3a\u8d44\u6e90\u8bbe\u7f6e\u6240\u9700\u6743\u9650\u5373\u53ef\u3002","title":"\u6388\u6743\u57fa\u672c\u6d41\u7a0b"},{"location":"%E5%90%8E%E7%AB%AF/SpringSecurity/#_10","text":"","title":"\u6388\u6743\u5b9e\u73b0"},{"location":"%E5%90%8E%E7%AB%AF/SpringSecurity/#_11","text":"Spring Security\u63d0\u4f9b\u4e86\u57fa\u4e8e\u6ce8\u89e3\u7684\u6743\u9650\u63a7\u5236\u65b9\u6848\uff0c\u4e5f\u662f\u4e3b\u8981\u91c7\u7528\u7684\u6388\u6743\u65b9\u5f0f @EnableGlobalMethodSecurity ( prePostEnabled = true ) // \u5f00\u542f\u914d\u7f6e \u4f7f\u7528\u5bf9\u5e94\u6ce8\u89e3 @PreAuthorize","title":"\u9650\u5236\u8bbf\u95ee\u8d44\u6e90\u6240\u9700\u6743\u9650"},{"location":"%E5%90%8E%E7%AB%AF/SpringSecurity/#_12","text":"","title":"\u4ece\u6570\u636e\u5e93\u4e2d\u67e5\u8be2\u6743\u9650\u4fe1\u606f"},{"location":"%E5%90%8E%E7%AB%AF/SpringSecurity/#rbac","text":"RBAC\uff08Role-Based Access Control\uff09\u5373\uff1a\u57fa\u4e8e\u89d2\u8272\u7684\u6743\u9650\u63a7\u5236\uff0c\u8fd9\u662f\u76ee\u524d\u6700\u5e38\u88ab\u5f00\u53d1\u8005\u4f7f\u7528\u4e5f\u662f\u76f8\u5bf9\u6613\u7528\u3001\u901a\u7528\u7684\u6743\u9650\u6a21\u578b \u5173\u8054\u8868\u5efa\u8bae\u4f7f\u7528\u591a\u4e3b\u952e \u8be5\u6743\u9650\u6a21\u578b\u7684\u6ce8\u610f\u529b\u96c6\u4e2d\u4e8e\u7528\u6237\u3001\u89d2\u8272\u3001\u6743\u9650\u4e09\u4e2a\u5b9e\u4f53\uff0c\u5176\u4e2d\u7528\u6237-\u89d2\u8272\u548c\u89d2\u8272-\u6743\u9650\u5747\u4e3a\u591a\u5bf9\u591a\u5173\u7cfb\uff0c\u56e0\u6b64\u4e3a\u907f\u514d\u6570\u636e\u5197\u4f59\u53e6\u8d77\u6570\u636e\u8868\u5206\u9694 \u67e5\u8be2\u4e00\u4e2a\u89d2\u8272\u6709\u54ea\u4e9b\u6743\u9650\u65f6\uff0cSQL\u8bed\u53e5\u5982\u4e0b\uff1a SELECT DISTINCT m . perms FROM sys_user_role ur LEFT JOIN sys_role r ON ur . role_id = r . id LEFT JOIN sys_role_menu rm ON ur . role_id = rm . role_id LEFT JOIN sys_menu m ON m . id = rm . menu_id WHERE user_id = 3 AND r . status = 0 AND m . status = 0","title":"RBAC\u6743\u9650\u6a21\u578b"},{"location":"%E5%90%8E%E7%AB%AF/SpringSecurity/#_13","text":"\u82e5\u5e0c\u671b\u5728\u8ba4\u8bc1\u5931\u8d25\u6216\u6388\u6743\u5931\u8d25\u65f6\u4e5f\u80fd\u548c\u5b9a\u4e49\u597d\u7684ResponseResult\u4e00\u6837\u8fd4\u56de\u76f8\u540c\u7ed3\u6784\u7684json\uff0c\u4ece\u800c\u8ba9\u524d\u7aef\u80fd\u5bf9\u54cd\u5e94\u8fdb\u884c\u7edf\u4e00\u7684\u5904\u7406\uff0c\u5c31\u9700\u8981\u5728\u4e86\u89e3Spring Security\u7684\u5f02\u5e38\u5904\u7406\u673a\u5236\u540e\u4f5c\u81ea\u5b9a\u4e49\u5931\u8d25\u5904\u7406 \u5728Spring Security\u4e2d\uff0c\u82e5\u8ba4\u8bc1\u6216\u6388\u6743\u7684\u8fc7\u7a0b\u4e2d\u51fa\u73b0\u4e86\u5f02\u5e38\uff0c\u4f1a\u88abExceptionTranslationFilter\u6355\u83b7\u5230\uff0c\u5e76\u5728\u5176\u4e2d\u5224\u65ad\u662f\u8ba4\u8bc1\u5931\u8d25\u8fd8\u662f\u6388\u6743\u5931\u8d25\u51fa\u73b0\u7684\u5f02\u5e38\u3002 \u5982\u679c\u662f\u8ba4\u8bc1\u8fc7\u7a0b\u4e2d\u51fa\u73b0\u7684\u5f02\u5e38\u4f1a\u88ab\u5c01\u88c5\u6210AuthenticationException\u7136\u540e\u8c03\u7528AuthenticationEntryPoint\u5bf9\u8c61\u7684\u65b9\u6cd5\u53bb\u8fdb\u884c\u5f02\u5e38\u5904\u7406\u3002 \u5982\u679c\u662f\u6388\u6743\u8fc7\u7a0b\u4e2d\u51fa\u73b0\u7684\u5f02\u5e38\u4f1a\u88ab\u5c01\u88c5\u6210AccessDeniedException\u7136\u540e\u8c03\u7528AccessDeniedHandler\u5bf9\u8c61\u7684\u65b9\u6cd5\u53bb\u8fdb\u884c\u5f02\u5e38\u5904\u7406\u3002 \u56e0\u6b64\u82e5\u8981\u81ea\u5b9a\u4e49\u5931\u8d25\u5904\u7406\uff0c\u53ea\u9700\u81ea\u5b9a\u4e49AuthenticationEntryPoint\u548cAccessDeniedHandler\u7136\u540e\u914d\u7f6e\u7ed9SpringSecurity\u5373\u53ef\u3002","title":"\u81ea\u5b9a\u4e49\u5931\u8d25\u5904\u7406"},{"location":"%E5%90%8E%E7%AB%AF/SpringSecurity/#_14","text":"","title":"\u8de8\u57df\u95ee\u9898"},{"location":"%E5%90%8E%E7%AB%AF/SpringSecurity/#cors","text":"CORS\uff08Cross-Origin Resource Sharing\uff0c\u8de8\u57df\u8d44\u6e90\u5171\u4eab\uff09\uff0c\u4ecb\u7ecd\u6b64\u6982\u5ff5\u524d\u9700\u8981\u5148\u4ecb\u7ecd**\u57df**\u3001 \u8d44\u6e90 \u3001**\u540c\u57df\u7b56\u7565**\u4e09\u4e2a\u6982\u5ff5\uff1a \u57df\uff1a\u6307**\u4e00\u4e2a\u7ad9\u70b9**\uff0c\u57df\u7531 protocol\u3001host \u548c port \u4e09\u90e8\u5206\u7ec4\u6210\uff0c\u5176\u4e2d host \u53ef\u4ee5\u662f\u57df\u540d\uff0c\u4e5f\u53ef\u4ee5\u662f ip ; port \u5982\u679c\u6ca1\u6709\u6307\u660e\uff0c\u5219\u662f\u4f7f\u7528 protocol \u7684\u9ed8\u8ba4\u7aef\u53e3 \u8d44\u6e90\uff1a\u6307\u4e00\u4e2a URL \u5bf9\u5e94\u7684\u5185\u5bb9 \u540c\u57df\u7b56\u7565\uff1a\u4e3a\u4e86\u9632\u6b62 XSS\uff08Cross-site scripting\uff0c\u8de8\u7ad9\u811a\u672c\u653b\u51fb\uff1a\u5229\u7528\u5b89\u5168\u6f0f\u6d1e\u5c06\u4ee3\u7801\u6ce8\u5165\u5230\u7f51\u7ad9\u4e0a\u4f7f\u5f97\u7528\u6237\u52a0\u8f7d\u7f51\u9875\u65f6\u6267\u884c\u653b\u51fb\u8005\u6076\u610f\u5236\u9020\u7684\u7f51\u9875\u7a0b\u5e8f\uff09\uff0c\u6d4f\u89c8\u5668\u3001\u5ba2\u6237\u7aef\u5e94\u8be5\u4ec5\u8bf7\u6c42\u4e0e\u5f53\u524d\u9875\u9762\u6765\u81ea\u540c\u4e00\u4e2a\u57df\u7684\u8d44\u6e90\uff0c\u8bf7\u6c42\u5176\u4ed6\u57df\u7684\u8d44\u6e90\u9700\u8981\u901a\u8fc7\u8ba4\u8bc1 \u7531\u4e8e\u540c\u57df\u7b56\u7565\u7684\u5f71\u54cd\uff0c\u4ece\u7ad9\u70b9A\u8bf7\u6c42\u7ad9\u70b9B\u7684\u8d44\u6e90\u65f6\uff0c\u8fd9\u6837\u7684\u8de8\u57df\u8bf7\u6c42\u5c06\u88ab\u7981\u6b62\u53d1\u9001\uff1b\u4e3a\u4e86\u8ba9\u8de8\u57df\u8bf7\u6c42\u80fd\u591f\u6b63\u5e38\u53d1\u9001\uff0c\u6211\u4eec\u9700\u8981\u4e00\u5957\u673a\u5236\u5728\u4e0d\u7834\u574f\u540c\u57df\u7b56\u7565\u5b89\u5168\u6027\u7684\u60c5\u51b5\u4e0b\u5141\u8bb8\u8de8\u57df\u8bf7\u6c42\u6b63\u5e38\u53d1\u9001\uff0c\u8fd9\u6837\u7684\u673a\u5236\u5c31\u662f CORS","title":"CORS\u7b80\u4ecb"},{"location":"%E5%90%8E%E7%AB%AF/SpringSecurity/#_15","text":"\u5728 CORS \u4e2d\uff0c\u5b9a\u4e49\u4e86\u4e00\u79cd\u9884\u68c0\u8bf7\u6c42\uff08preflight request\uff09\uff0c\u5f53\u5b9e\u9645\u8bf7\u6c42\u4e0d\u662f\u4e00\u4e2a**\u7b80\u5355\u8bf7\u6c42**\u65f6\uff0c\u4f1a\u53d1\u8d77\u4e00\u6b21\u9884\u68c0\u8bf7\u6c42\u3002\u9884\u68c0\u8bf7\u6c42\u662f\u9488\u5bf9\u5b9e\u9645\u8bf7\u6c42\u7684 URL \u53d1\u8d77\u4e00\u6b21 OPTIONS \u8bf7\u6c42\uff0c\u5e76\u5e26\u4e0a\u4e0b\u9762\u4e09\u4e2a headers\uff1a Origin\uff1a\u5f53\u524d\u9875\u9762\u6240\u5728\u7684\u57df\uff0c\u7528\u4e8e\u544a\u8bc9\u670d\u52a1\u5668\u5f53\u524d\u8bf7\u6c42\u7684\u57df\u3002\u5982\u679c\u6ca1\u6709\u8fd9\u4e2aheader\uff0c\u670d\u52a1\u5668\u5c06\u4e0d\u4f1a\u8fdb\u884cCORS\u9a8c\u8bc1 Access-Control-Request-Method\uff1a\u5b9e\u9645\u8bf7\u6c42\u5c06\u4f1a\u4f7f\u7528\u7684\u65b9\u6cd5 Access-Control-Request-Headers\uff1a\u5b9e\u9645\u8bf7\u6c42\u5c06\u4f1a\u4f7f\u7528\u5230\u7684 header \u96c6\u5408 \u5982\u679c\u670d\u52a1\u7aef CORS \u9a8c\u8bc1\u5931\u8d25\uff0c\u5219\u4f1a\u8fd4\u56de\u5ba2\u6237\u7aef\u9519\u8bef\uff0c\u5373 4xx \u7684\u72b6\u6001\u7801\uff1b\u5426\u5219\uff0c\u5c06\u4f1a\u8fd4\u56de\u6210\u529f\uff0c\u8fd4\u56de 200 \u7684\u72b6\u6001\u7801\uff0c\u5e76\u643a\u5e26\u4ee5\u4e0b headers\uff1a Access-Control-Allow-Origin\uff1a\u5141\u8bb8\u8bf7\u6c42\u7684\u57df\uff0c\u591a\u6570\u60c5\u51b5\u4e0b\u5c31\u662f\u9884\u68c0\u8bf7\u6c42\u4e2d\u7684 Origin \u7684\u503c Access-Control-Allow-Credentials\uff1a\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u670d\u52a1\u5668\u662f\u5426\u5141\u8bb8\u4f7f\u7528 cookies Access-Control-Expose-Headers\uff1a\u5b9e\u9645\u8bf7\u6c42\u4e2d\u53ef\u4ee5\u51fa\u73b0\u5728\u54cd\u5e94\u4e2d\u7684 headers \u96c6\u5408 Access-Control-Max-Age\uff1a\u9884\u68c0\u8bf7\u6c42\u8fd4\u56de\u7684\u89c4\u5219\u53ef\u4ee5\u88ab\u7f13\u5b58\u7684\u6700\u957f\u65f6\u95f4\uff0c\u8d85\u8fc7\u8fd9\u4e2a\u65f6\u95f4\uff0c\u9700\u8981\u518d\u6b21\u53d1\u8d77\u9884\u68c0\u8bf7\u6c42 Access-Control-Allow-Methods\uff1a\u5b9e\u9645\u8bf7\u6c42\u4e2d\u53ef\u4ee5\u4f7f\u7528\u5230\u7684\u65b9\u6cd5\u96c6\u5408 \u6d4f\u89c8\u5668\u4f1a\u6839\u636e\u9884\u68c0\u8bf7\u6c42\u7684\u54cd\u5e94\uff0c\u6765\u51b3\u5b9a\u662f\u5426\u53d1\u8d77\u5b9e\u9645\u8bf7\u6c42","title":"\u9884\u68c0\u8bf7\u6c42"},{"location":"%E5%90%8E%E7%AB%AF/SpringSecurity/#spring-boot","text":"","title":"Spring Boot \u4e2d\u7684\u51e0\u79cd\u914d\u7f6e\u65b9\u5f0f"},{"location":"%E5%90%8E%E7%AB%AF/SpringSecurity/#crossorigin","text":"@RestController class HelloController { @GetMapping ( \"hello\" ) @CrossOrigin ( origins = \"http://localhost:8080\" ) public String hello () { return \"Hello, CORS\" ; } }","title":"@CrossOrigin \u6ce8\u89e3"},{"location":"%E5%90%8E%E7%AB%AF/SpringSecurity/#webmvcconfigureraddcorsmappings","text":"@Configuration @EnableWebMvc class MvcConfig implements WebMvcConfigurer { @Override private void addCorsMappings ( CorsRegistry registry ) { // \u8bbe\u7f6e\u5141\u8bb8\u8de8\u57df\u7684\u8def\u5f84 registry . addMapping ( \"/hello\" ) // \u8bbe\u7f6e\u5141\u8bb8\u8de8\u57df\u8bf7\u6c42\u7684\u57df\u540d . allowedOriginsPatterns ( \"http://localhost:8080\" ); } }","title":"\u5b9e\u73b0 WebMvcConfigurer.addCorsMappings \u65b9\u6cd5"},{"location":"%E5%90%8E%E7%AB%AF/SpringSecurity/#corsfilter","text":"@Configuration public class CorsConfig { @Bean public CorsWebFilter corsWebFilter () { CorsConfiguration configuration = new CorsConfiguration (); configuration . addAllowedHeader ( \"*\" ); configuration . addAllowedOrigin ( \"*\" ); configuration . addAllowedMethod ( \"*\" ); UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource ( new PathPatternParser ()); source . registerCorsConfiguration ( \"/**\" , configuration ); return new CorsWebFilter ( source ); } }","title":"\u6ce8\u5165 CorsFilter"},{"location":"%E5%90%8E%E7%AB%AF/SpringSecurity/#spring-security","text":"\u5728\u5f15\u5165 Spring Security \u4e4b\u540e\uff0c \u4f1a\u7531\u4e8e Spring Security \u81ea\u52a8\u5bf9\u9884\u68c0\u8bf7\u6c42\u8fdb\u884c\u9274\u6743 \uff0c\u800c\u5bfc\u81f4\u6bcf\u6b21\u9884\u68c0\u8bf7\u6c42\u90fd\u4f1a\u5f97\u5230\u4e00\u4e2a 401 \u7684\u72b6\u6001\u7801\uff0c\u8868\u793a\u8bf7\u6c42\u672a\u88ab\u6388\u6743\u3002\u6b64\u65f6\u9700\u8981\u589e\u52a0\u4e00\u70b9\u914d\u7f6e\u624d\u80fd\u8ba9 CORS \u6b63\u5e38\u5de5\u4f5c\uff1a \u6ce8\uff1a\u5728\u5f15\u5165 Spring Gateway \u4e2d\uff0cCORS \u53ef\u4ee5\u901a\u8fc7 Spring Gateway \u89e3\u51b3\uff0c\u6b64\u65f6\u4e0d\u518d\u4f1a\u51fa\u73b0\u9884\u68c0\u8bf7\u6c42\u88ab Spring Security \u62e6\u622a\u7684\u60c5\u51b5 \uff0c\u56e0\u6b64\u65e0\u9700\u5728\u6388\u6743\u6a21\u5757\u7684 Spring Security \u4e2d\u9488\u5bf9 CORS \u4f5c\u989d\u5916\u914d\u7f6e @Configuration public class SecurityConfig extends WebSecurityConfigurerAdapter { @Override protected void configure ( HttpSecurity http ) throws Exception { http . cors (); } } \u5728 cors() \u4e2d\uff0cSpring Security \u4f1a\u4fdd\u8bc1\u901a\u8fc7 Spring Context \u6216\u6839\u636e CorsConfiguration \u914d\u7f6e\u521b\u5efa\u4f7f\u5f97 CorsFilter \u5b58\u5728\u5e76\u4f7f\u5176\u5728\u8eab\u4efd\u9a8c\u8bc1\u76f8\u5173\u7684 Filter \u4e4b\u524d\u6267\u884c\uff0c\u5373\u5f15\u7528 Spring Security \u540e\uff0c cors() \u4f1a\u9ed8\u8ba4\u5728 DispatcherServlet \u524d\u8fdb\u884c\u4e00\u6b21 CORS \u9a8c\u8bc1\uff0c\u800c\u5b9e\u73b0 WebMvcConfiguration \u7684\u65b9\u5f0f\u8fdb\u884c\u7684 CORS \u914d\u7f6e\u6700\u540e\u4f1a\u5728 Spring \u7684 Interceptor \u6216 Handler \u4e2d\u751f\u6548\uff0c\u56e0\u6b64 cors() + WebMvcConfiguration.addCorsMappings \u7684\u65b9\u6cd5\u662f\u4e00\u79cd\u76f8\u5bf9\u4f4e\u6548\u7684\u65b9\u5f0f\uff0c\u4f1a\u5bfc\u81f4\u8de8\u57df\u8bf7\u6c42\u5206\u522b\u5728 Filter \u548c Interceptor \u5c42\u5404\u7ecf\u5386\u4e00\u6b21 CORS \u9a8c\u8bc1","title":"Spring Security \u4e2d\u7684\u914d\u7f6e"},{"location":"%E5%90%8E%E7%AB%AF/SpringSecurity/#csrf","text":"","title":"CSRF"},{"location":"%E5%90%8E%E7%AB%AF/SpringSecurity/#csrf_1","text":"","title":"CSRF\u7684\u653b\u51fb\u624b\u6bb5"},{"location":"%E5%90%8E%E7%AB%AF/SpringSecurity/#csrf_2","text":"Spring Security \u5185\u7f6e\u7684 CSRF \u9632\u5fa1\u624b\u6bb5\u662f\u901a\u8fc7\u751f\u6210 CSRF Token \u8fd4\u56de\u7ed9\u7528\u6237\u8fbe\u6210\u7684\uff0c\u800c\u8fd9\u672c\u8eab\u5c31\u4e0ejwt\u7684\u8ba4\u8bc1\u624b\u6bb5\u4e00\u81f4 \u524d\u540e\u7aef\u5206\u79bb\u9879\u76ee\u91c7\u7528 jwt \u8fdb\u884c\u8ba4\u8bc1\uff0c\u8fd9\u4f1a\u8981\u6c42\u524d\u7aef\u5728\u767b\u5f55\u540e\u4ece Response Headers \u4e2d\u53d6\u51fa token \u5e76\u5c06\u5176\u5b58\u5165 localStorage \u4e2d\uff08\u53ea\u8003\u8651\u524d\u7aef\u4ee3\u7801\u7684\u8bdd\uff0c\u5982 Vue \u4ee3\u7801\u4e2d\u5c31\u662f\u524d\u7aef\u5e94\u7528\u7684 user.state.token \u4e2d\uff09\uff0c\u7136\u540e\u5728\u540e\u7eed\u8bbf\u95ee\u65f6\u901a\u8fc7\u524d\u7aef\u4ee3\u7801\u5c06 token \u5c01\u88c5\u8fdb\u8bf7\u6c42\u5934\u518d\u8fdb\u884c\u8bf7\u6c42 \u800c\u5728 CSRF \u653b\u51fb\u4e2d\uff0c\u7528\u6237\u88ab\u8bf1\u5bfc\u53d1\u9001\u8bf7\u6c42\u65f6\u7531\u4e8e\u6d4f\u89c8\u5668\u5e76\u672a\u6267\u884c\u7ad9\u70b9A\u7684\u524d\u7aef\u7a0b\u5e8f\uff0c\u56e0\u6b64\u8fd9\u4e2a\u8bf1\u5bfc\u8bf7\u6c42\u53ea\u4f1a\u6839\u636e\u6d4f\u89c8\u5668\u903b\u8f91\u5c01\u88c5\u4e00\u4e2a\u8bf7\u6c42\u5fc5\u8981\u7684\u4fe1\u606f\u53ca cookie \u8fdb\u8bf7\u6c42\u5934\uff0c\u800c\u4e0d\u4f1a\u5c06\u4f5c\u4e3a\u524d\u7aef\u7a0b\u5e8f\u4fe1\u606f\u4e00\u90e8\u5206\u7684\u7528\u6237 token \u5c01\u88c5\u5230\u8bf7\u6c42\u5934\uff0c\u7531\u6b64\u8fbe\u6210 CSRF \u9632\u5fa1\u7684\u6548\u679c","title":"\u524d\u540e\u7aef\u5206\u79bb\u9879\u76ee\u5bf9 CSRF \u7684\u6297\u6027"},{"location":"%E5%90%8E%E7%AB%AF/%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%95%B0%E6%8D%AE%E7%BB%B4%E6%8C%81%E7%9A%84%E6%96%B9%E5%BC%8F/","text":"\u5ba2\u6237\u7aef\u6570\u636e\u7ef4\u6301\u7684\u65b9\u5f0f \u00b6 \u5728\u8fdb\u884c\u540e\u7aef\u7f16\u7a0b\u65f6\uff0c\u4e00\u4e2a\u7ed5\u4e0d\u5f00\u7684\u95ee\u9898\u5c31\u662f\u5982\u4f55\u7ef4\u6301\u7528\u6237\u5ba2\u6237\u7aef\u7684\u6570\u636e\uff08\u6700\u5e38\u89c1\u7684\u6570\u636e\u4fbf\u662f\u767b\u5f55\u6570\u636e\uff09\u3002 \u5f53\u524d\u7684\u5ba2\u6237\u7aef\u6570\u636e\u7ef4\u6301\u65b9\u5f0f\u5927\u62b5\u5206\u4e3a\uff1aCookie\u3001Session\u3001Token\uff08\u4ee5\u53ca\u57fa\u4e8e Token \u65b9\u5f0f\u53d1\u5c55\u7684 Jwt \u65b9\u5f0f\uff09\u3002 Cookie \u00b6 Cookie \u662f\u670d\u52a1\u5668\u53d1\u9001\u5012\u7528\u6237\u6d4f\u89c8\u5668\u5e76\u4fdd\u5b58\u5728\u672c\u5730\u7684\u4e00\u5c0f\u5757\u6570\u636e\uff0c\u6d4f\u89c8\u5668\u4fdd\u5b58 Cookie \u4e4b\u540e\u518d\u5411\u670d\u52a1\u5668\u53d1\u9001\u8bf7\u6c42\u65f6\u4fbf\u4f1a\u4e00\u5e76\u643a\u5e26\u4e0a Cookie\uff0c\u4ece\u800c\u7528\u4e8e\u544a\u77e5\u670d\u52a1\u5668\u8be5\u8bf7\u6c42\u6765\u81ea\u4e4b\u524d\u53d1\u9001 Cookie \u7ed9\u7684\u540c\u4e00\u5ba2\u6237\u7aef\uff0c\u8ba9\u65e0\u72b6\u6001\u7684 HTTP \u5f97\u4ee5\u4fdd\u6301\u5305\u62ec\u7528\u6237\u7684\u767b\u5165\u72b6\u6001\u7b49\u7684\u72b6\u6001\u4fe1\u606f\u3002 Cookie \u66fe\u4e00\u5ea6\u7528\u4e8e\u5ba2\u6237\u7aef\u6570\u636e\u7684\u552f\u4e00\u5b58\u50a8\uff0c\u56e0\u4e3a\u5f53\u65f6\u5e76\u6ca1\u6709\u5176\u4ed6\u5408\u9002\u7684\u5b58\u50a8\u65b9\u6cd5\uff0c\u6240\u4ee5 Cookie \u662f\u552f\u4e00\u7684\u5b58\u50a8\u624b\u6bb5\u3002\u7136\u800c\u968f\u7740\u66f4\u65b0\u7684\u5b58\u50a8\u624b\u6bb5\u51fa\u73b0\uff0cCookie \u4ecd\u672a\u88ab\u629b\u5f03\uff0c\u56e0\u4e3a Cookie \u7684\u5ba2\u6237\u7aef\u53d1\u9001\u6027\u8d28\u53ef\u4ee5\u964d\u4f4e\u670d\u52a1\u5668\u7aef\u7684\u538b\u529b\uff0c\u7528\u6765\u5b58\u50a8\u4e00\u4e9b\u76f8\u5bf9\u4e0d\u90a3\u4e48\u91cd\u8981\u7684\u4fe1\u606f\uff0c\u5982\u7528\u6237\u4e60\u60ef\u3002 Cookie \u5b58\u5728\u5b89\u5168\u6027\u95ee\u9898\uff0c\u56e0\u4e3a\u5176\u6d4f\u89c8\u5668\u81ea\u52a8\u53d1\u9001\u7684\u7279\u6027\u4f7f\u5176\u53ef\u4ee5\u5f88\u65b9\u4fbf\u5730\u88ab\u83b7\u53d6\uff0c\u6240\u4ee5\u4e3a\u907f\u514d\u906d\u53d7 CRSF \u653b\u51fb\u5bfc\u81f4 Cookie \u76d7\u7528\u7b49\u60c5\u51b5\uff0c\u73b0\u4eca\u5df2\u5f88\u5c11\u4f7f\u7528 Cookie \u8fdb\u884c\u767b\u5f55\u9a8c\u8bc1\u3002 CSRF\uff08Cross-site request forgery\uff09\u8de8\u7ad9\u8bf7\u6c42\u4f2a\u9020\uff1a\u8bf1\u5bfc\u53d7\u5bb3\u8005\u70b9\u5165\u4e00\u4e2a\u6709\u7740\u5411\u88ab\u653b\u51fb\u7f51\u7ad9\u53d1\u9001\u7279\u5b9a\u8bf7\u6c42\u7684\u865a\u5047\u7f51\u7ad9\uff0c\u4f7f\u5f97\u53d7\u5bb3\u8005\u7684\u6d4f\u89c8\u5668\u4f7f\u7528\u53d7\u5bb3\u8005\u7684 Cookie \u5b8c\u6210\u8be5\u7279\u5b9a\u8bf7\u6c42\u3002 \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0cCSRF \u653b\u51fb\u5e76\u975e\u76f4\u63a5\u83b7\u53d6\u53d7\u5bb3\u4eba\u7684 Cookie \u7b49\u4fe1\u606f\uff0c\u800c\u662f\u5229\u7528\u53d7\u5bb3\u4eba\u7684\u6d4f\u89c8\u5668\u53d1\u9001\u5e26\u6709 Cookie \u7684\u8bf7\u6c42\u5b8c\u6210\u653b\u51fb\uff0c\u7c7b\u4f3c\u4e8e\u501f\u5200\u6740\u4eba\u3002 Cookie \u7684\u5927\u81f4\u7ed3\u6784\u5305\u542b\uff1a\u540d\u79f0\u3001\u5185\u5bb9\u3001\u57df\u540d\u3001\u8def\u5f84\u3001\u53d1\u9001\u539f\u56e0\u3001\u811a\u672c\u53ef\u8bbf\u95ee\u6027\u3001\u521b\u5efa\u65f6\u95f4\u3001\u5230\u671f\u65f6\u95f4\u3002 \u8fd9\u91cc\u9700\u8981\u8bf4\u660e\u4e0b Cookie \u7684\u57df\u540d\u3002 Cookie \u7684\u57df\u540d Domain \u00b6 Cookie \u7684\u57df\u540d\u4e5f\u88ab\u79f0\u4f5c\u4f5c\u7528\u57df\uff0c\u662f\u5e26\u6765\u8de8\u57df\u95ee\u9898\u4f7f\u5f97 Cookie \u4e0d\u7b26\u5408\u73b0\u4ee3\u7f51\u7edc\u5e94\u7528\u9700\u8981\u7684\u539f\u56e0\u4e4b\u4e00\u3002 Path \u6807\u8bc6\u7684\u662f\u6307\u5b9a\u4e3b\u673a\u4e0b\u7684\u54ea\u4e9b\u8def\u5f84\u53ef\u4ee5\u63a5\u53d7 Cookie Domain \u6807\u8bc6\u4e3a\u4fdd\u8bc1\u5b89\u5168\uff0c\u6307\u5b9a\u4e86\u54ea\u4e9b\u4e3b\u673a\u53ef\u4ee5\u63a5\u53d7 Cookie\u3002\u82e5 Cookie \u4e2d\u4e0d\u6307\u5b9a Domain\uff0c\u5219\u9ed8\u8ba4\u503c\u4e3a\u5f53\u524d\u6587\u6863\u7684\u4e3b\u673a\uff08\u4e0d\u5305\u62ec\u4e3b\u673a\u4e0b\u7684\u5b50\u57df\u540d\uff0c\u5982\u5f53 Domain \u7684\u503c\u4e3a demo.com \u65f6\uff0cCookie \u4f9d\u7136\u65e0\u6cd5\u88ab demo.service1.com \u83b7\u53d6\uff09\uff1b\u82e5\u6307\u5b9a\u4e86 Domain \uff0c\u5219\u4e00\u822c\u4e5f\u80fd\u5305\u542b\u5b50\u57df\u540d\uff0c\u5982\u6709\u4e24\u4e2a\u57df domain1.test.com \u548c domain2.test.com \uff0c\u6b64\u65f6\u6307\u5b9a Domain \u503c\u4e3a .test.com \uff0c\u5219 cookie \u53ef\u540c\u65f6\u8bbf\u95ee\u5230\u4e24\u4e2a\u57df\u3002 \u7efc\u4e0a\uff0c\u4e00\u4e9b\u5927\u7f51\u7ad9\u4e0a\u4f7f\u7528 Cookie \u7684\u573a\u666f\u4e2d\u5e38\u89c1\u5982\u4e0b Cookies : \u4e0a\u56fe\u4e2d\uff0cCookie \u7684\u57df\u4e3a\u7f51\u7ad9\u7684\u4e00\u4e8c\u7ea7\u57df\u540d\uff0c\u8fd9\u4f7f\u5f97 Cookie \u53ef\u4ee5\u88ab\u4e0d\u540c\u7684\u4e09\u7ea7\u57df\u5171\u4eab\uff0c\u5982\uff1a \u800c\u5bf9\u4e8e\u4e09\u7ea7\u57df\u72ec\u4eab\u7684 Cookies\uff0c\u5176\u57df\u503c\u5219\u4e3a\uff1a Cookie + Redis \u4f5c\u4e3a SSO \u5355\u70b9\u767b\u5f55\u65b9\u6848 \u00b6 \u5f53\u5e94\u7528\u5305\u542b\u591a\u4e2a\u670d\u52a1\u65f6\u4fbf\u9700\u8981\u505a\u5355\u70b9\u767b\u5f55\uff0c\u800c\u5176\u4e2d\u4e00\u79cd\u5e38\u7528\u7684\u65b9\u5f0f\u4fbf\u662f Cookie + Redis \u7684 SSO \u65b9\u5f0f\uff0c\u8fd9\u4e2a\u65b9\u5f0f\u5f53\u7136\u4e5f\u53ef\u4ee5\u7528 jwt \u7b49\u8fdb\u884c\u767b\u5f55\uff0c\u7136\u540e\u4f7f\u7528 Cookie + Redis \u6765\u7ef4\u6301\u72b6\u6001\u4ece\u800c\u51cf\u5c11\u670d\u52a1\u7aef\u7684\u8ba1\u7b97\u91cf\uff0c\u4f46\u76f8\u6bd4\u5355\u7eaf\u7684 jwt \u5f53\u7136\u4f1a\u5b58\u5728\u5b89\u5168\u98ce\u9669\u3002 \u6b64\u65b9\u5f0f\u4e2d\u4e00\u822c\u9700\u8981\u8bbe\u7acb\u4e00\u4e2a\u767b\u5f55\u670d\u52a1\uff0c\u5e76\u5728\u767b\u5f55\u540e\u751f\u6210\u4e00\u4e2a\u968f\u673a\u503c\u4f5c\u4e3a\u7528\u6237\u6570\u636e\u5728 redis \u4e2d\u5b58\u50a8\u7684 key \u503c\uff0c\u800c\u5c06\u7528\u6237\u6570\u636e\u5b58\u5165 value\uff0c\u540c\u65f6\u9881\u53d1\u6307\u5b9a\u4e86\u65b9\u4fbf\u62d3\u5c55\u7684\u57df\u503c\u7684 Cookie\uff0c\u5728\u5176\u4e2d\u5b58\u50a8\u65b9\u624d redis \u7684\u7528\u6237 key \u503c\u3002 \u6b64\u65f6\u6240\u6709\u670d\u52a1\u5747\u53ef\u5728\u83b7\u53d6 Cookie \u540e\u63d0\u53d6 key \u503c\uff0c\u5230 redis \u6839\u636e key \u503c\u8fdb\u884c\u67e5\u8be2\uff0c\u82e5\u67e5\u8be2\u5230\u6570\u636e\u5219\u4e3a\u767b\u5f55\u6a21\u5f0f\u3002 Session \u65b9\u5f0f \u00b6 \u9664\u4e86\u53ef\u4ee5\u5c06\u7528\u6237\u4fe1\u606f\u901a\u8fc7 Cookie \u5b58\u50a8\u5728\u7528\u6237\u6d4f\u89c8\u5668\u4e2d\uff0c\u4e5f\u53ef\u4ee5\u5229\u7528 Session \u5c06\u4fe1\u606f\u5b58\u50a8\u5728\u670d\u52a1\u7aef\uff0c\u7531\u6b64\u4fbf\u4e3a\u65e9\u671f\u7684 Cookie + Session \u7528\u6237\u72b6\u6001\u7ef4\u6301\u65b9\u6848\uff1a \u7528\u6237\u767b\u5f55 \u670d\u52a1\u5668\u9a8c\u8bc1\u7528\u6237\u540d\u548c\u5bc6\u7801\uff0c\u6b63\u786e\u5219\u5c06\u4fe1\u606f\u653e\u5165 Session\uff0c\u4fe1\u606f\u7684 key \u503c\u8bb0\u4e3a Session ID \u5728\u670d\u52a1\u5668\u54cd\u5e94\u62a5\u6587\u4e2d\u7684\u9996\u90e8\u5b57\u6bb5 Set-Cookie \u4e2d\u5305\u542b\u6b64 Session ID\uff0c\u4f7f\u5f97\u5ba2\u6237\u7aef\u6536\u5230\u54cd\u5e94\u62a5\u6587\u540e\u5c06\u8be5 Cookie \u5b58\u5165\u6d4f\u89c8\u5668\u4e2d \u4e4b\u540e\u7528\u6237\u8bbf\u95ee\u670d\u52a1\u7aef\u65f6\u4fbf\u4f1a\u643a\u5e26\u8be5 Cookie\uff0c\u670d\u52a1\u7aef\u5728\u6536\u5230\u8bf7\u6c42\u540e\u6839\u636e Cookie \u4e2d\u7684 Session ID \u53bb\u7528\u5b58\u50a8\u5728 Session \u4e2d\u7684\u4fe1\u606f\u8fdb\u884c\u64cd\u4f5c \u53ef\u4ee5\u770b\u5230\uff0cSession \u65b9\u5f0f\u672c\u8d28\u4e0a\u548c Redis \u5e76\u65e0\u592a\u5927\u5dee\u522b\uff0c\u4f46\u662f Session \u5b58\u5728\u8de8\u57df\u95ee\u9898\uff1a\u591a\u4e2a\u670d\u52a1\u7aef\u4e0d\u4f1a\u5171\u4eab\u540c\u4e00\u4e2a Session\uff0c\u56e0\u6b64\u82e5\u8981\u4f7f\u7528\u6b64\u65b9\u5f0f\u8fdb\u884c\u73b0\u4ee3\u7f51\u9875\u5e94\u7528\u7a0b\u5e8f\u7684\u7528\u6237\u4fe1\u606f\u7ef4\u6301\u65b9\u6848\uff0c\u5fc5\u987b\u8fdb\u884c Session \u5e7f\u64ad\uff0c\u4e5f\u5373\u5c06 Session \u590d\u5236\u5230\u6240\u6709\u670d\u52a1\u4e2d\u53bb\u3002\u5f88\u660e\u663e\u5730\uff0c\u8fd9\u4f1a\u5e26\u6765\u989d\u5916\u7684\u5f00\u9500\u3002 \u56e0\u6b64 Session \u65b9\u5f0f\u53ef\u4ee5\u8bf4\u88ab\u65f6\u4ee3\u6dd8\u6c70\u4e86\u3002 token\u65b9\u5f0f \u00b6 token \u662f\u4e00\u4e2a\u5b58\u50a8\u7740\u7528\u6237\u767b\u5f55\u4fe1\u606f\u7684\u5b57\u7b26\u4e32\uff0c\u5177\u6709\u5929\u751f\u9632\u6b62 CRSF \u653b\u51fb\u7684\u7279\u6027\uff0c\u540e\u7aef\u6536\u5230\u8bf7\u6c42\u540e\u5bf9\u7528\u6237\u767b\u5f55\u4fe1\u606f\u8fdb\u884c\u52a0\u5bc6\uff0c\u5e76\u751f\u6210\u4e00\u4e2a token \u5c06\u4fe1\u606f\u4fdd\u5b58\u81f3\u5176\u4e2d\u540e\u4ea4\u7ed9\u524d\u7aef\uff0c\u540c\u65f6\u5728\u6570\u636e\u5e93\u4e2d\u4fdd\u5b58\u8be5 token\uff0c\u524d\u7aef\u518d\u5c06 token \u8f6c\u53d1\u7ed9\u6d4f\u89c8\u5668\uff0c\u7531\u6d4f\u89c8\u5668\u4fdd\u5b58 token\u3002 \u8f6c\u53d1 token \u65f6\u5e94\u5c06\u5176\u653e\u5728\u54cd\u5e94\u5934\u4e2d\uff0c\u4f7f\u7528\u6d4f\u89c8\u5668\u7684 local storage \u6216 Cookie \u8fdb\u884c\u5b58\u50a8\uff0c\u518d\u6b21\u8bbf\u95ee\u65f6\u518d\u7531\u524d\u7aef\u5c06\u5176\u53d6\u51fa\u540e\u7f6e\u5165\u8bf7\u6c42\u5934\u4f7f\u7528\uff08\u5982\u6839\u636e token \u52a8\u6001\u751f\u6210\u9875\u9762\uff0c\u6216\u5c06\u5176\u8f6c\u53d1\u7ed9\u540e\u7aef\uff09\uff0c\u4ece\u800c\u4f7f\u5f97\u653b\u51fb\u8005\u65e0\u6cd5\u901a\u8fc7 CRSF \u653b\u51fb\u6765\u4f2a\u88c5\u6210\u53d7\u5bb3\u4eba\u8fdb\u884c\u4e0d\u5b89\u5168\u7684\u64cd\u4f5c\uff0c\u6b64\u65f6\u524d\u7aef\u7684\u4ee3\u7801\u53ef\u4ee5\u5982\u4e0b\uff1a // \u8bbe\u7f6e\u62e6\u622a\u5668 service . interceptors . request . use (( config ) => { if ( cookie . get ( 'token' )) { // \u5ba2\u6237\u6301\u6709\u540d\u4e3atoken\u7684cookie\u65f6\u5c06\u5176\u53d6\u51fa\u653e\u5165\u8bf7\u6c42\u5934 config . headers [ 'token' ] = cookie . get ( 'token' ) } return config }) \u800c\u5f53\u540e\u7aef\u6536\u5230 token \u540e\u4f1a\u67e5\u8be2\u6570\u636e\u5e93\u9a8c\u8bc1 token \u662f\u5426\u6709\u6548\uff0c\u8fd9\u4f7f\u5f97\u6b64\u65b9\u5f0f\u5177\u6709\u4e2d\u5fc3\u5316\u7279\u6027\uff0c\u9700\u4f9d\u8d56\u5185\u5b58\u6216 redis \u5b58\u50a8\uff0c\u4e14\u5728\u5206\u5e03\u5f0f\u7cfb\u7edf\u4e2d\u9700\u8981 redis \u67e5\u8be2\u548c\u63a5\u53e3\u8c03\u7528\u4ece\u800c\u589e\u52a0\u7cfb\u7edf\u590d\u6742\u6027\u3002 jwt \uff08Json web token\uff09 \u00b6 Jwt \u65b9\u5f0f\u672c\u8d28\u4e0a\u4e5f\u662f\u4e00\u79cd token \u65b9\u5f0f\uff0c\u53ea\u662f\u4e3a\u907f\u514d\u989d\u5916\u7684\u6570\u636e\u5e93\u67e5\u8be2\u5f00\u9500\uff0c\u4e3a token \u591a\u52a0\u4e00\u4e2a payload \uff08\u8f7d\u8377\uff09\uff0c\u5c06\u7528\u6237\u6570\u636e\u5b58\u5165 payload \u5e76\u5bf9\u6574\u4e2a jwt \u8fdb\u884c\u7b7e\u540d\u548c\u52a0\u5bc6\uff1b\u7531\u6b64\uff0c\u670d\u52a1\u7aef\u53ea\u9700\u5bf9 token \u7684\u7b7e\u540d\u8fdb\u884c\u89e3\u5bc6\u6821\u9a8c\u5373\u53ef\u4f7f\u7528\u5b58\u5165\u5176\u4e2d\u7684\u7528\u6237\u4fe1\u606f\u8fdb\u884c\u540e\u7eed\u7684\u4e1a\u52a1\uff0c\u4ece\u800c\u7701\u7565\u4e86\u6570\u636e\u5e93\u7684\u67e5\u8be2\u3002 \u8fd9\u79cd\u65b9\u5f0f\u4f1a\u5bfc\u81f4\u8bf7\u6c42\u5934\u590d\u6742\u5ea6\u7684\u589e\u52a0\u3001\u670d\u52a1\u7aef\u65e0\u6cd5\u81ea\u884c\u5220\u9664 token \u4ee5\u53ca\u53ef\u80fd\u7684\u5bc6\u94a5\u6cc4\u9732\u98ce\u9669\uff1b\u4f46\u662f\u5176\u65e0\u9700\u67e5\u8be2\u6570\u636e\u5e93\u7684\u7279\u6027\u4f7f\u5f97\u5176\u9488\u5bf9\u5206\u5e03\u5f0f\u5e94\u7528\u65f6\u5177\u6709\u53bb\u4e2d\u5fc3\u5316\u7684\u7279\u6027\uff0c\u589e\u52a0\u5e94\u7528\u6027\u80fd\uff0c\u4ee5\u53ca\u4e3a\u7b2c\u4e09\u65b9\u4e1a\u52a1\u670d\u52a1\u63d0\u4f9b\u7528\u6237\u4fe1\u606f\u65f6\uff0c\u4e1a\u52a1\u670d\u52a1\u53ea\u9700\u4f7f\u7528\u516c\u94a5\u9a8c\u8bc1 jwt \u7684\u771f\u5b9e\u6027\u4fbf\u53ef\u4f7f\u7528\u5176\u4e2d\u63d0\u4f9b\u7684\u5185\u5bb9\u3002 \u56e0\u6b64\uff0c\u4e5f\u6709\u4e00\u90e8\u5206\u516c\u53f8\u5e76\u4e0d\u5355\u72ec\u4f7f\u7528 jwt \u4f5c\u4e3a\u8bbf\u95ee\u51ed\u8bc1\uff0c\u800c\u662f\u5c06\u5176\u4f5c\u4e3a\u53ef\u9760\u7684\u53d1\u5e03\u4fe1\u606f\u4f7f\u7528\uff0c\u800c\u81ea\u8eab\u8fdb\u884c\u8bbf\u95ee\u8ba4\u8bc1\u65f6\u5219\u5355\u72ec\u8bbe\u7f6e\u989d\u5916\u7684\u65b9\u5f0f\u3002","title":"\u5ba2\u6237\u7aef\u6570\u636e\u7ef4\u6301\u7684\u65b9\u5f0f"},{"location":"%E5%90%8E%E7%AB%AF/%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%95%B0%E6%8D%AE%E7%BB%B4%E6%8C%81%E7%9A%84%E6%96%B9%E5%BC%8F/#_1","text":"\u5728\u8fdb\u884c\u540e\u7aef\u7f16\u7a0b\u65f6\uff0c\u4e00\u4e2a\u7ed5\u4e0d\u5f00\u7684\u95ee\u9898\u5c31\u662f\u5982\u4f55\u7ef4\u6301\u7528\u6237\u5ba2\u6237\u7aef\u7684\u6570\u636e\uff08\u6700\u5e38\u89c1\u7684\u6570\u636e\u4fbf\u662f\u767b\u5f55\u6570\u636e\uff09\u3002 \u5f53\u524d\u7684\u5ba2\u6237\u7aef\u6570\u636e\u7ef4\u6301\u65b9\u5f0f\u5927\u62b5\u5206\u4e3a\uff1aCookie\u3001Session\u3001Token\uff08\u4ee5\u53ca\u57fa\u4e8e Token \u65b9\u5f0f\u53d1\u5c55\u7684 Jwt \u65b9\u5f0f\uff09\u3002","title":"\u5ba2\u6237\u7aef\u6570\u636e\u7ef4\u6301\u7684\u65b9\u5f0f"},{"location":"%E5%90%8E%E7%AB%AF/%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%95%B0%E6%8D%AE%E7%BB%B4%E6%8C%81%E7%9A%84%E6%96%B9%E5%BC%8F/#cookie","text":"Cookie \u662f\u670d\u52a1\u5668\u53d1\u9001\u5012\u7528\u6237\u6d4f\u89c8\u5668\u5e76\u4fdd\u5b58\u5728\u672c\u5730\u7684\u4e00\u5c0f\u5757\u6570\u636e\uff0c\u6d4f\u89c8\u5668\u4fdd\u5b58 Cookie \u4e4b\u540e\u518d\u5411\u670d\u52a1\u5668\u53d1\u9001\u8bf7\u6c42\u65f6\u4fbf\u4f1a\u4e00\u5e76\u643a\u5e26\u4e0a Cookie\uff0c\u4ece\u800c\u7528\u4e8e\u544a\u77e5\u670d\u52a1\u5668\u8be5\u8bf7\u6c42\u6765\u81ea\u4e4b\u524d\u53d1\u9001 Cookie \u7ed9\u7684\u540c\u4e00\u5ba2\u6237\u7aef\uff0c\u8ba9\u65e0\u72b6\u6001\u7684 HTTP \u5f97\u4ee5\u4fdd\u6301\u5305\u62ec\u7528\u6237\u7684\u767b\u5165\u72b6\u6001\u7b49\u7684\u72b6\u6001\u4fe1\u606f\u3002 Cookie \u66fe\u4e00\u5ea6\u7528\u4e8e\u5ba2\u6237\u7aef\u6570\u636e\u7684\u552f\u4e00\u5b58\u50a8\uff0c\u56e0\u4e3a\u5f53\u65f6\u5e76\u6ca1\u6709\u5176\u4ed6\u5408\u9002\u7684\u5b58\u50a8\u65b9\u6cd5\uff0c\u6240\u4ee5 Cookie \u662f\u552f\u4e00\u7684\u5b58\u50a8\u624b\u6bb5\u3002\u7136\u800c\u968f\u7740\u66f4\u65b0\u7684\u5b58\u50a8\u624b\u6bb5\u51fa\u73b0\uff0cCookie \u4ecd\u672a\u88ab\u629b\u5f03\uff0c\u56e0\u4e3a Cookie \u7684\u5ba2\u6237\u7aef\u53d1\u9001\u6027\u8d28\u53ef\u4ee5\u964d\u4f4e\u670d\u52a1\u5668\u7aef\u7684\u538b\u529b\uff0c\u7528\u6765\u5b58\u50a8\u4e00\u4e9b\u76f8\u5bf9\u4e0d\u90a3\u4e48\u91cd\u8981\u7684\u4fe1\u606f\uff0c\u5982\u7528\u6237\u4e60\u60ef\u3002 Cookie \u5b58\u5728\u5b89\u5168\u6027\u95ee\u9898\uff0c\u56e0\u4e3a\u5176\u6d4f\u89c8\u5668\u81ea\u52a8\u53d1\u9001\u7684\u7279\u6027\u4f7f\u5176\u53ef\u4ee5\u5f88\u65b9\u4fbf\u5730\u88ab\u83b7\u53d6\uff0c\u6240\u4ee5\u4e3a\u907f\u514d\u906d\u53d7 CRSF \u653b\u51fb\u5bfc\u81f4 Cookie \u76d7\u7528\u7b49\u60c5\u51b5\uff0c\u73b0\u4eca\u5df2\u5f88\u5c11\u4f7f\u7528 Cookie \u8fdb\u884c\u767b\u5f55\u9a8c\u8bc1\u3002 CSRF\uff08Cross-site request forgery\uff09\u8de8\u7ad9\u8bf7\u6c42\u4f2a\u9020\uff1a\u8bf1\u5bfc\u53d7\u5bb3\u8005\u70b9\u5165\u4e00\u4e2a\u6709\u7740\u5411\u88ab\u653b\u51fb\u7f51\u7ad9\u53d1\u9001\u7279\u5b9a\u8bf7\u6c42\u7684\u865a\u5047\u7f51\u7ad9\uff0c\u4f7f\u5f97\u53d7\u5bb3\u8005\u7684\u6d4f\u89c8\u5668\u4f7f\u7528\u53d7\u5bb3\u8005\u7684 Cookie \u5b8c\u6210\u8be5\u7279\u5b9a\u8bf7\u6c42\u3002 \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0cCSRF \u653b\u51fb\u5e76\u975e\u76f4\u63a5\u83b7\u53d6\u53d7\u5bb3\u4eba\u7684 Cookie \u7b49\u4fe1\u606f\uff0c\u800c\u662f\u5229\u7528\u53d7\u5bb3\u4eba\u7684\u6d4f\u89c8\u5668\u53d1\u9001\u5e26\u6709 Cookie \u7684\u8bf7\u6c42\u5b8c\u6210\u653b\u51fb\uff0c\u7c7b\u4f3c\u4e8e\u501f\u5200\u6740\u4eba\u3002 Cookie \u7684\u5927\u81f4\u7ed3\u6784\u5305\u542b\uff1a\u540d\u79f0\u3001\u5185\u5bb9\u3001\u57df\u540d\u3001\u8def\u5f84\u3001\u53d1\u9001\u539f\u56e0\u3001\u811a\u672c\u53ef\u8bbf\u95ee\u6027\u3001\u521b\u5efa\u65f6\u95f4\u3001\u5230\u671f\u65f6\u95f4\u3002 \u8fd9\u91cc\u9700\u8981\u8bf4\u660e\u4e0b Cookie \u7684\u57df\u540d\u3002","title":"Cookie"},{"location":"%E5%90%8E%E7%AB%AF/%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%95%B0%E6%8D%AE%E7%BB%B4%E6%8C%81%E7%9A%84%E6%96%B9%E5%BC%8F/#cookie-domain","text":"Cookie \u7684\u57df\u540d\u4e5f\u88ab\u79f0\u4f5c\u4f5c\u7528\u57df\uff0c\u662f\u5e26\u6765\u8de8\u57df\u95ee\u9898\u4f7f\u5f97 Cookie \u4e0d\u7b26\u5408\u73b0\u4ee3\u7f51\u7edc\u5e94\u7528\u9700\u8981\u7684\u539f\u56e0\u4e4b\u4e00\u3002 Path \u6807\u8bc6\u7684\u662f\u6307\u5b9a\u4e3b\u673a\u4e0b\u7684\u54ea\u4e9b\u8def\u5f84\u53ef\u4ee5\u63a5\u53d7 Cookie Domain \u6807\u8bc6\u4e3a\u4fdd\u8bc1\u5b89\u5168\uff0c\u6307\u5b9a\u4e86\u54ea\u4e9b\u4e3b\u673a\u53ef\u4ee5\u63a5\u53d7 Cookie\u3002\u82e5 Cookie \u4e2d\u4e0d\u6307\u5b9a Domain\uff0c\u5219\u9ed8\u8ba4\u503c\u4e3a\u5f53\u524d\u6587\u6863\u7684\u4e3b\u673a\uff08\u4e0d\u5305\u62ec\u4e3b\u673a\u4e0b\u7684\u5b50\u57df\u540d\uff0c\u5982\u5f53 Domain \u7684\u503c\u4e3a demo.com \u65f6\uff0cCookie \u4f9d\u7136\u65e0\u6cd5\u88ab demo.service1.com \u83b7\u53d6\uff09\uff1b\u82e5\u6307\u5b9a\u4e86 Domain \uff0c\u5219\u4e00\u822c\u4e5f\u80fd\u5305\u542b\u5b50\u57df\u540d\uff0c\u5982\u6709\u4e24\u4e2a\u57df domain1.test.com \u548c domain2.test.com \uff0c\u6b64\u65f6\u6307\u5b9a Domain \u503c\u4e3a .test.com \uff0c\u5219 cookie \u53ef\u540c\u65f6\u8bbf\u95ee\u5230\u4e24\u4e2a\u57df\u3002 \u7efc\u4e0a\uff0c\u4e00\u4e9b\u5927\u7f51\u7ad9\u4e0a\u4f7f\u7528 Cookie \u7684\u573a\u666f\u4e2d\u5e38\u89c1\u5982\u4e0b Cookies : \u4e0a\u56fe\u4e2d\uff0cCookie \u7684\u57df\u4e3a\u7f51\u7ad9\u7684\u4e00\u4e8c\u7ea7\u57df\u540d\uff0c\u8fd9\u4f7f\u5f97 Cookie \u53ef\u4ee5\u88ab\u4e0d\u540c\u7684\u4e09\u7ea7\u57df\u5171\u4eab\uff0c\u5982\uff1a \u800c\u5bf9\u4e8e\u4e09\u7ea7\u57df\u72ec\u4eab\u7684 Cookies\uff0c\u5176\u57df\u503c\u5219\u4e3a\uff1a","title":"Cookie \u7684\u57df\u540d Domain"},{"location":"%E5%90%8E%E7%AB%AF/%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%95%B0%E6%8D%AE%E7%BB%B4%E6%8C%81%E7%9A%84%E6%96%B9%E5%BC%8F/#cookie-redis-sso","text":"\u5f53\u5e94\u7528\u5305\u542b\u591a\u4e2a\u670d\u52a1\u65f6\u4fbf\u9700\u8981\u505a\u5355\u70b9\u767b\u5f55\uff0c\u800c\u5176\u4e2d\u4e00\u79cd\u5e38\u7528\u7684\u65b9\u5f0f\u4fbf\u662f Cookie + Redis \u7684 SSO \u65b9\u5f0f\uff0c\u8fd9\u4e2a\u65b9\u5f0f\u5f53\u7136\u4e5f\u53ef\u4ee5\u7528 jwt \u7b49\u8fdb\u884c\u767b\u5f55\uff0c\u7136\u540e\u4f7f\u7528 Cookie + Redis \u6765\u7ef4\u6301\u72b6\u6001\u4ece\u800c\u51cf\u5c11\u670d\u52a1\u7aef\u7684\u8ba1\u7b97\u91cf\uff0c\u4f46\u76f8\u6bd4\u5355\u7eaf\u7684 jwt \u5f53\u7136\u4f1a\u5b58\u5728\u5b89\u5168\u98ce\u9669\u3002 \u6b64\u65b9\u5f0f\u4e2d\u4e00\u822c\u9700\u8981\u8bbe\u7acb\u4e00\u4e2a\u767b\u5f55\u670d\u52a1\uff0c\u5e76\u5728\u767b\u5f55\u540e\u751f\u6210\u4e00\u4e2a\u968f\u673a\u503c\u4f5c\u4e3a\u7528\u6237\u6570\u636e\u5728 redis \u4e2d\u5b58\u50a8\u7684 key \u503c\uff0c\u800c\u5c06\u7528\u6237\u6570\u636e\u5b58\u5165 value\uff0c\u540c\u65f6\u9881\u53d1\u6307\u5b9a\u4e86\u65b9\u4fbf\u62d3\u5c55\u7684\u57df\u503c\u7684 Cookie\uff0c\u5728\u5176\u4e2d\u5b58\u50a8\u65b9\u624d redis \u7684\u7528\u6237 key \u503c\u3002 \u6b64\u65f6\u6240\u6709\u670d\u52a1\u5747\u53ef\u5728\u83b7\u53d6 Cookie \u540e\u63d0\u53d6 key \u503c\uff0c\u5230 redis \u6839\u636e key \u503c\u8fdb\u884c\u67e5\u8be2\uff0c\u82e5\u67e5\u8be2\u5230\u6570\u636e\u5219\u4e3a\u767b\u5f55\u6a21\u5f0f\u3002","title":"Cookie + Redis \u4f5c\u4e3a SSO \u5355\u70b9\u767b\u5f55\u65b9\u6848"},{"location":"%E5%90%8E%E7%AB%AF/%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%95%B0%E6%8D%AE%E7%BB%B4%E6%8C%81%E7%9A%84%E6%96%B9%E5%BC%8F/#session","text":"\u9664\u4e86\u53ef\u4ee5\u5c06\u7528\u6237\u4fe1\u606f\u901a\u8fc7 Cookie \u5b58\u50a8\u5728\u7528\u6237\u6d4f\u89c8\u5668\u4e2d\uff0c\u4e5f\u53ef\u4ee5\u5229\u7528 Session \u5c06\u4fe1\u606f\u5b58\u50a8\u5728\u670d\u52a1\u7aef\uff0c\u7531\u6b64\u4fbf\u4e3a\u65e9\u671f\u7684 Cookie + Session \u7528\u6237\u72b6\u6001\u7ef4\u6301\u65b9\u6848\uff1a \u7528\u6237\u767b\u5f55 \u670d\u52a1\u5668\u9a8c\u8bc1\u7528\u6237\u540d\u548c\u5bc6\u7801\uff0c\u6b63\u786e\u5219\u5c06\u4fe1\u606f\u653e\u5165 Session\uff0c\u4fe1\u606f\u7684 key \u503c\u8bb0\u4e3a Session ID \u5728\u670d\u52a1\u5668\u54cd\u5e94\u62a5\u6587\u4e2d\u7684\u9996\u90e8\u5b57\u6bb5 Set-Cookie \u4e2d\u5305\u542b\u6b64 Session ID\uff0c\u4f7f\u5f97\u5ba2\u6237\u7aef\u6536\u5230\u54cd\u5e94\u62a5\u6587\u540e\u5c06\u8be5 Cookie \u5b58\u5165\u6d4f\u89c8\u5668\u4e2d \u4e4b\u540e\u7528\u6237\u8bbf\u95ee\u670d\u52a1\u7aef\u65f6\u4fbf\u4f1a\u643a\u5e26\u8be5 Cookie\uff0c\u670d\u52a1\u7aef\u5728\u6536\u5230\u8bf7\u6c42\u540e\u6839\u636e Cookie \u4e2d\u7684 Session ID \u53bb\u7528\u5b58\u50a8\u5728 Session \u4e2d\u7684\u4fe1\u606f\u8fdb\u884c\u64cd\u4f5c \u53ef\u4ee5\u770b\u5230\uff0cSession \u65b9\u5f0f\u672c\u8d28\u4e0a\u548c Redis \u5e76\u65e0\u592a\u5927\u5dee\u522b\uff0c\u4f46\u662f Session \u5b58\u5728\u8de8\u57df\u95ee\u9898\uff1a\u591a\u4e2a\u670d\u52a1\u7aef\u4e0d\u4f1a\u5171\u4eab\u540c\u4e00\u4e2a Session\uff0c\u56e0\u6b64\u82e5\u8981\u4f7f\u7528\u6b64\u65b9\u5f0f\u8fdb\u884c\u73b0\u4ee3\u7f51\u9875\u5e94\u7528\u7a0b\u5e8f\u7684\u7528\u6237\u4fe1\u606f\u7ef4\u6301\u65b9\u6848\uff0c\u5fc5\u987b\u8fdb\u884c Session \u5e7f\u64ad\uff0c\u4e5f\u5373\u5c06 Session \u590d\u5236\u5230\u6240\u6709\u670d\u52a1\u4e2d\u53bb\u3002\u5f88\u660e\u663e\u5730\uff0c\u8fd9\u4f1a\u5e26\u6765\u989d\u5916\u7684\u5f00\u9500\u3002 \u56e0\u6b64 Session \u65b9\u5f0f\u53ef\u4ee5\u8bf4\u88ab\u65f6\u4ee3\u6dd8\u6c70\u4e86\u3002","title":"Session \u65b9\u5f0f"},{"location":"%E5%90%8E%E7%AB%AF/%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%95%B0%E6%8D%AE%E7%BB%B4%E6%8C%81%E7%9A%84%E6%96%B9%E5%BC%8F/#token","text":"token \u662f\u4e00\u4e2a\u5b58\u50a8\u7740\u7528\u6237\u767b\u5f55\u4fe1\u606f\u7684\u5b57\u7b26\u4e32\uff0c\u5177\u6709\u5929\u751f\u9632\u6b62 CRSF \u653b\u51fb\u7684\u7279\u6027\uff0c\u540e\u7aef\u6536\u5230\u8bf7\u6c42\u540e\u5bf9\u7528\u6237\u767b\u5f55\u4fe1\u606f\u8fdb\u884c\u52a0\u5bc6\uff0c\u5e76\u751f\u6210\u4e00\u4e2a token \u5c06\u4fe1\u606f\u4fdd\u5b58\u81f3\u5176\u4e2d\u540e\u4ea4\u7ed9\u524d\u7aef\uff0c\u540c\u65f6\u5728\u6570\u636e\u5e93\u4e2d\u4fdd\u5b58\u8be5 token\uff0c\u524d\u7aef\u518d\u5c06 token \u8f6c\u53d1\u7ed9\u6d4f\u89c8\u5668\uff0c\u7531\u6d4f\u89c8\u5668\u4fdd\u5b58 token\u3002 \u8f6c\u53d1 token \u65f6\u5e94\u5c06\u5176\u653e\u5728\u54cd\u5e94\u5934\u4e2d\uff0c\u4f7f\u7528\u6d4f\u89c8\u5668\u7684 local storage \u6216 Cookie \u8fdb\u884c\u5b58\u50a8\uff0c\u518d\u6b21\u8bbf\u95ee\u65f6\u518d\u7531\u524d\u7aef\u5c06\u5176\u53d6\u51fa\u540e\u7f6e\u5165\u8bf7\u6c42\u5934\u4f7f\u7528\uff08\u5982\u6839\u636e token \u52a8\u6001\u751f\u6210\u9875\u9762\uff0c\u6216\u5c06\u5176\u8f6c\u53d1\u7ed9\u540e\u7aef\uff09\uff0c\u4ece\u800c\u4f7f\u5f97\u653b\u51fb\u8005\u65e0\u6cd5\u901a\u8fc7 CRSF \u653b\u51fb\u6765\u4f2a\u88c5\u6210\u53d7\u5bb3\u4eba\u8fdb\u884c\u4e0d\u5b89\u5168\u7684\u64cd\u4f5c\uff0c\u6b64\u65f6\u524d\u7aef\u7684\u4ee3\u7801\u53ef\u4ee5\u5982\u4e0b\uff1a // \u8bbe\u7f6e\u62e6\u622a\u5668 service . interceptors . request . use (( config ) => { if ( cookie . get ( 'token' )) { // \u5ba2\u6237\u6301\u6709\u540d\u4e3atoken\u7684cookie\u65f6\u5c06\u5176\u53d6\u51fa\u653e\u5165\u8bf7\u6c42\u5934 config . headers [ 'token' ] = cookie . get ( 'token' ) } return config }) \u800c\u5f53\u540e\u7aef\u6536\u5230 token \u540e\u4f1a\u67e5\u8be2\u6570\u636e\u5e93\u9a8c\u8bc1 token \u662f\u5426\u6709\u6548\uff0c\u8fd9\u4f7f\u5f97\u6b64\u65b9\u5f0f\u5177\u6709\u4e2d\u5fc3\u5316\u7279\u6027\uff0c\u9700\u4f9d\u8d56\u5185\u5b58\u6216 redis \u5b58\u50a8\uff0c\u4e14\u5728\u5206\u5e03\u5f0f\u7cfb\u7edf\u4e2d\u9700\u8981 redis \u67e5\u8be2\u548c\u63a5\u53e3\u8c03\u7528\u4ece\u800c\u589e\u52a0\u7cfb\u7edf\u590d\u6742\u6027\u3002","title":"token\u65b9\u5f0f"},{"location":"%E5%90%8E%E7%AB%AF/%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%95%B0%E6%8D%AE%E7%BB%B4%E6%8C%81%E7%9A%84%E6%96%B9%E5%BC%8F/#jwt-json-web-token","text":"Jwt \u65b9\u5f0f\u672c\u8d28\u4e0a\u4e5f\u662f\u4e00\u79cd token \u65b9\u5f0f\uff0c\u53ea\u662f\u4e3a\u907f\u514d\u989d\u5916\u7684\u6570\u636e\u5e93\u67e5\u8be2\u5f00\u9500\uff0c\u4e3a token \u591a\u52a0\u4e00\u4e2a payload \uff08\u8f7d\u8377\uff09\uff0c\u5c06\u7528\u6237\u6570\u636e\u5b58\u5165 payload \u5e76\u5bf9\u6574\u4e2a jwt \u8fdb\u884c\u7b7e\u540d\u548c\u52a0\u5bc6\uff1b\u7531\u6b64\uff0c\u670d\u52a1\u7aef\u53ea\u9700\u5bf9 token \u7684\u7b7e\u540d\u8fdb\u884c\u89e3\u5bc6\u6821\u9a8c\u5373\u53ef\u4f7f\u7528\u5b58\u5165\u5176\u4e2d\u7684\u7528\u6237\u4fe1\u606f\u8fdb\u884c\u540e\u7eed\u7684\u4e1a\u52a1\uff0c\u4ece\u800c\u7701\u7565\u4e86\u6570\u636e\u5e93\u7684\u67e5\u8be2\u3002 \u8fd9\u79cd\u65b9\u5f0f\u4f1a\u5bfc\u81f4\u8bf7\u6c42\u5934\u590d\u6742\u5ea6\u7684\u589e\u52a0\u3001\u670d\u52a1\u7aef\u65e0\u6cd5\u81ea\u884c\u5220\u9664 token \u4ee5\u53ca\u53ef\u80fd\u7684\u5bc6\u94a5\u6cc4\u9732\u98ce\u9669\uff1b\u4f46\u662f\u5176\u65e0\u9700\u67e5\u8be2\u6570\u636e\u5e93\u7684\u7279\u6027\u4f7f\u5f97\u5176\u9488\u5bf9\u5206\u5e03\u5f0f\u5e94\u7528\u65f6\u5177\u6709\u53bb\u4e2d\u5fc3\u5316\u7684\u7279\u6027\uff0c\u589e\u52a0\u5e94\u7528\u6027\u80fd\uff0c\u4ee5\u53ca\u4e3a\u7b2c\u4e09\u65b9\u4e1a\u52a1\u670d\u52a1\u63d0\u4f9b\u7528\u6237\u4fe1\u606f\u65f6\uff0c\u4e1a\u52a1\u670d\u52a1\u53ea\u9700\u4f7f\u7528\u516c\u94a5\u9a8c\u8bc1 jwt \u7684\u771f\u5b9e\u6027\u4fbf\u53ef\u4f7f\u7528\u5176\u4e2d\u63d0\u4f9b\u7684\u5185\u5bb9\u3002 \u56e0\u6b64\uff0c\u4e5f\u6709\u4e00\u90e8\u5206\u516c\u53f8\u5e76\u4e0d\u5355\u72ec\u4f7f\u7528 jwt \u4f5c\u4e3a\u8bbf\u95ee\u51ed\u8bc1\uff0c\u800c\u662f\u5c06\u5176\u4f5c\u4e3a\u53ef\u9760\u7684\u53d1\u5e03\u4fe1\u606f\u4f7f\u7528\uff0c\u800c\u81ea\u8eab\u8fdb\u884c\u8bbf\u95ee\u8ba4\u8bc1\u65f6\u5219\u5355\u72ec\u8bbe\u7f6e\u989d\u5916\u7684\u65b9\u5f0f\u3002","title":"jwt \uff08Json web token\uff09"},{"location":"%E5%90%8E%E7%AB%AF/%E7%BB%9F%E4%B8%80%E8%BF%94%E5%9B%9E/","text":"\u540e\u7aef\u7edf\u4e00\u63a5\u53e3\u8fd4\u56de \u00b6 \u5728\u524d\u540e\u7aef\u5206\u79bb\u7684\u9879\u76ee\u4e2d\u4e00\u822c\u90fd\u4f1a\u5bf9\u540e\u7aef\u63d0\u4f9b\u7684\u63a5\u53e3\u4f5c\u51fa\u7edf\u4e00\u63a5\u53e3\u8fd4\u56de\u7684\u8981\u6c42\uff0c\u800c\u4e0d\u540c\u7684\u7edf\u4e00\u63a5\u53e3\u8fd4\u56de\u4e5f\u4f1a\u4f7f\u5f97\u8fd4\u56de\u89c4\u8303\u96be\u5ea6\u53ca\u4ee3\u7801\u4f18\u96c5\u7a0b\u5ea6\u51fa\u73b0\u5dee\u5f02\u3002 \u76ee\u524d\u6765\u8bb2\u5728\u540e\u7aef\u4e2d\u7edf\u4e00\u63a5\u53e3\u8fd4\u56de\u7684\u65b9\u5f0f\u4e00\u822c\u6709\u4ee5\u4e0b\u4e24\u79cd\uff1a 1. \u7edf\u4e00\u8fd4\u56de\u5de5\u5177\u7c7b \u00b6 \u9879\u76ee\u4e2d\u6700\u5e38\u80fd\u89c1\u5230\u7684\u65b9\u5f0f\uff0c\u4fbf\u662f\u5355\u72ec\u5199\u4e00\u4e2a\u5de5\u5177\u7c7b\u6216\u8fd4\u56de\u4fe1\u606f\u7c7b\uff0c\u5728\u8be5\u7c7b\u4e2d\u5c01\u88c5\u597d\u5404\u7c7b\u8fd4\u56de\u4fe1\u606f\u4ece\u800c\u7edf\u4e00\u8fd4\u56de\u7684\u683c\u5f0f\u3002 \u8fd4\u56de\u5de5\u5177\u7c7b\u7684\u53c2\u6570 \u00b6 code\uff1a\u8fd4\u56de\u7801 message\uff1a\u8fd4\u56de\u7684\u63cf\u8ff0\u4fe1\u606f data\uff1a\u8fd4\u56de\u7684\u6570\u636e \u793a\u4f8b \u00b6 \u4ee5\u4e0b\u4e3a\u7edf\u4e00\u8fd4\u56de\u5de5\u5177\u7c7b\u7684\u793a\u4f8b\u3002\u4e00\u822c\u8be5\u7c7b\u4f1a\u4f7f\u7528\u9759\u6001\u65b9\u6cd5\u4ece\u800c\u65b9\u4fbf\u5b9e\u9645\u7684\u4f7f\u7528\uff1b\u53e6\u9700\u8981\u6ce8\u610f\u7684\u662f\u8be5\u793a\u4f8b\u4e2d\u7684\u8fd4\u56de\u7801\u8f83\u4e3a\u7b80\u5355\u4e14\u76f4\u63a5\u5199\u5728\u5de5\u5177\u7c7b\u4e2d\uff0c\u5b9e\u9645\u9879\u76ee\u4e2d\u5e94\u7528\u65f6\u4e5f\u4f1a\u8003\u8651\u5b9e\u73b0\u4e00\u4e2a\u679a\u4e3e\u7c7b\u63d0\u4f9b\u4f5c\u4e3a\u72b6\u6001\u7801\u4f7f\u7528 @Data @Accessors ( chain = true ) public class ResultCommon implements Serializable { @Serial private static final long serialVersionUID = 1L ; public static int SUCCESS = 200 ; public static int ERROR = 404 ; @ApiModelProperty ( \"\u8fd4\u56de\u7801\" ) private int code ; @ApiModelProperty ( \"\u8fd4\u56de\u4fe1\u606f\" ) private String message ; @ApiModelProperty ( \"\u8fd4\u56de\u6570\u636e\" ) private Map < String , Object > data = new HashMap <> (); public ResultCommon () { } public static ResultCommon success () { ResultCommon resultCommon = new ResultCommon (); resultCommon . setCode ( SUCCESS ); resultCommon . setMessage ( \"\u6210\u529f\" ); return resultCommon ; } public static ResultCommon fail () { ResultCommon resultCommon = new ResultCommon (); resultCommon . setCode ( ERROR ); resultCommon . setMessage ( \"\u5931\u8d25\" ); return resultCommon ; } public ResultCommon setData ( String key , Object value ) { this . getData (). put ( key , value ); return this ; } } \u4f7f\u7528 \u00b6 return ResultCommon . success (). setData ( \"items\" , items ); 2. ResponseAdvice \u00b6 \u53ef\u4ee5\u77e5\u9053\uff0c\u4e0a\u8ff0\u7edf\u4e00\u8fd4\u56de\u7684\u65b9\u6cd5\u5f88\u6709\u53ef\u80fd\u4f7f\u5f97 Controller \u4e2d\u51fa\u73b0\u5927\u91cf\u91cd\u590d\u7684\u4f7f\u7528\u4ee3\u7801\uff0c\u4ece\u800c\u4f7f\u5f97\u4ee3\u7801\u5197\u4f59\u3002 \u9488\u5bf9\u8fd9\u4e2a\u95ee\u9898\uff0cSpringMVC 4.1 \u63d0\u4f9b\u7684\u4e00\u4e2a\u4ee5 AOP \u4e3a\u539f\u7406\u7684\u89e3\u51b3\u65b9\u6cd5\uff1aResponseBodyAdvice\u63a5\u53e3\u3002 \u8be5\u63a5\u53e3\u4f1a\u4fdd\u8bc1\u5728 Controller \u5904\u7406\u65b9\u6cd5\u8fd4\u56de\u65f6\u5904\u7406\u8fd4\u56de\u4f53 ResponseBody \u7684\u5207\u9762\u4e2d\u6700\u540e\u8fdb\u884c\uff0c\u56e0\u6b64\u4e5f\u53ef\u4ee5\u7528\u6765\u5c01\u88c5\u81ea\u5b9a\u4e49 GlobalExceptionHandler \u7684 Advice \u8fd4\u56de\u3002 \u793a\u4f8b \u00b6 \u4f7f\u7528 ResponseBodyAdvice \u65f6\u9700\u8981\u81ea\u884c\u5b9e\u73b0\u8be5\u63a5\u53e3\uff0c\u5b9e\u73b0\u5176 supports()\u3001beforeBodyWrite() \u65b9\u6cd5\uff0c\u5e76\u5728\u5b9e\u73b0\u7c7b\u4e0a\u6dfb\u52a0 @ControllerAdvice \u6216 @RestControllerAdvice \u6ce8\u89e3\u3002 \u5176\u4e2d\uff0csupports() \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u6bcf\u4e2a\u8fd4\u56de\u5728\u88ab\u62e6\u622a\u65f6\u6267\u884c\u8be5\u65b9\u6cd5\u4ece\u800c\u5224\u65ad\u662f\u5426\u9700\u8981\u6267\u884c beforeBodyWrite() \u65b9\u6cd5\uff0c\u56e0\u6b64\u53ef\u4ee5\u7528\u4ee5\u89c4\u907f\u50cf swagger \u7684\u63a5\u53e3\u6587\u6863\u4e2d\u7684\u8fd4\u56de\u906d ResponseAdvice \u5c01\u88c5\uff1b\u800c beforeBodyWrite() \u65b9\u6cd5\u5219\u662f\u5bf9\u901a\u8fc7 supports() \u65b9\u6cd5\u9a8c\u8bc1\u7684\u8fd4\u56de\u8fdb\u884c\u5c01\u88c5\uff0c\u9700\u7559\u610f\u7684\u662f\u82e5\u8fd4\u56de\u4f53\uff08\u4e5f\u5373\u672c\u6b21\u8bf7\u6c42 Controller \u4e2d\u7684\u5904\u7406\u65b9\u6cd5\u8fd4\u56de\u503c\uff09 body \u4e3a String \u7c7b\u578b\u65f6\uff0c\u9ed8\u8ba4\u4f1a\u5c06\u5176\u8f6c\u6362\u4e3a \"text/plain\" \u7c7b\u578b\uff0c\u56e0\u6b64\u9700\u8981\u901a\u8fc7SpringBoot\u5185\u7f6e\u63d0\u4f9bJackson\u5e8f\u5217\u5316ObjectMapper\u5b9e\u73b0\u5b9e\u4f53\u4fe1\u606f\u7684\u5e8f\u5217\u5316\uff0c\u5c06\u5176\u8f6c\u6362\u4e3a \"application/json;charset=utf-8\" \u7c7b\u578b\u3002 @RestControllerAdvice public class ResponseAdvice implements ResponseBodyAdvice { @Autowired private ObjectMapper objectMapper ; /** * \u662f\u5426\u5f00\u542fAdvice * @param methodParameter * @param aClass * @return */ @Override public boolean supports ( MethodParameter methodParameter , Class aClass ) { // \u653e\u884cswagger return ! methodParameter . getDeclaringClass (). getName (). contains ( \"springfox\" ); } /** * \u7edf\u4e00\u5904\u7406\u8fd4\u56de\u7ed3\u679c\uff0c\u51cf\u5c11\u5982ResultCommon.success().setData(\"items\", obj)\u7684\u4ee3\u7801 * @param body * @param returnType * @param mediaType * @param aClass * @param serverHttpRequest * @param serverHttpResponse * @return */ @Override public Object beforeBodyWrite ( Object body , MethodParameter returnType , MediaType mediaType , Class aClass , ServerHttpRequest serverHttpRequest , ServerHttpResponse serverHttpResponse ) { if ( body instanceof String ) { // String\u7c7b\u5355\u72ec\u5904\u7406 try { return objectMapper . writeValueAsString ( ResultCommon . success (). setData ( \"msg\" , body )); } catch ( JsonProcessingException e ) { throw new RuntimeException ( e ); } } // \u5bf9\u4e8e\u5df2\u5c01\u88c5\u7684ResultCommon\u4e0d\u8fdb\u884c\u5904\u7406\uff0c\u907f\u514d\u5d4c\u5957\u91cd\u590d\u5904\u7406\u5e76\u63d0\u9ad8\u7075\u6d3b\u6027 if ( body instanceof ResultCommon ) { return body ; } if ( body instanceof Boolean ) { return ( Boolean ) body ? ResultCommon . success () : ResultCommon . fail (); } if ( body == null ) { return ResultCommon . success (); } // \u5c01\u88c5\u4e3aResultCommon\uff0c\u5176\u4e2d\u8f7d\u8377\u4e3aitems return ResultCommon . success (). setData ( \"items\" , body ); } }","title":"\u540e\u7aef\u7edf\u4e00\u63a5\u53e3\u8fd4\u56de"},{"location":"%E5%90%8E%E7%AB%AF/%E7%BB%9F%E4%B8%80%E8%BF%94%E5%9B%9E/#_1","text":"\u5728\u524d\u540e\u7aef\u5206\u79bb\u7684\u9879\u76ee\u4e2d\u4e00\u822c\u90fd\u4f1a\u5bf9\u540e\u7aef\u63d0\u4f9b\u7684\u63a5\u53e3\u4f5c\u51fa\u7edf\u4e00\u63a5\u53e3\u8fd4\u56de\u7684\u8981\u6c42\uff0c\u800c\u4e0d\u540c\u7684\u7edf\u4e00\u63a5\u53e3\u8fd4\u56de\u4e5f\u4f1a\u4f7f\u5f97\u8fd4\u56de\u89c4\u8303\u96be\u5ea6\u53ca\u4ee3\u7801\u4f18\u96c5\u7a0b\u5ea6\u51fa\u73b0\u5dee\u5f02\u3002 \u76ee\u524d\u6765\u8bb2\u5728\u540e\u7aef\u4e2d\u7edf\u4e00\u63a5\u53e3\u8fd4\u56de\u7684\u65b9\u5f0f\u4e00\u822c\u6709\u4ee5\u4e0b\u4e24\u79cd\uff1a","title":"\u540e\u7aef\u7edf\u4e00\u63a5\u53e3\u8fd4\u56de"},{"location":"%E5%90%8E%E7%AB%AF/%E7%BB%9F%E4%B8%80%E8%BF%94%E5%9B%9E/#1","text":"\u9879\u76ee\u4e2d\u6700\u5e38\u80fd\u89c1\u5230\u7684\u65b9\u5f0f\uff0c\u4fbf\u662f\u5355\u72ec\u5199\u4e00\u4e2a\u5de5\u5177\u7c7b\u6216\u8fd4\u56de\u4fe1\u606f\u7c7b\uff0c\u5728\u8be5\u7c7b\u4e2d\u5c01\u88c5\u597d\u5404\u7c7b\u8fd4\u56de\u4fe1\u606f\u4ece\u800c\u7edf\u4e00\u8fd4\u56de\u7684\u683c\u5f0f\u3002","title":"1. \u7edf\u4e00\u8fd4\u56de\u5de5\u5177\u7c7b"},{"location":"%E5%90%8E%E7%AB%AF/%E7%BB%9F%E4%B8%80%E8%BF%94%E5%9B%9E/#_2","text":"code\uff1a\u8fd4\u56de\u7801 message\uff1a\u8fd4\u56de\u7684\u63cf\u8ff0\u4fe1\u606f data\uff1a\u8fd4\u56de\u7684\u6570\u636e","title":"\u8fd4\u56de\u5de5\u5177\u7c7b\u7684\u53c2\u6570"},{"location":"%E5%90%8E%E7%AB%AF/%E7%BB%9F%E4%B8%80%E8%BF%94%E5%9B%9E/#_3","text":"\u4ee5\u4e0b\u4e3a\u7edf\u4e00\u8fd4\u56de\u5de5\u5177\u7c7b\u7684\u793a\u4f8b\u3002\u4e00\u822c\u8be5\u7c7b\u4f1a\u4f7f\u7528\u9759\u6001\u65b9\u6cd5\u4ece\u800c\u65b9\u4fbf\u5b9e\u9645\u7684\u4f7f\u7528\uff1b\u53e6\u9700\u8981\u6ce8\u610f\u7684\u662f\u8be5\u793a\u4f8b\u4e2d\u7684\u8fd4\u56de\u7801\u8f83\u4e3a\u7b80\u5355\u4e14\u76f4\u63a5\u5199\u5728\u5de5\u5177\u7c7b\u4e2d\uff0c\u5b9e\u9645\u9879\u76ee\u4e2d\u5e94\u7528\u65f6\u4e5f\u4f1a\u8003\u8651\u5b9e\u73b0\u4e00\u4e2a\u679a\u4e3e\u7c7b\u63d0\u4f9b\u4f5c\u4e3a\u72b6\u6001\u7801\u4f7f\u7528 @Data @Accessors ( chain = true ) public class ResultCommon implements Serializable { @Serial private static final long serialVersionUID = 1L ; public static int SUCCESS = 200 ; public static int ERROR = 404 ; @ApiModelProperty ( \"\u8fd4\u56de\u7801\" ) private int code ; @ApiModelProperty ( \"\u8fd4\u56de\u4fe1\u606f\" ) private String message ; @ApiModelProperty ( \"\u8fd4\u56de\u6570\u636e\" ) private Map < String , Object > data = new HashMap <> (); public ResultCommon () { } public static ResultCommon success () { ResultCommon resultCommon = new ResultCommon (); resultCommon . setCode ( SUCCESS ); resultCommon . setMessage ( \"\u6210\u529f\" ); return resultCommon ; } public static ResultCommon fail () { ResultCommon resultCommon = new ResultCommon (); resultCommon . setCode ( ERROR ); resultCommon . setMessage ( \"\u5931\u8d25\" ); return resultCommon ; } public ResultCommon setData ( String key , Object value ) { this . getData (). put ( key , value ); return this ; } }","title":"\u793a\u4f8b"},{"location":"%E5%90%8E%E7%AB%AF/%E7%BB%9F%E4%B8%80%E8%BF%94%E5%9B%9E/#_4","text":"return ResultCommon . success (). setData ( \"items\" , items );","title":"\u4f7f\u7528"},{"location":"%E5%90%8E%E7%AB%AF/%E7%BB%9F%E4%B8%80%E8%BF%94%E5%9B%9E/#2-responseadvice","text":"\u53ef\u4ee5\u77e5\u9053\uff0c\u4e0a\u8ff0\u7edf\u4e00\u8fd4\u56de\u7684\u65b9\u6cd5\u5f88\u6709\u53ef\u80fd\u4f7f\u5f97 Controller \u4e2d\u51fa\u73b0\u5927\u91cf\u91cd\u590d\u7684\u4f7f\u7528\u4ee3\u7801\uff0c\u4ece\u800c\u4f7f\u5f97\u4ee3\u7801\u5197\u4f59\u3002 \u9488\u5bf9\u8fd9\u4e2a\u95ee\u9898\uff0cSpringMVC 4.1 \u63d0\u4f9b\u7684\u4e00\u4e2a\u4ee5 AOP \u4e3a\u539f\u7406\u7684\u89e3\u51b3\u65b9\u6cd5\uff1aResponseBodyAdvice\u63a5\u53e3\u3002 \u8be5\u63a5\u53e3\u4f1a\u4fdd\u8bc1\u5728 Controller \u5904\u7406\u65b9\u6cd5\u8fd4\u56de\u65f6\u5904\u7406\u8fd4\u56de\u4f53 ResponseBody \u7684\u5207\u9762\u4e2d\u6700\u540e\u8fdb\u884c\uff0c\u56e0\u6b64\u4e5f\u53ef\u4ee5\u7528\u6765\u5c01\u88c5\u81ea\u5b9a\u4e49 GlobalExceptionHandler \u7684 Advice \u8fd4\u56de\u3002","title":"2. ResponseAdvice"},{"location":"%E5%90%8E%E7%AB%AF/%E7%BB%9F%E4%B8%80%E8%BF%94%E5%9B%9E/#_5","text":"\u4f7f\u7528 ResponseBodyAdvice \u65f6\u9700\u8981\u81ea\u884c\u5b9e\u73b0\u8be5\u63a5\u53e3\uff0c\u5b9e\u73b0\u5176 supports()\u3001beforeBodyWrite() \u65b9\u6cd5\uff0c\u5e76\u5728\u5b9e\u73b0\u7c7b\u4e0a\u6dfb\u52a0 @ControllerAdvice \u6216 @RestControllerAdvice \u6ce8\u89e3\u3002 \u5176\u4e2d\uff0csupports() \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u6bcf\u4e2a\u8fd4\u56de\u5728\u88ab\u62e6\u622a\u65f6\u6267\u884c\u8be5\u65b9\u6cd5\u4ece\u800c\u5224\u65ad\u662f\u5426\u9700\u8981\u6267\u884c beforeBodyWrite() \u65b9\u6cd5\uff0c\u56e0\u6b64\u53ef\u4ee5\u7528\u4ee5\u89c4\u907f\u50cf swagger \u7684\u63a5\u53e3\u6587\u6863\u4e2d\u7684\u8fd4\u56de\u906d ResponseAdvice \u5c01\u88c5\uff1b\u800c beforeBodyWrite() \u65b9\u6cd5\u5219\u662f\u5bf9\u901a\u8fc7 supports() \u65b9\u6cd5\u9a8c\u8bc1\u7684\u8fd4\u56de\u8fdb\u884c\u5c01\u88c5\uff0c\u9700\u7559\u610f\u7684\u662f\u82e5\u8fd4\u56de\u4f53\uff08\u4e5f\u5373\u672c\u6b21\u8bf7\u6c42 Controller \u4e2d\u7684\u5904\u7406\u65b9\u6cd5\u8fd4\u56de\u503c\uff09 body \u4e3a String \u7c7b\u578b\u65f6\uff0c\u9ed8\u8ba4\u4f1a\u5c06\u5176\u8f6c\u6362\u4e3a \"text/plain\" \u7c7b\u578b\uff0c\u56e0\u6b64\u9700\u8981\u901a\u8fc7SpringBoot\u5185\u7f6e\u63d0\u4f9bJackson\u5e8f\u5217\u5316ObjectMapper\u5b9e\u73b0\u5b9e\u4f53\u4fe1\u606f\u7684\u5e8f\u5217\u5316\uff0c\u5c06\u5176\u8f6c\u6362\u4e3a \"application/json;charset=utf-8\" \u7c7b\u578b\u3002 @RestControllerAdvice public class ResponseAdvice implements ResponseBodyAdvice { @Autowired private ObjectMapper objectMapper ; /** * \u662f\u5426\u5f00\u542fAdvice * @param methodParameter * @param aClass * @return */ @Override public boolean supports ( MethodParameter methodParameter , Class aClass ) { // \u653e\u884cswagger return ! methodParameter . getDeclaringClass (). getName (). contains ( \"springfox\" ); } /** * \u7edf\u4e00\u5904\u7406\u8fd4\u56de\u7ed3\u679c\uff0c\u51cf\u5c11\u5982ResultCommon.success().setData(\"items\", obj)\u7684\u4ee3\u7801 * @param body * @param returnType * @param mediaType * @param aClass * @param serverHttpRequest * @param serverHttpResponse * @return */ @Override public Object beforeBodyWrite ( Object body , MethodParameter returnType , MediaType mediaType , Class aClass , ServerHttpRequest serverHttpRequest , ServerHttpResponse serverHttpResponse ) { if ( body instanceof String ) { // String\u7c7b\u5355\u72ec\u5904\u7406 try { return objectMapper . writeValueAsString ( ResultCommon . success (). setData ( \"msg\" , body )); } catch ( JsonProcessingException e ) { throw new RuntimeException ( e ); } } // \u5bf9\u4e8e\u5df2\u5c01\u88c5\u7684ResultCommon\u4e0d\u8fdb\u884c\u5904\u7406\uff0c\u907f\u514d\u5d4c\u5957\u91cd\u590d\u5904\u7406\u5e76\u63d0\u9ad8\u7075\u6d3b\u6027 if ( body instanceof ResultCommon ) { return body ; } if ( body instanceof Boolean ) { return ( Boolean ) body ? ResultCommon . success () : ResultCommon . fail (); } if ( body == null ) { return ResultCommon . success (); } // \u5c01\u88c5\u4e3aResultCommon\uff0c\u5176\u4e2d\u8f7d\u8377\u4e3aitems return ResultCommon . success (). setData ( \"items\" , body ); } }","title":"\u793a\u4f8b"},{"location":"%E5%90%8E%E7%AB%AF/%E9%9B%AA%E8%8A%B1%E7%AE%97%E6%B3%95%E7%9A%84%E7%B2%BE%E5%BA%A6%E9%97%AE%E9%A2%98/","text":"\u96ea\u82b1\u7b97\u6cd5\u7684\u7cbe\u5ea6\u95ee\u9898 \u00b6 \u5728\u4f7f\u7528\u96ea\u82b1\u7b97\u6cd5\u4f5c\u4e3a\u6570\u636e\u7684 id \u65f6\uff0c\u7531\u4e8e\u96ea\u82b1\u7b97\u6cd5\u7684\u8f83\u957f\u4f4d\u6570\uff0cid\u5728\u88ab\u5e8f\u5217\u5316\u65f6\u4f1a\u51fa\u73b0\u5982\u4e0b\u6bcf\u4e2a id \u5728\u6700\u540e\u4e24\u4f4d\u7684\u6570\u5b57\u5747\u4e22\u5931\u7684\u7cbe\u5ea6\u95ee\u9898\uff1a \"items\" : [ { \"id\" : 1389172225111048200 , \"title\" : \"Collection\" , \"children\" : [ { \"id\" : 1389172441935593500 , \"title\" : \"1\" , \"children\" : [] }, \u5176\u539f\u56e0\u5728\u4e8e javascript \u4e0d\u652f\u6301\u540e\u53f0\u8fd4\u56de\u7684 Long \u7c7b\u578b\uff0c\u4e14 javascript \u7684number \u7c7b\u578b\u6570\u503c\u8303\u56f4\u662f -2^53 ~ 2^53 , \u5c0f\u4e8e\u96ea\u82b1\u7b97\u6cd5\u751f\u6210\u7684 id \u7684\u6570\u503c\uff0c\u56e0\u6b64\u5728\u8fdb\u5236\u8f6c\u6362\u65f6\u4f1a\u51fa\u73b0\u7cbe\u5ea6\u95ee\u9898\u4f7f\u5f97 javascript \u65e0\u6cd5\u6b63\u5e38\u5b58\u50a8 \u89e3\u51b3\u65b9\u6848 \u00b6 \u6b64\u60c5\u51b5\u4e00\u822c\u4e0a\u8bb2\u53ef\u4ee5\u6709\u4e24\u79cd\u89e3\u51b3\u65b9\u6848\uff0c\u4f46\u5f52\u6839\u5230\u5e95\u90fd\u662f\u5c06\u4f7f\u7528\u96ea\u82b1\u7b97\u6cd5\u7684\u5b57\u6bb5\u4ece Long \u7c7b\u578b\u8f6c\u6362\u4e3a String \u7c7b\u578b\u3002 \u8fd9\u91cc\u4f7f\u7528 jackson \u6765\u89e3\u51b3\u95ee\u9898\uff0c\u4f60\u4e5f\u53ef\u4ee5\u4f7f\u7528\u5176\u4ed6\u5e93\u3002 1. \u9488\u5bf9\u4f7f\u7528\u96ea\u82b1\u7b97\u6cd5\u7684 id \u5b57\u6bb5\u8bbe\u7f6e\u7c7b\u578b\u8f6c\u6362 \u00b6 public class ChapterVO { @JsonSerialize ( using = ToStringSerializer . class ) Long id ; } 2. \u5168\u5c40\u7c7b\u578b\u8f6c\u6362 \u00b6 \u7f16\u5199\u4e00\u4e2a json \u914d\u7f6e\u7c7b\uff0c\u5c06 Long \u7c7b\u578b\u5e8f\u5217\u5316\u6210 json \u65f6\u81ea\u52a8\u8f6c\u6362\u4e3a String \u7c7b\u578b @Configuration public class JacksonConfiguration { @Bean public Jackson2ObjectMapperBuilderCustomizer jackson2ObjectMapperBuilderCustomizer () { return builder -> { // \u6307\u5b9a Long \u7c7b\u578b\u8f6c\u6362\u4e3a String \u7c7b\u578b builder . serializerByType ( Long . class , ToStringSerializer . instance ); } } }","title":"\u96ea\u82b1\u7b97\u6cd5\u7684\u7cbe\u5ea6\u95ee\u9898"},{"location":"%E5%90%8E%E7%AB%AF/%E9%9B%AA%E8%8A%B1%E7%AE%97%E6%B3%95%E7%9A%84%E7%B2%BE%E5%BA%A6%E9%97%AE%E9%A2%98/#_1","text":"\u5728\u4f7f\u7528\u96ea\u82b1\u7b97\u6cd5\u4f5c\u4e3a\u6570\u636e\u7684 id \u65f6\uff0c\u7531\u4e8e\u96ea\u82b1\u7b97\u6cd5\u7684\u8f83\u957f\u4f4d\u6570\uff0cid\u5728\u88ab\u5e8f\u5217\u5316\u65f6\u4f1a\u51fa\u73b0\u5982\u4e0b\u6bcf\u4e2a id \u5728\u6700\u540e\u4e24\u4f4d\u7684\u6570\u5b57\u5747\u4e22\u5931\u7684\u7cbe\u5ea6\u95ee\u9898\uff1a \"items\" : [ { \"id\" : 1389172225111048200 , \"title\" : \"Collection\" , \"children\" : [ { \"id\" : 1389172441935593500 , \"title\" : \"1\" , \"children\" : [] }, \u5176\u539f\u56e0\u5728\u4e8e javascript \u4e0d\u652f\u6301\u540e\u53f0\u8fd4\u56de\u7684 Long \u7c7b\u578b\uff0c\u4e14 javascript \u7684number \u7c7b\u578b\u6570\u503c\u8303\u56f4\u662f -2^53 ~ 2^53 , \u5c0f\u4e8e\u96ea\u82b1\u7b97\u6cd5\u751f\u6210\u7684 id \u7684\u6570\u503c\uff0c\u56e0\u6b64\u5728\u8fdb\u5236\u8f6c\u6362\u65f6\u4f1a\u51fa\u73b0\u7cbe\u5ea6\u95ee\u9898\u4f7f\u5f97 javascript \u65e0\u6cd5\u6b63\u5e38\u5b58\u50a8","title":"\u96ea\u82b1\u7b97\u6cd5\u7684\u7cbe\u5ea6\u95ee\u9898"},{"location":"%E5%90%8E%E7%AB%AF/%E9%9B%AA%E8%8A%B1%E7%AE%97%E6%B3%95%E7%9A%84%E7%B2%BE%E5%BA%A6%E9%97%AE%E9%A2%98/#_2","text":"\u6b64\u60c5\u51b5\u4e00\u822c\u4e0a\u8bb2\u53ef\u4ee5\u6709\u4e24\u79cd\u89e3\u51b3\u65b9\u6848\uff0c\u4f46\u5f52\u6839\u5230\u5e95\u90fd\u662f\u5c06\u4f7f\u7528\u96ea\u82b1\u7b97\u6cd5\u7684\u5b57\u6bb5\u4ece Long \u7c7b\u578b\u8f6c\u6362\u4e3a String \u7c7b\u578b\u3002 \u8fd9\u91cc\u4f7f\u7528 jackson \u6765\u89e3\u51b3\u95ee\u9898\uff0c\u4f60\u4e5f\u53ef\u4ee5\u4f7f\u7528\u5176\u4ed6\u5e93\u3002","title":"\u89e3\u51b3\u65b9\u6848"},{"location":"%E5%90%8E%E7%AB%AF/%E9%9B%AA%E8%8A%B1%E7%AE%97%E6%B3%95%E7%9A%84%E7%B2%BE%E5%BA%A6%E9%97%AE%E9%A2%98/#1-id","text":"public class ChapterVO { @JsonSerialize ( using = ToStringSerializer . class ) Long id ; }","title":"1. \u9488\u5bf9\u4f7f\u7528\u96ea\u82b1\u7b97\u6cd5\u7684 id \u5b57\u6bb5\u8bbe\u7f6e\u7c7b\u578b\u8f6c\u6362"},{"location":"%E5%90%8E%E7%AB%AF/%E9%9B%AA%E8%8A%B1%E7%AE%97%E6%B3%95%E7%9A%84%E7%B2%BE%E5%BA%A6%E9%97%AE%E9%A2%98/#2","text":"\u7f16\u5199\u4e00\u4e2a json \u914d\u7f6e\u7c7b\uff0c\u5c06 Long \u7c7b\u578b\u5e8f\u5217\u5316\u6210 json \u65f6\u81ea\u52a8\u8f6c\u6362\u4e3a String \u7c7b\u578b @Configuration public class JacksonConfiguration { @Bean public Jackson2ObjectMapperBuilderCustomizer jackson2ObjectMapperBuilderCustomizer () { return builder -> { // \u6307\u5b9a Long \u7c7b\u578b\u8f6c\u6362\u4e3a String \u7c7b\u578b builder . serializerByType ( Long . class , ToStringSerializer . instance ); } } }","title":"2. \u5168\u5c40\u7c7b\u578b\u8f6c\u6362"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/SQL%E5%86%99%E6%8E%92%E5%90%8D%E7%9A%84%E6%96%B9%E6%B3%95/","text":"SQL \u6392\u540d \u00b6 \u901a\u8fc7 limit \u8bed\u53e5\u5b8c\u6210\u6392\u540d \u00b6 \u53ef\u4ee5\u901a\u8fc7 order by \u5b50\u53e5 + limit \u6765\u5b8c\u6210\u6392\u540d\uff0c\u4f46\u662f\u8fd9\u6837\u7684\u6392\u540d\u5e76\u4e0d\u51c6\u786e\uff1a \u8981\u6c42\u53ea\u8981\u5bf9\u6570\u503c\u6392\u540d\u6216\u6392\u540d\u4e0d\u7b97\u5e76\u6392\uff0c\u6bd4\u5982 \u201c\u641c\u7d22\u524d\u4e09\u7684\u85aa\u8d44\u201d \u800c\u4e0d\u662f \u201c\u641c\u7d22\u524d\u4e09\u85aa\u8d44\u7684\u5458\u5de5\u201d\uff0c \u540e\u8005\u53ef\u80fd\u51fa\u73b0\u76f8\u540c\u85aa\u8d44\u5bfc\u81f4\u5e76\u5217\u8005\u88ab\u6324\u5360 \u65e0\u6cd5\u5206\u7ec4\uff0c\u6bd4\u5982 \u201c\u641c\u7d22\u5404\u90e8\u95e8\u524d\u4e09\u7684\u85aa\u8d44\u5458\u5de5\u201d\uff0c\u56e0\u53ea\u80fd\u663e\u793a\u4e09\u6761\u6570\u636e\u800c\u4e0d\u80fd\u8fdb\u884c\u5206\u7ec4\u64cd\u4f5c select e . name , e . salary from Employee as e order by e . salary desc limit 0 , 3 \u901a\u8fc7 count + \u5b50\u67e5\u8be2\u5b8c\u6210\u6392\u540d \u00b6 \u901a\u8fc7 count \u51fd\u6570\u7edf\u8ba1\u904d\u5386\u65f6\u6bd4\u5f53\u524d\u8bb0\u5f55\u5927/\u5c0f\u7684\u5176\u4ed6\u8bb0\u5f55\u4e2a\u6570\uff0c\u4ece\u800c\u63a7\u5236\u641c\u7d22\u6392\u540d select d . name as 'department' , e . name as 'employee' , e . salary as 'salary' from Employee as e join Department as d on e . departmentId = d . id where 3 > ( select count ( distinct et . salary ) from Employee as et where et . salary > e . salary and et . departmentId = e . departmentId ) \u4e0a\u9762\u7684\u4ee3\u7801\u8bb0\u5f53\u524d\u8bb0\u5f55\u7684\u85aa\u8d44\u4e3a e.salary \uff0c\u5b50\u67e5\u8be2\u7edf\u8ba1\u6bd4 e.salary \u5927\u7684\u6570\u636e\u4e2a\u6570\uff0c \u6761\u4ef6\u8bed\u53e5\u8981\u6c42\u67e5\u627e\u51fa\u6765\u7684\u8bb0\u5f55 \u201c\u5728\u6574\u4e2a\u8868\u4e2d\u6bd4\u5b83\u5927\u7684\u6570\u636e\u4e2a\u6570\u5c0f\u4e8e3\u4e2a\u201d\uff0c\u7531\u6b64\u5b8c\u6210\u6392\u540d\uff0c \u82e5\u8981\u6392\u5e8f\u8fd8\u53ef\u4ee5\u518d\u52a0\u4e0a order by \u5b50\u53e5 \u4e0a\u9762\u7684\u4ee3\u7801\u867d\u7136\u5197\u957f\uff0c\u4f46\u662f\u8fd8\u53ef\u4ee5\u642d\u914d\u8fde\u63a5\u5b8c\u6210\u5206\u7ec4\u6392\u540d","title":"SQL \u6392\u540d"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/SQL%E5%86%99%E6%8E%92%E5%90%8D%E7%9A%84%E6%96%B9%E6%B3%95/#sql","text":"","title":"SQL \u6392\u540d"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/SQL%E5%86%99%E6%8E%92%E5%90%8D%E7%9A%84%E6%96%B9%E6%B3%95/#limit","text":"\u53ef\u4ee5\u901a\u8fc7 order by \u5b50\u53e5 + limit \u6765\u5b8c\u6210\u6392\u540d\uff0c\u4f46\u662f\u8fd9\u6837\u7684\u6392\u540d\u5e76\u4e0d\u51c6\u786e\uff1a \u8981\u6c42\u53ea\u8981\u5bf9\u6570\u503c\u6392\u540d\u6216\u6392\u540d\u4e0d\u7b97\u5e76\u6392\uff0c\u6bd4\u5982 \u201c\u641c\u7d22\u524d\u4e09\u7684\u85aa\u8d44\u201d \u800c\u4e0d\u662f \u201c\u641c\u7d22\u524d\u4e09\u85aa\u8d44\u7684\u5458\u5de5\u201d\uff0c \u540e\u8005\u53ef\u80fd\u51fa\u73b0\u76f8\u540c\u85aa\u8d44\u5bfc\u81f4\u5e76\u5217\u8005\u88ab\u6324\u5360 \u65e0\u6cd5\u5206\u7ec4\uff0c\u6bd4\u5982 \u201c\u641c\u7d22\u5404\u90e8\u95e8\u524d\u4e09\u7684\u85aa\u8d44\u5458\u5de5\u201d\uff0c\u56e0\u53ea\u80fd\u663e\u793a\u4e09\u6761\u6570\u636e\u800c\u4e0d\u80fd\u8fdb\u884c\u5206\u7ec4\u64cd\u4f5c select e . name , e . salary from Employee as e order by e . salary desc limit 0 , 3","title":"\u901a\u8fc7 limit \u8bed\u53e5\u5b8c\u6210\u6392\u540d"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/SQL%E5%86%99%E6%8E%92%E5%90%8D%E7%9A%84%E6%96%B9%E6%B3%95/#count","text":"\u901a\u8fc7 count \u51fd\u6570\u7edf\u8ba1\u904d\u5386\u65f6\u6bd4\u5f53\u524d\u8bb0\u5f55\u5927/\u5c0f\u7684\u5176\u4ed6\u8bb0\u5f55\u4e2a\u6570\uff0c\u4ece\u800c\u63a7\u5236\u641c\u7d22\u6392\u540d select d . name as 'department' , e . name as 'employee' , e . salary as 'salary' from Employee as e join Department as d on e . departmentId = d . id where 3 > ( select count ( distinct et . salary ) from Employee as et where et . salary > e . salary and et . departmentId = e . departmentId ) \u4e0a\u9762\u7684\u4ee3\u7801\u8bb0\u5f53\u524d\u8bb0\u5f55\u7684\u85aa\u8d44\u4e3a e.salary \uff0c\u5b50\u67e5\u8be2\u7edf\u8ba1\u6bd4 e.salary \u5927\u7684\u6570\u636e\u4e2a\u6570\uff0c \u6761\u4ef6\u8bed\u53e5\u8981\u6c42\u67e5\u627e\u51fa\u6765\u7684\u8bb0\u5f55 \u201c\u5728\u6574\u4e2a\u8868\u4e2d\u6bd4\u5b83\u5927\u7684\u6570\u636e\u4e2a\u6570\u5c0f\u4e8e3\u4e2a\u201d\uff0c\u7531\u6b64\u5b8c\u6210\u6392\u540d\uff0c \u82e5\u8981\u6392\u5e8f\u8fd8\u53ef\u4ee5\u518d\u52a0\u4e0a order by \u5b50\u53e5 \u4e0a\u9762\u7684\u4ee3\u7801\u867d\u7136\u5197\u957f\uff0c\u4f46\u662f\u8fd8\u53ef\u4ee5\u642d\u914d\u8fde\u63a5\u5b8c\u6210\u5206\u7ec4\u6392\u540d","title":"\u901a\u8fc7 count + \u5b50\u67e5\u8be2\u5b8c\u6210\u6392\u540d"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%97%A5%E6%9C%9F%E6%AF%94%E8%BE%83/","text":"SQL \u7684\u65e5\u671f\u6bd4\u8f83 \u00b6 SQL \u4e2d\u65e0\u6cd5\u76f4\u63a5\u4f7f\u7528\u51cf\u8fd0\u7b97\u6bd4\u8f83\u65f6\u95f4\uff0c\u8fd9\u4f1a\u5bfc\u81f4\u65f6\u95f4/\u65e5\u671f\u5148\u8f6c\u6362\u6210\u6574\u6570\u518d\u76f8\u51cf\uff0c \u6bd4\u5982 2019-11-01 \u548c 2019-10-31 \u7684\u8ba1\u7b97\u7ed3\u679c\u662f 70 \u4f7f\u7528\u51fd\u6570\u8ba1\u7b97 \u00b6 \u4f7f\u7528 SQL \u8ba1\u7b97\u65f6\u95f4\u6570\u636e\u65f6\u4e00\u822c\u4f1a\u4f7f\u7528\u4e24\u4e2a\u51fd\u6570 DATEDIFF \u00b6 SELECT DATEDIFF ( '2019-11-01' , '2019-10-31' ) AS diff ; DATEDIFF() \u51fd\u6570\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c\u524d\u8005\u4e3a\u88ab\u51cf\u6570\uff0c\u540e\u8005\u4e3a\u51cf\u6570\uff0c\u56e0\u6b64\u4e0a\u9762\u7684 SQL \u7684\u8fd0\u884c\u7ed3\u679c\u662f\uff1a {\"headers\": [\"diff\"], \"values\": [[1]]} TIMESTAMPDIFF \u00b6 SELECT TIMESTAMPDIFF ( unit , start_datetime , end_datetime ) AS diff ; TIMESTAMPDIFF() \u51fd\u6570\u63a5\u53d7\u4e09\u4e2a\u53c2\u6570\uff0cunit \u4e3a\u65f6\u95f4\u5355\u4f4d\uff1a SECOND\u3001MINUTE\u3001HOUR\u3001DAY\u3001MONTH\u3001YEAR \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0cTIMESTAMPDIFF() \u7684\u8ba1\u7b97\u65b9\u5411\u548c DATEDIFF() \u662f\u76f8\u53cd\u7684\uff0c\u5373\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4e3a\u51cf\u6570\uff0c\u7b2c\u4e09\u4e2a\u53c2\u6570\u4e3a\u88ab\u51cf\u6570","title":"SQL \u7684\u65e5\u671f\u6bd4\u8f83"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%97%A5%E6%9C%9F%E6%AF%94%E8%BE%83/#sql","text":"SQL \u4e2d\u65e0\u6cd5\u76f4\u63a5\u4f7f\u7528\u51cf\u8fd0\u7b97\u6bd4\u8f83\u65f6\u95f4\uff0c\u8fd9\u4f1a\u5bfc\u81f4\u65f6\u95f4/\u65e5\u671f\u5148\u8f6c\u6362\u6210\u6574\u6570\u518d\u76f8\u51cf\uff0c \u6bd4\u5982 2019-11-01 \u548c 2019-10-31 \u7684\u8ba1\u7b97\u7ed3\u679c\u662f 70","title":"SQL \u7684\u65e5\u671f\u6bd4\u8f83"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%97%A5%E6%9C%9F%E6%AF%94%E8%BE%83/#_1","text":"\u4f7f\u7528 SQL \u8ba1\u7b97\u65f6\u95f4\u6570\u636e\u65f6\u4e00\u822c\u4f1a\u4f7f\u7528\u4e24\u4e2a\u51fd\u6570","title":"\u4f7f\u7528\u51fd\u6570\u8ba1\u7b97"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%97%A5%E6%9C%9F%E6%AF%94%E8%BE%83/#datediff","text":"SELECT DATEDIFF ( '2019-11-01' , '2019-10-31' ) AS diff ; DATEDIFF() \u51fd\u6570\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c\u524d\u8005\u4e3a\u88ab\u51cf\u6570\uff0c\u540e\u8005\u4e3a\u51cf\u6570\uff0c\u56e0\u6b64\u4e0a\u9762\u7684 SQL \u7684\u8fd0\u884c\u7ed3\u679c\u662f\uff1a {\"headers\": [\"diff\"], \"values\": [[1]]}","title":"DATEDIFF"},{"location":"%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%97%A5%E6%9C%9F%E6%AF%94%E8%BE%83/#timestampdiff","text":"SELECT TIMESTAMPDIFF ( unit , start_datetime , end_datetime ) AS diff ; TIMESTAMPDIFF() \u51fd\u6570\u63a5\u53d7\u4e09\u4e2a\u53c2\u6570\uff0cunit \u4e3a\u65f6\u95f4\u5355\u4f4d\uff1a SECOND\u3001MINUTE\u3001HOUR\u3001DAY\u3001MONTH\u3001YEAR \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0cTIMESTAMPDIFF() \u7684\u8ba1\u7b97\u65b9\u5411\u548c DATEDIFF() \u662f\u76f8\u53cd\u7684\uff0c\u5373\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4e3a\u51cf\u6570\uff0c\u7b2c\u4e09\u4e2a\u53c2\u6570\u4e3a\u88ab\u51cf\u6570","title":"TIMESTAMPDIFF"},{"location":"%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/go/Golang%E7%9A%84%E5%8C%85%E7%AD%96%E7%95%A5/","text":"Golang \u7684\u5305\u7b56\u7565 \u00b6 \u7a0b\u5e8f\u7684\u5165\u53e3 \u00b6 \u6bcf\u95e8\u8bed\u8a00\u5b66\u4e60\u7684\u65f6\u5019\u7b2c\u4e00\u4ef6\u4e8b\u4e00\u822c\u90fd\u662f\u7f16\u5199 Hello World \u7a0b\u5e8f Golang \u4e5f\u4e0d\u4f8b\u5916\uff0c\u4f46\u662f Golang \u9700\u8981\u6ce8\u610f\u7684\u662f\u8981\u7559\u610f\u5176\u5305\u7b56\u7565 \u4ee5\u4e0b\u4ee3\u7801\u5728\u6267\u884c\u65f6\u4f1a\u62a5\u9519 \u201cpackage command-line-arguments is not a main package\u201d package golearn import \"fmt\" func main () { fmt . Println ( \"Hello world\" ) } \u5176\u539f\u56e0\u5728\u4e8e\uff0cGolang \u8981\u6c42\u7a0b\u5e8f\u5165\u53e3\u5fc5\u987b\u662f main \u5305\u4e0b\u7684 main() \u51fd\u6570\uff0c \u56e0\u6b64\u6b64\u65f6\u53ef\u4ee5\u8003\u8651\u5728\u8be5\u6587\u4ef6\u5939\u4e0b\u521b\u5efa\u4e00\u4e2a main \u5305\uff0c\u5e76\u5728\u5176\u4e2d\u7f16\u5199\u5305\u542bmain()\u51fd\u6570\u7684 main.go","title":"Golang \u7684\u5305\u7b56\u7565"},{"location":"%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/go/Golang%E7%9A%84%E5%8C%85%E7%AD%96%E7%95%A5/#golang","text":"","title":"Golang \u7684\u5305\u7b56\u7565"},{"location":"%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/go/Golang%E7%9A%84%E5%8C%85%E7%AD%96%E7%95%A5/#_1","text":"\u6bcf\u95e8\u8bed\u8a00\u5b66\u4e60\u7684\u65f6\u5019\u7b2c\u4e00\u4ef6\u4e8b\u4e00\u822c\u90fd\u662f\u7f16\u5199 Hello World \u7a0b\u5e8f Golang \u4e5f\u4e0d\u4f8b\u5916\uff0c\u4f46\u662f Golang \u9700\u8981\u6ce8\u610f\u7684\u662f\u8981\u7559\u610f\u5176\u5305\u7b56\u7565 \u4ee5\u4e0b\u4ee3\u7801\u5728\u6267\u884c\u65f6\u4f1a\u62a5\u9519 \u201cpackage command-line-arguments is not a main package\u201d package golearn import \"fmt\" func main () { fmt . Println ( \"Hello world\" ) } \u5176\u539f\u56e0\u5728\u4e8e\uff0cGolang \u8981\u6c42\u7a0b\u5e8f\u5165\u53e3\u5fc5\u987b\u662f main \u5305\u4e0b\u7684 main() \u51fd\u6570\uff0c \u56e0\u6b64\u6b64\u65f6\u53ef\u4ee5\u8003\u8651\u5728\u8be5\u6587\u4ef6\u5939\u4e0b\u521b\u5efa\u4e00\u4e2a main \u5305\uff0c\u5e76\u5728\u5176\u4e2d\u7f16\u5199\u5305\u542bmain()\u51fd\u6570\u7684 main.go","title":"\u7a0b\u5e8f\u7684\u5165\u53e3"},{"location":"%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/java/HashMap%E9%81%8D%E5%8E%86/","text":"HashMap \u7684\u904d\u5386\u65b9\u6cd5 \u00b6 HashMap \u7684\u904d\u5386\u65b9\u6cd5\u6709\u591a\u79cd\uff0c\u4e0d\u540c\u7684 JDK \u7248\u672c\u4e5f\u4f1a\u63d0\u4f9b\u4e0d\u540c\u7684\u5199\u6cd5 Java8 \u4e4b\u524d\u7684\u904d\u5386 \u00b6 Java8 \u4e4b\u524d\u4e3b\u8981\u4f7f\u7528 EntrySet \u548c KeySet \u8fdb\u884c\u904d\u5386\uff1a EntrySet \u00b6 // EntrySet\u904d\u5386 public class HashInterator { public static void main ( String [] args ) { HashMap < String , String > map = new HashMap <> (); map . put ( \"Java\" , \"1\" ); map . put ( \"MySql\" , \"2\" ); map . put ( \"Redis\" , \"3\" ); for ( Map . Entry < String , String > entry : map . entrySet ()) { System . out . println ( entry . getKey () + \",\" + entry . getValue ()); } } } KeySet \u00b6 KeySet \u7528\u4ee5\u904d\u5386 Key \u5185\u5bb9\uff0c\u6b64\u65f6\u901a\u8fc7 map.get(key) \u6765\u83b7\u53d6 Value \u503c\u3002 \u76f8\u8f83 EntrySet\uff0cKeySet \u7684\u6027\u80fd\u7531\u4e8e\u5176\u672c\u8d28\u662f\u904d\u5386\u4e24\u6b21 map \u800c\u66f4\u4f4e public class HashInterator { public static void main ( String [] args ) { HashMap < String , String > map = new HashMap <> (); map . put ( \"Java\" , \"1\" ); map . put ( \"MySql\" , \"2\" ); map . put ( \"Redis\" , \"3\" ); for ( String key : map . keySet ()) { System . out . println ( key + \", value: \" + map . get ( key )); } } } KeySet \u8fed\u4ee3\u5668 \u00b6 \u8fd8\u6709\u4e00\u79cd\u65b9\u5f0f\u662f\u83b7\u53d6 KeySet \u7684\u8fed\u4ee3\u5668\u7528\u4ee5\u904d\u5386\uff1a Iterator < String > iterator = map . keySet (). iterator (); while ( iterator . hasNext ()) { String key = iterator . next (); System . out . println ( key + \" iterator value: \" + map . get ( key )); } \u8fed\u4ee3\u5668\u7684\u4f5c\u7528\u662f\u7528\u6765\u52a8\u6001\u64cd\u4f5c\u5f53\u524d map\uff08\u5982\u589e\u52a0\u6216\u5220\u9664\uff09\uff0cjava \u7981\u6b62\u975e\u8fed\u4ee3\u5668\u7684\u904d\u5386\u4fee\u6539\u64cd\u4f5c for ( Map . Entry < String , String > entry : map . entrySet ()) { if ( \"MySql\" . equals ( entry . getKey ())) { map . remove ( entry . getKey ()); continue ; } System . out . println ( entry . getKey () + \",\" + entry . getValue ()); } \u53ef\u4ee5\u770b\u51fa\uff0c\u5f53\u4f7f\u7528 Collections \u81ea\u5df1\u7684\u5220\u9664\u64cd\u4f5c\u65f6\u4f1a\u629b\u51fa ConcurrentModificationException\uff0c \u8fd9\u662f\u56e0\u4e3a foreach \u8bed\u53e5\u672c\u8d28\u4e0a\u662f\u8c03\u7528 Collections \u7684 Iterator\uff0c\u4f7f\u7528 Iterator \u7684 next() \u8fdb\u884c\u8fed\u4ee3\uff0c \u4ee5\u4e0b\u4e3a Collections \u7684\u6e90\u7801\uff1a final class EntryIterator extends HashMap < K , V > . HashIterator implements Iterator < Map . Entry < K , V >> { EntryIterator ( HashMap this $0 ) { super (); } public final Map . Entry < K , V > next () { return this . nextNode (); } } final class ValueIterator extends HashMap < K , V > . HashIterator implements Iterator < V > { ValueIterator ( HashMap this $0 ) { super (); } public final V next () { return this . nextNode (). value ; } } final class KeyIterator extends HashMap < K , V > . HashIterator implements Iterator < K > { KeyIterator ( HashMap this $0 ) { super (); } public final K next () { return this . nextNode (). key ; } } \u6b64\u65f6\u518d\u770b nextNode() \u7684\u4ee3\u7801\uff1a final Node < K , V > nextNode () { Node < K , V > e = this . next ; if ( HashMap . this . modCount != this . expectedModCount ) { throw new ConcurrentModificationException (); } else if ( e == null ) { throw new NoSuchElementException (); } else { Node [] t ; if (( this . next = ( this . current = e ). next ) == null && ( t = HashMap . this . table ) != null ) { while ( this . index < t . length && ( this . next = t [ this . index ++] ) == null ) { } } return e ; } } \u53ef\u4ee5\u53d1\u73b0\uff0cIterator \u7684 nextNode() \u65b9\u6cd5\u662f\u4f1a\u5bf9 expectedModCount \u548c modCount \u8fdb\u884c\u6bd4\u5bf9\u7684\uff0c \u8fd9\u76f8\u5f53\u4e8e\u662f\u4e00\u4e2a\u7248\u672c\u53f7\u673a\u5236\uff0cIterator \u5728\u88ab\u521d\u59cb\u5316\u65f6\u4f1a\u5c06\u5176 expectedModCount \u8bbe\u5b9a\u4e3a\u96c6\u5408\u7684 modCount: final Node < K , V > nextNode () { Node < K , V > e = this . next ; if ( HashMap . this . modCount != this . expectedModCount ) { throw new ConcurrentModificationException (); } else if ( e == null ) { throw new NoSuchElementException (); } else { Node [] t ; if (( this . next = ( this . current = e ). next ) == null && ( t = HashMap . this . table ) != null ) { while ( this . index < t . length && ( this . next = t [ this . index ++] ) == null ) { } } return e ; } } \u800c \u96c6\u5408 \u7684\u589e\u5220\u6539\u64cd\u4f5c\u5219\u4f1a\u4fee\u6539 \u96c6\u5408 \u7684modCount\uff0c \u56e0\u6b64\u4f7f\u7528\u96c6\u5408\u7684\u589e\u5220\u6539\u64cd\u4f5c\u4f1a\u5bfc\u81f4 Iterator \u8bb0\u5f55\u7684 \u201c\u7248\u672c\u53f7\u201d \u4e0e\u96c6\u5408\u7684\u4e0d\u4e00\u81f4\uff0c \u4ece\u800c\u629b\u51fa ConcurrentModificationException : public boolean remove ( Object key , Object value ) { return this . removeNode ( hash ( key ), key , value , true , true ) != null ; } final Node < K , V > removeNode ( int hash , Object key , Object value , boolean matchValue , boolean movable ) { // \u5176\u4ed6\u4ee3\u7801 ++ this . modCount ; -- this . size ; this . afterNodeRemoval (( Node ) node ); return ( Node ) node ; } } return null ; } \u7efc\u4e0a\uff0c\u82e5\u8981\u52a8\u6001\u5730\u5bf9 map \u8fb9\u904d\u5386\u8fb9\u4fee\u6539\uff0c\u5e94\u4f7f\u7528 Iterator.remove()\uff0c \u8fd9\u65f6\u6bcf\u6b21\u4fee\u6539\u90fd\u4f1a\u5728\u6700\u540e\u66f4\u65b0 Iterator \u7684 expectedModCount: public final void remove () { Node < K , V > p = this . current ; if ( p == null ) { throw new IllegalStateException (); } else if ( HashMap . this . modCount != this . expectedModCount ) { throw new ConcurrentModificationException (); } else { this . current = null ; HashMap . this . removeNode ( p . hash , p . key , ( Object ) null , false , false ); this . expectedModCount = HashMap . this . modCount ; } } \u6b64\u65f6\uff0c\u904d\u5386\u4ee3\u7801\u4e3a\uff1a Iterator < Map . Entry < String , String >> iterator = map . entrySet (). iterator (); while ( iterator . hasNext ()) { Map . Entry < String , String > entry = iterator . next (); if ( \"MySql\" . equals ( entry . getKey ())) { iterator . remove (); continue ; } System . out . println ( entry . getKey () + \" iterator value: \" + entry . getValue ()); } Java8 \u4e4b\u540e\u7684\u904d\u5386 \u00b6 lambda \u8868\u8fbe\u5f0f \u00b6 \u6700\u5e38\u7528\u7684\u4e00\u79cd\u904d\u5386\uff0c\u6ce8\u610f\u8fd9\u79cd\u65b9\u5f0f\u4e5f\u4e0d\u80fd\u52a8\u6001\u4fee\u6539 map map . forEach (( key , value ) -> { System . out . println ( key + \":\" + value ); }); stream() \u00b6 stream() \u7684\u4f5c\u7528\u662f\u53ef\u4ee5\u5bf9\u5143\u7d20\u89c6\u60c5\u51b5\u8fdb\u884c\u5904\u7406\uff0c\u4e00\u822c\u4e0d\u4f1a\u7528\u6765\u4fee\u6539\u539f map \u6216\u8bf4\u96c6\u5408\uff0c \u800c\u53ea\u4f1a\u6267\u884c\u4e00\u6bb5\u975e\u589e\u5220\u6539\u7684\u903b\u8f91\uff0c\u6216\u4f7f\u7528\u5143\u7d20\u5185\u5bb9\u6392\u51fa\u65b0\u7684\u96c6\u5408 \u5355\u7ebf\u7a0b \u00b6 map . entrySet (). stream (). forEach (( entry ) -> { System . out . println ( entry . getKey () + \": stream value\" + entry . getValue ()); }); \u591a\u7ebf\u7a0b \u00b6 map . entrySet (). stream (). parallel (). forEach (( entry ) -> { System . out . println ( entry . getKey () + \": stream value\" + entry . getValue ()); }); \u6392\u51fa\u7684\u8303\u4f8b \u00b6 List < SubjectVO > result = subjectList . stream () . filter ( item -> item . getParentId () == 0 L ) // \u627e\u51fa\u6839\u8282\u70b9 . map ( item -> new SubjectVO ( item . getId (), item . getTitle (), null )) // \u6bcf\u4e2a EduSubject \u8f6c\u6362\u4e3a VO \u7c7b . peek ( item -> item . setChildren ( getChildrenList ( item , subjectList ))) // \u627e\u51fa\u5b50\u5206\u7c7b . collect ( Collectors . toList ());","title":"HashMap \u7684\u904d\u5386\u65b9\u6cd5"},{"location":"%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/java/HashMap%E9%81%8D%E5%8E%86/#hashmap","text":"HashMap \u7684\u904d\u5386\u65b9\u6cd5\u6709\u591a\u79cd\uff0c\u4e0d\u540c\u7684 JDK \u7248\u672c\u4e5f\u4f1a\u63d0\u4f9b\u4e0d\u540c\u7684\u5199\u6cd5","title":"HashMap \u7684\u904d\u5386\u65b9\u6cd5"},{"location":"%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/java/HashMap%E9%81%8D%E5%8E%86/#java8","text":"Java8 \u4e4b\u524d\u4e3b\u8981\u4f7f\u7528 EntrySet \u548c KeySet \u8fdb\u884c\u904d\u5386\uff1a","title":"Java8 \u4e4b\u524d\u7684\u904d\u5386"},{"location":"%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/java/HashMap%E9%81%8D%E5%8E%86/#entryset","text":"// EntrySet\u904d\u5386 public class HashInterator { public static void main ( String [] args ) { HashMap < String , String > map = new HashMap <> (); map . put ( \"Java\" , \"1\" ); map . put ( \"MySql\" , \"2\" ); map . put ( \"Redis\" , \"3\" ); for ( Map . Entry < String , String > entry : map . entrySet ()) { System . out . println ( entry . getKey () + \",\" + entry . getValue ()); } } }","title":"EntrySet"},{"location":"%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/java/HashMap%E9%81%8D%E5%8E%86/#keyset","text":"KeySet \u7528\u4ee5\u904d\u5386 Key \u5185\u5bb9\uff0c\u6b64\u65f6\u901a\u8fc7 map.get(key) \u6765\u83b7\u53d6 Value \u503c\u3002 \u76f8\u8f83 EntrySet\uff0cKeySet \u7684\u6027\u80fd\u7531\u4e8e\u5176\u672c\u8d28\u662f\u904d\u5386\u4e24\u6b21 map \u800c\u66f4\u4f4e public class HashInterator { public static void main ( String [] args ) { HashMap < String , String > map = new HashMap <> (); map . put ( \"Java\" , \"1\" ); map . put ( \"MySql\" , \"2\" ); map . put ( \"Redis\" , \"3\" ); for ( String key : map . keySet ()) { System . out . println ( key + \", value: \" + map . get ( key )); } } }","title":"KeySet"},{"location":"%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/java/HashMap%E9%81%8D%E5%8E%86/#keyset_1","text":"\u8fd8\u6709\u4e00\u79cd\u65b9\u5f0f\u662f\u83b7\u53d6 KeySet \u7684\u8fed\u4ee3\u5668\u7528\u4ee5\u904d\u5386\uff1a Iterator < String > iterator = map . keySet (). iterator (); while ( iterator . hasNext ()) { String key = iterator . next (); System . out . println ( key + \" iterator value: \" + map . get ( key )); } \u8fed\u4ee3\u5668\u7684\u4f5c\u7528\u662f\u7528\u6765\u52a8\u6001\u64cd\u4f5c\u5f53\u524d map\uff08\u5982\u589e\u52a0\u6216\u5220\u9664\uff09\uff0cjava \u7981\u6b62\u975e\u8fed\u4ee3\u5668\u7684\u904d\u5386\u4fee\u6539\u64cd\u4f5c for ( Map . Entry < String , String > entry : map . entrySet ()) { if ( \"MySql\" . equals ( entry . getKey ())) { map . remove ( entry . getKey ()); continue ; } System . out . println ( entry . getKey () + \",\" + entry . getValue ()); } \u53ef\u4ee5\u770b\u51fa\uff0c\u5f53\u4f7f\u7528 Collections \u81ea\u5df1\u7684\u5220\u9664\u64cd\u4f5c\u65f6\u4f1a\u629b\u51fa ConcurrentModificationException\uff0c \u8fd9\u662f\u56e0\u4e3a foreach \u8bed\u53e5\u672c\u8d28\u4e0a\u662f\u8c03\u7528 Collections \u7684 Iterator\uff0c\u4f7f\u7528 Iterator \u7684 next() \u8fdb\u884c\u8fed\u4ee3\uff0c \u4ee5\u4e0b\u4e3a Collections \u7684\u6e90\u7801\uff1a final class EntryIterator extends HashMap < K , V > . HashIterator implements Iterator < Map . Entry < K , V >> { EntryIterator ( HashMap this $0 ) { super (); } public final Map . Entry < K , V > next () { return this . nextNode (); } } final class ValueIterator extends HashMap < K , V > . HashIterator implements Iterator < V > { ValueIterator ( HashMap this $0 ) { super (); } public final V next () { return this . nextNode (). value ; } } final class KeyIterator extends HashMap < K , V > . HashIterator implements Iterator < K > { KeyIterator ( HashMap this $0 ) { super (); } public final K next () { return this . nextNode (). key ; } } \u6b64\u65f6\u518d\u770b nextNode() \u7684\u4ee3\u7801\uff1a final Node < K , V > nextNode () { Node < K , V > e = this . next ; if ( HashMap . this . modCount != this . expectedModCount ) { throw new ConcurrentModificationException (); } else if ( e == null ) { throw new NoSuchElementException (); } else { Node [] t ; if (( this . next = ( this . current = e ). next ) == null && ( t = HashMap . this . table ) != null ) { while ( this . index < t . length && ( this . next = t [ this . index ++] ) == null ) { } } return e ; } } \u53ef\u4ee5\u53d1\u73b0\uff0cIterator \u7684 nextNode() \u65b9\u6cd5\u662f\u4f1a\u5bf9 expectedModCount \u548c modCount \u8fdb\u884c\u6bd4\u5bf9\u7684\uff0c \u8fd9\u76f8\u5f53\u4e8e\u662f\u4e00\u4e2a\u7248\u672c\u53f7\u673a\u5236\uff0cIterator \u5728\u88ab\u521d\u59cb\u5316\u65f6\u4f1a\u5c06\u5176 expectedModCount \u8bbe\u5b9a\u4e3a\u96c6\u5408\u7684 modCount: final Node < K , V > nextNode () { Node < K , V > e = this . next ; if ( HashMap . this . modCount != this . expectedModCount ) { throw new ConcurrentModificationException (); } else if ( e == null ) { throw new NoSuchElementException (); } else { Node [] t ; if (( this . next = ( this . current = e ). next ) == null && ( t = HashMap . this . table ) != null ) { while ( this . index < t . length && ( this . next = t [ this . index ++] ) == null ) { } } return e ; } } \u800c \u96c6\u5408 \u7684\u589e\u5220\u6539\u64cd\u4f5c\u5219\u4f1a\u4fee\u6539 \u96c6\u5408 \u7684modCount\uff0c \u56e0\u6b64\u4f7f\u7528\u96c6\u5408\u7684\u589e\u5220\u6539\u64cd\u4f5c\u4f1a\u5bfc\u81f4 Iterator \u8bb0\u5f55\u7684 \u201c\u7248\u672c\u53f7\u201d \u4e0e\u96c6\u5408\u7684\u4e0d\u4e00\u81f4\uff0c \u4ece\u800c\u629b\u51fa ConcurrentModificationException : public boolean remove ( Object key , Object value ) { return this . removeNode ( hash ( key ), key , value , true , true ) != null ; } final Node < K , V > removeNode ( int hash , Object key , Object value , boolean matchValue , boolean movable ) { // \u5176\u4ed6\u4ee3\u7801 ++ this . modCount ; -- this . size ; this . afterNodeRemoval (( Node ) node ); return ( Node ) node ; } } return null ; } \u7efc\u4e0a\uff0c\u82e5\u8981\u52a8\u6001\u5730\u5bf9 map \u8fb9\u904d\u5386\u8fb9\u4fee\u6539\uff0c\u5e94\u4f7f\u7528 Iterator.remove()\uff0c \u8fd9\u65f6\u6bcf\u6b21\u4fee\u6539\u90fd\u4f1a\u5728\u6700\u540e\u66f4\u65b0 Iterator \u7684 expectedModCount: public final void remove () { Node < K , V > p = this . current ; if ( p == null ) { throw new IllegalStateException (); } else if ( HashMap . this . modCount != this . expectedModCount ) { throw new ConcurrentModificationException (); } else { this . current = null ; HashMap . this . removeNode ( p . hash , p . key , ( Object ) null , false , false ); this . expectedModCount = HashMap . this . modCount ; } } \u6b64\u65f6\uff0c\u904d\u5386\u4ee3\u7801\u4e3a\uff1a Iterator < Map . Entry < String , String >> iterator = map . entrySet (). iterator (); while ( iterator . hasNext ()) { Map . Entry < String , String > entry = iterator . next (); if ( \"MySql\" . equals ( entry . getKey ())) { iterator . remove (); continue ; } System . out . println ( entry . getKey () + \" iterator value: \" + entry . getValue ()); }","title":"KeySet \u8fed\u4ee3\u5668"},{"location":"%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/java/HashMap%E9%81%8D%E5%8E%86/#java8_1","text":"","title":"Java8 \u4e4b\u540e\u7684\u904d\u5386"},{"location":"%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/java/HashMap%E9%81%8D%E5%8E%86/#lambda","text":"\u6700\u5e38\u7528\u7684\u4e00\u79cd\u904d\u5386\uff0c\u6ce8\u610f\u8fd9\u79cd\u65b9\u5f0f\u4e5f\u4e0d\u80fd\u52a8\u6001\u4fee\u6539 map map . forEach (( key , value ) -> { System . out . println ( key + \":\" + value ); });","title":"lambda \u8868\u8fbe\u5f0f"},{"location":"%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/java/HashMap%E9%81%8D%E5%8E%86/#stream","text":"stream() \u7684\u4f5c\u7528\u662f\u53ef\u4ee5\u5bf9\u5143\u7d20\u89c6\u60c5\u51b5\u8fdb\u884c\u5904\u7406\uff0c\u4e00\u822c\u4e0d\u4f1a\u7528\u6765\u4fee\u6539\u539f map \u6216\u8bf4\u96c6\u5408\uff0c \u800c\u53ea\u4f1a\u6267\u884c\u4e00\u6bb5\u975e\u589e\u5220\u6539\u7684\u903b\u8f91\uff0c\u6216\u4f7f\u7528\u5143\u7d20\u5185\u5bb9\u6392\u51fa\u65b0\u7684\u96c6\u5408","title":"stream()"},{"location":"%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/java/HashMap%E9%81%8D%E5%8E%86/#_1","text":"map . entrySet (). stream (). forEach (( entry ) -> { System . out . println ( entry . getKey () + \": stream value\" + entry . getValue ()); });","title":"\u5355\u7ebf\u7a0b"},{"location":"%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/java/HashMap%E9%81%8D%E5%8E%86/#_2","text":"map . entrySet (). stream (). parallel (). forEach (( entry ) -> { System . out . println ( entry . getKey () + \": stream value\" + entry . getValue ()); });","title":"\u591a\u7ebf\u7a0b"},{"location":"%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/java/HashMap%E9%81%8D%E5%8E%86/#_3","text":"List < SubjectVO > result = subjectList . stream () . filter ( item -> item . getParentId () == 0 L ) // \u627e\u51fa\u6839\u8282\u70b9 . map ( item -> new SubjectVO ( item . getId (), item . getTitle (), null )) // \u6bcf\u4e2a EduSubject \u8f6c\u6362\u4e3a VO \u7c7b . peek ( item -> item . setChildren ( getChildrenList ( item , subjectList ))) // \u627e\u51fa\u5b50\u5206\u7c7b . collect ( Collectors . toList ());","title":"\u6392\u51fa\u7684\u8303\u4f8b"},{"location":"%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/java/%E5%88%97%E8%A1%A8%E6%8E%92%E5%BA%8F/","text":"\u5217\u8868\u6392\u5e8f\u65b9\u5f0f \u00b6 \u7f16\u5199\u4ee3\u7801\u65f6\u96be\u514d\u4f1a\u9047\u5230\u5217\u8868\u6392\u5e8f\u7684\u9700\u6c42\uff0c\u4e00\u822c\u4e0a\u8bb2\u5217\u8868\u6392\u5e8f\u53ef\u4ee5\u6709\u5982\u4e0b4\u79cd\u65b9\u6cd5\u5b9e\u73b0\uff1a \u4e00\u3001\u7b80\u5355\u6392\u5e8f \u00b6 \u7528\u4e8e\u5217\u8868\u4ec5\u5b58\u50a8\u5982 int \u7684\u7b80\u5355\u6570\u636e\u7684\u60c5\u51b5 import java.util.ArrayList ; import java.util.Collections ; import java.util.List ; public class sort { \u3000\u3000 public static void main ( String [] args ) { \u3000\u3000 List < Integer > list = new ArrayList < Integer > (); \u3000\u3000 list . add ( new Integer ( 3 )); \u3000\u3000 list . add ( new Integer ( 14 )); \u3000\u3000 list . add ( new Integer ( 6 )); \u3000\u3000 list . add ( new Integer ( 10 )); // \u7b80\u5355\u7684int\u7c7b\u4f3c\u6570\u636e\uff0c\u53ef\u4ee5\u4f7f\u7528Collections\u7684sort\u65b9\u6cd5\u5373\u53ef\u5b8c\u6210\u6392\u5e8f \u3000\u3000 Collections . sort ( list ); \u3000\u3000 System . out . println ( list . toString ()); \u3000\u3000 } } \u4e8c\u3001\u5b9e\u73b0 Comparable \u5e76\u91cd\u5199 compareTo \u65b9\u6cd5 \u00b6 \u7528\u4e8e\u6709\u590d\u6742\u6392\u5e8f\u903b\u8f91\u7684\u573a\u5408\uff0c\u4e00\u822c\u53ef\u4ee5\u5728 compareTo() \u65b9\u6cd5\u4e2d\u653e\u5165\u66f4\u591a\u7684\u6bd4\u8f83\u6761\u4ef6 \u3000\u3000 @Override \u3000\u3000 public int compareTo ( User user ) { // \u91cd\u5199Comparable\u63a5\u53e3\u7684compareTo\u65b9\u6cd5\uff0c\u6839\u636e\u5e74\u9f84\u5347\u5e8f\u6392\u5217\uff0c\u964d\u5e8f\u4fee\u6539\u76f8\u51cf\u987a\u5e8f\u5373\u53ef \u3000\u3000\u3000 // \u4f60\u4e5f\u53ef\u4ee5\u5b9e\u73b0\u66f4\u590d\u6742\u7684\u6bd4\u8f83\u903b\u8f91\uff0c\u5982\u5c06\u5404\u9879\u6392\u5e8f\u56e0\u5b50\u7edf\u8ba1\u6210\u4e00\u4e2a\u5177\u4f53\u7684\u503c\u7528\u4ee5\u6392\u5e8f\u7b49 return this . age - user . getAge (); \u3000\u3000 } \u4e09\u3001 \u533f\u540d\u5185\u90e8\u7c7b \u00b6 \u672c\u8d28\u4e0a\u4e0e\u65b9\u6cd5\u4e8c\u7c7b\u4f3c import java.util.ArrayList ; import java.util.Collections ; import java.util.List ; public class sort { \u3000\u3000 public static void main ( String [] args ) { \u3000\u3000 List < User > list = new ArrayList < User > (); \u3000\u3000 list . add ( new User ( \"\u5f20\u4e09\" , 5 )); \u3000\u3000 list . add ( new User ( \"\u674e\u56db\" , 30 )); \u3000\u3000 list . add ( new User ( \"\u738b\u4e94\" , 19 )); \u3000\u3000 list . add ( new User ( \"\u738b\u9ebb\u5b50\" , 17 )); \u3000\u3000 Collections . sort ( list , new Comparator < User > () { \u3000\u3000\u3000\u3000 @Override \u3000\u3000\u3000\u3000 public int compare ( User u1 , User u2 ) { \u3000\u3000\u3000\u3000\u3000\u3000 int diff = u1 . getAge () - u2 . getAge (); \u3000\u3000\u3000\u3000\u3000\u3000 if ( diff > 0 ) { \u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000 return 1 ; \u3000\u3000\u3000\u3000\u3000\u3000 } else if ( diff < 0 ) { \u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000 return - 1 ; \u3000\u3000\u3000\u3000\u3000\u3000 } \u3000\u3000\u3000\u3000\u3000\u3000 return 0 ; //\u76f8\u7b49\u4e3a0 \u3000\u3000\u3000\u3000 } \u3000\u3000 }); // \u6309\u5e74\u9f84\u6392\u5e8f \u3000\u3000 System . out . println ( list . toString ()); \u3000\u3000 } } \u56db\u3001\u65b9\u6cd5\u5f15\u7528 \u00b6 \u9002\u7528\u4e8e\u6bd4\u8f83\u903b\u8f91\u590d\u6742\u7a0b\u5ea6\u4ecb\u4e8e\u65b9\u6cd5\u4e00\u548c\u65b9\u6cd5\u4e8c\u4e4b\u95f4\u7684\u6392\u5e8f\uff0c\u540c\u65f6\u4e5f\u662f\u6700\u4e3a\u901a\u7528\u7684\u6392\u5e8f\u65b9\u6cd5 List < Video > videoList = videoService . list ( videoWrapper ); // \u6839\u636esort\u5b57\u6bb5\u8fdb\u884c\u6392\u5e8f videoList . sort ( Comparator . comparing ( Video :: getSort ));","title":"\u5217\u8868\u6392\u5e8f\u65b9\u5f0f"},{"location":"%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/java/%E5%88%97%E8%A1%A8%E6%8E%92%E5%BA%8F/#_1","text":"\u7f16\u5199\u4ee3\u7801\u65f6\u96be\u514d\u4f1a\u9047\u5230\u5217\u8868\u6392\u5e8f\u7684\u9700\u6c42\uff0c\u4e00\u822c\u4e0a\u8bb2\u5217\u8868\u6392\u5e8f\u53ef\u4ee5\u6709\u5982\u4e0b4\u79cd\u65b9\u6cd5\u5b9e\u73b0\uff1a","title":"\u5217\u8868\u6392\u5e8f\u65b9\u5f0f"},{"location":"%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/java/%E5%88%97%E8%A1%A8%E6%8E%92%E5%BA%8F/#_2","text":"\u7528\u4e8e\u5217\u8868\u4ec5\u5b58\u50a8\u5982 int \u7684\u7b80\u5355\u6570\u636e\u7684\u60c5\u51b5 import java.util.ArrayList ; import java.util.Collections ; import java.util.List ; public class sort { \u3000\u3000 public static void main ( String [] args ) { \u3000\u3000 List < Integer > list = new ArrayList < Integer > (); \u3000\u3000 list . add ( new Integer ( 3 )); \u3000\u3000 list . add ( new Integer ( 14 )); \u3000\u3000 list . add ( new Integer ( 6 )); \u3000\u3000 list . add ( new Integer ( 10 )); // \u7b80\u5355\u7684int\u7c7b\u4f3c\u6570\u636e\uff0c\u53ef\u4ee5\u4f7f\u7528Collections\u7684sort\u65b9\u6cd5\u5373\u53ef\u5b8c\u6210\u6392\u5e8f \u3000\u3000 Collections . sort ( list ); \u3000\u3000 System . out . println ( list . toString ()); \u3000\u3000 } }","title":"\u4e00\u3001\u7b80\u5355\u6392\u5e8f"},{"location":"%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/java/%E5%88%97%E8%A1%A8%E6%8E%92%E5%BA%8F/#comparable-compareto","text":"\u7528\u4e8e\u6709\u590d\u6742\u6392\u5e8f\u903b\u8f91\u7684\u573a\u5408\uff0c\u4e00\u822c\u53ef\u4ee5\u5728 compareTo() \u65b9\u6cd5\u4e2d\u653e\u5165\u66f4\u591a\u7684\u6bd4\u8f83\u6761\u4ef6 \u3000\u3000 @Override \u3000\u3000 public int compareTo ( User user ) { // \u91cd\u5199Comparable\u63a5\u53e3\u7684compareTo\u65b9\u6cd5\uff0c\u6839\u636e\u5e74\u9f84\u5347\u5e8f\u6392\u5217\uff0c\u964d\u5e8f\u4fee\u6539\u76f8\u51cf\u987a\u5e8f\u5373\u53ef \u3000\u3000\u3000 // \u4f60\u4e5f\u53ef\u4ee5\u5b9e\u73b0\u66f4\u590d\u6742\u7684\u6bd4\u8f83\u903b\u8f91\uff0c\u5982\u5c06\u5404\u9879\u6392\u5e8f\u56e0\u5b50\u7edf\u8ba1\u6210\u4e00\u4e2a\u5177\u4f53\u7684\u503c\u7528\u4ee5\u6392\u5e8f\u7b49 return this . age - user . getAge (); \u3000\u3000 }","title":"\u4e8c\u3001\u5b9e\u73b0 Comparable \u5e76\u91cd\u5199 compareTo \u65b9\u6cd5"},{"location":"%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/java/%E5%88%97%E8%A1%A8%E6%8E%92%E5%BA%8F/#_3","text":"\u672c\u8d28\u4e0a\u4e0e\u65b9\u6cd5\u4e8c\u7c7b\u4f3c import java.util.ArrayList ; import java.util.Collections ; import java.util.List ; public class sort { \u3000\u3000 public static void main ( String [] args ) { \u3000\u3000 List < User > list = new ArrayList < User > (); \u3000\u3000 list . add ( new User ( \"\u5f20\u4e09\" , 5 )); \u3000\u3000 list . add ( new User ( \"\u674e\u56db\" , 30 )); \u3000\u3000 list . add ( new User ( \"\u738b\u4e94\" , 19 )); \u3000\u3000 list . add ( new User ( \"\u738b\u9ebb\u5b50\" , 17 )); \u3000\u3000 Collections . sort ( list , new Comparator < User > () { \u3000\u3000\u3000\u3000 @Override \u3000\u3000\u3000\u3000 public int compare ( User u1 , User u2 ) { \u3000\u3000\u3000\u3000\u3000\u3000 int diff = u1 . getAge () - u2 . getAge (); \u3000\u3000\u3000\u3000\u3000\u3000 if ( diff > 0 ) { \u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000 return 1 ; \u3000\u3000\u3000\u3000\u3000\u3000 } else if ( diff < 0 ) { \u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000 return - 1 ; \u3000\u3000\u3000\u3000\u3000\u3000 } \u3000\u3000\u3000\u3000\u3000\u3000 return 0 ; //\u76f8\u7b49\u4e3a0 \u3000\u3000\u3000\u3000 } \u3000\u3000 }); // \u6309\u5e74\u9f84\u6392\u5e8f \u3000\u3000 System . out . println ( list . toString ()); \u3000\u3000 } }","title":"\u4e09\u3001 \u533f\u540d\u5185\u90e8\u7c7b"},{"location":"%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/java/%E5%88%97%E8%A1%A8%E6%8E%92%E5%BA%8F/#_4","text":"\u9002\u7528\u4e8e\u6bd4\u8f83\u903b\u8f91\u590d\u6742\u7a0b\u5ea6\u4ecb\u4e8e\u65b9\u6cd5\u4e00\u548c\u65b9\u6cd5\u4e8c\u4e4b\u95f4\u7684\u6392\u5e8f\uff0c\u540c\u65f6\u4e5f\u662f\u6700\u4e3a\u901a\u7528\u7684\u6392\u5e8f\u65b9\u6cd5 List < Video > videoList = videoService . list ( videoWrapper ); // \u6839\u636esort\u5b57\u6bb5\u8fdb\u884c\u6392\u5e8f videoList . sort ( Comparator . comparing ( Video :: getSort ));","title":"\u56db\u3001\u65b9\u6cd5\u5f15\u7528"},{"location":"%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/java/%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E5%AE%9E%E7%8E%B0/","text":"\u5b57\u7b26\u4e32\u7684\u5b9e\u73b0 \u00b6 Java \u4e2d\u4f7f\u7528\u5b57\u7b26\u4e32\u7684\u65b9\u5f0f\u6709\u4e09\u79cd\uff1aString, StringBuilder, StringBuffer String \u00b6 String \u7684\u4f7f\u7528\u5f88\u7b80\u5355\uff0c\u9700\u8981\u6ce8\u610f\u7684\u662f String \u7684\u5185\u5bb9\u7684\u5e95\u5c42\u5b9e\u73b0\u662f\u4e00\u4e2a final \u4fee\u9970\u7684 char \u6570\u7ec4\uff0c \u56e0\u6b64 String \u53ef\u4ee5\u8ba4\u4e3a\u4e00\u65e6\u58f0\u660e\u5c31\u662f\u4e0d\u53ef\u53d8\u7684\uff0c\u867d\u7136 String \u7c7b\u4e2d\u4e5f\u6709\u63d0\u4f9b\u50cf concat() , replace() \u7b49\u65b9\u6cd5\u7528\u4e8e String \u7684\u64cd\u4f5c\uff0c\u4f46\u8fd9\u4e9b\u65b9\u6cd5\u7684\u5b9e\u73b0\u6700\u7ec8\u90fd\u662f\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684 String \u5bf9\u8c61\uff1a public String concat ( String var1 ) { int var2 = var1 . length (); if ( var2 == 0 ) { return this ; } else { int var3 = this . value . length ; char [] var4 = Arrays . copyOf ( this . value , var3 + var2 ); var1 . getChars ( var4 , var3 ); return new String ( var4 , true ); } } \u6240\u4ee5\u76f4\u63a5\u4f7f\u7528 String \u7c7b\u7684\u65b9\u6cd5\u6765\u64cd\u4f5c String \u662f\u4f4e\u6548\u7684\uff0c\u8fd9\u5c31\u9700\u8981\u7528\u5230 AbstractStringBuilder, \u4ee5\u53ca\u5176\u5b50\u7c7b StringBuilder \u548c StringBuffer AbstractStringBuilder \u00b6 AbstractStringBuilder \u7684\u5b9e\u73b0\u4e2d\uff0c\u7528\u4e8e\u5b58\u50a8\u5b57\u7b26\u4e32\u5185\u5bb9\u7684 char \u6570\u7ec4\u4e0d\u518d\u88ab final \u4fee\u9970\uff0c \u4e14\u5176\u76f8\u5173\u7684\u5b57\u7b26\u4e32\u64cd\u4f5c\u5e95\u5c42\u5747\u4f7f\u7528\u672c\u5730\u65b9\u6cd5\u5b9e\u73b0\uff0c\u56e0\u6b64\u76f8\u8f83\u4e8e String.concat() \u65b9\u6cd5\u8981\u66f4\u4e3a\u9ad8\u6548 public AbstractStringBuilder append ( String var1 ) { if ( var1 == null ) { return this . appendNull (); } else { int var2 = var1 . length (); this . ensureCapacityInternal ( this . count + var2 ); var1 . getChars ( 0 , var2 , this . value , this . count ); this . count += var2 ; return this ; } } public void getChars ( int var1 , int var2 , char [] var3 , int var4 ) { if ( var1 < 0 ) { throw new StringIndexOutOfBoundsException ( var1 ); } else if ( var2 > this . value . length ) { throw new StringIndexOutOfBoundsException ( var2 ); } else if ( var1 > var2 ) { throw new StringIndexOutOfBoundsException ( var2 - var1 ); } else { System . arraycopy ( this . value , var1 , var3 , var4 , var2 - var1 ); } } public static native void arraycopy ( Object var0 , int var1 , Object var2 , int var3 , int var4 ); \u6216\u8bb8\u4e5f\u56e0\u6b64\uff0c\u76f4\u63a5\u4f7f\u7528\u8fd0\u7b97\u7b26\u8fdb\u884c\u7684 String \u62fc\u63a5\u5728\u7f16\u8bd1\u4e3a class \u6587\u4ef6\u4e4b\u540e\u53ef\u4ee5\u770b\u5230\u662f\u4f7f\u7528 StringBuilder.append() \u5b9e\u73b0\u7684\uff1a public class TestString { public static void main ( String [] args ) { String s1 = \"abc\" ; String s2 = \"abc\" ; String s3 = s1 + s2 ; System . out . println ( s3 ); } } \u4e0a\u8ff0\u6587\u4ef6\u53ef\u4ee5\u901a\u8fc7 javap -v $CLASSNAME \u6765\u67e5\u770b\u5176\u6267\u884c\u8fc7\u7a0b\uff1a \u7531\u4e0a\u56fe\u53ef\u89c1\uff0c\u76f4\u63a5\u4f7f\u7528\u8fd0\u7b97\u7b26\u8fdb\u884c\u7684\u5b57\u7b26\u4e32\u62fc\u63a5\u8c03\u7528\u7684\u662f StringBuilder.append() \u65b9\u6cd5\uff0c\u4f46\u662f\u8fd9\u79cd\u8c03\u7528\u5e76\u4e0d\u9ad8\u6548\uff1a JVM \u4f1a\u5148\u58f0\u660e\u4e00\u4e2a\u7a7a\u7684 StringBuilder\uff0c\u7136\u540e\u518d\u5c06 s1, s2 \u9010\u4e2a append() \u8fdb\u53bb\uff0c\u800c\u5982\u679c\u6211\u4eec\u76f4\u63a5\u4f7f\u7528 StringBuilder \u62fc\u63a5 s1, s2 \u5219\u5b8c\u5168\u53ef\u4ee5\u5728 StringBuilder \u521d\u59cb\u5316\u7684\u65f6\u5019\u4f20\u5165\u5176\u4e2d\u4e00\u4e2a\u503c\u4ece\u800c\u964d\u4f4e\u8fd0\u884c\u6210\u672c StringBuffer \u00b6 StringBuffer \u662f StringBuilder \u7684\u7ebf\u7a0b\u5b89\u5168\u5b9e\u73b0\uff0c\u5176\u6e90\u7801\u4e2d\u5927\u90e8\u5206\u65b9\u6cd5\u90fd\u52a0\u4e0a\u4e86 synchronized \u5173\u952e\u5b57\uff0c \u5305\u62ec toSting() \u65b9\u6cd5\uff0c\u8fd9\u610f\u5473\u7740\u4e00\u4e2a\u7ebf\u7a0b\u53d6\u5f97 StringBuffer \u7684\u64cd\u4f5c\u6743\u65f6\u5176\u4ed6\u6b32\u4f7f\u7528 StringBuffer \u7684\u7ebf\u7a0b\u4f1a\u88ab\u963b\u585e \u8fd9\u79cd\u5b9e\u73b0\u80fd\u4fdd\u8bc1 StringBuffer \u7684\u5185\u5bb9\u4e00\u81f4\u6027\uff0c\u4f46\u81ea\u7136\u4e5f\u4f1a\u5e26\u6765\u4e00\u5b9a\u7684\u6027\u80fd\u5f00\u9500\uff0c\u4e8e\u662f StringBuffer \u4e3a toString() \u65b9\u6cd5\u8bbe\u7f6e\u4e86\u7f13\u5b58\uff1a public synchronized String toString () { if ( this . toStringCache == null ) { this . toStringCache = Arrays . copyOfRange ( this . value , 0 , this . count ); } return new String ( this . toStringCache , true ); } private transient char [] toStringCache ; transient \u5173\u952e\u5b57\u4fee\u9970\u7684\u7f13\u5b58\u610f\u5473\u7740\u5b83\u4e0d\u4f1a\u5728 StringBuffer \u5e8f\u5217\u5316\u65f6\u88ab\u56ca\u62ec\u5728\u5185\uff0c\u540c\u65f6\u56e0\u4e3a\u5176\u5b83\u64cd\u4f5c\u65b9\u6cd5\u90fd\u4f1a\u5237\u65b0\u7f13\u5b58\uff0c StringBuffer \u80fd\u4fdd\u8bc1\u5728 StringBuffer \u4e0d\u88ab\u4fee\u6539\u65f6\u662f\u5b89\u5168\u7684 \u7559\u610f\u4e0a\u9762\u6e90\u7801\u4e2d\u7684 return new String(this.toStringCache, true); \uff0c\u8fd9\u662f StringBuffer \u548c StringBuilder \u7684 toString() \u7684\u6700\u5927\u4e0d\u540c\uff0c\u8be5\u65b9\u6cd5\u4ee5\u5e03\u5c14\u503c\u4e3a\u91cd\u8f7d\u7b26\u53f7\uff0c\u4ee5\u6700\u5c0f\u6210\u672c\u5b8c\u6210 String \u7684\u521d\u59cb\u5316\uff1a String ( char [] var1 , boolean var2 ) { this . value = var1 ; } \u800c StringBuilder \u7684 toString() \u8c03\u7528\u7684 String \u6784\u9020\u65b9\u6cd5\u5219\u4e3a\uff1a public String ( char [] var1 , int var2 , int var3 ) { if ( var2 < 0 ) { throw new StringIndexOutOfBoundsException ( var2 ); } else { if ( var3 <= 0 ) { if ( var3 < 0 ) { throw new StringIndexOutOfBoundsException ( var3 ); } if ( var2 <= var1 . length ) { this . value = \"\" . value ; return ; } } if ( var2 > var1 . length - var3 ) { throw new StringIndexOutOfBoundsException ( var2 + var3 ); } else { this . value = Arrays . copyOfRange ( var1 , var2 , var2 + var3 ); } } } \u76f8\u6bd4\u4e4b\u4e0b StringBuffer \u5229\u7528\u7f13\u5b58\u65f6\u4f7f\u7528\u7684 String \u6784\u9020\u51fd\u6570\u529f\u80fd\u66f4\u5c11\u800c\u6210\u672c\u66f4\u5c0f","title":"\u5b57\u7b26\u4e32\u7684\u5b9e\u73b0"},{"location":"%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/java/%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E5%AE%9E%E7%8E%B0/#_1","text":"Java \u4e2d\u4f7f\u7528\u5b57\u7b26\u4e32\u7684\u65b9\u5f0f\u6709\u4e09\u79cd\uff1aString, StringBuilder, StringBuffer","title":"\u5b57\u7b26\u4e32\u7684\u5b9e\u73b0"},{"location":"%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/java/%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E5%AE%9E%E7%8E%B0/#string","text":"String \u7684\u4f7f\u7528\u5f88\u7b80\u5355\uff0c\u9700\u8981\u6ce8\u610f\u7684\u662f String \u7684\u5185\u5bb9\u7684\u5e95\u5c42\u5b9e\u73b0\u662f\u4e00\u4e2a final \u4fee\u9970\u7684 char \u6570\u7ec4\uff0c \u56e0\u6b64 String \u53ef\u4ee5\u8ba4\u4e3a\u4e00\u65e6\u58f0\u660e\u5c31\u662f\u4e0d\u53ef\u53d8\u7684\uff0c\u867d\u7136 String \u7c7b\u4e2d\u4e5f\u6709\u63d0\u4f9b\u50cf concat() , replace() \u7b49\u65b9\u6cd5\u7528\u4e8e String \u7684\u64cd\u4f5c\uff0c\u4f46\u8fd9\u4e9b\u65b9\u6cd5\u7684\u5b9e\u73b0\u6700\u7ec8\u90fd\u662f\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684 String \u5bf9\u8c61\uff1a public String concat ( String var1 ) { int var2 = var1 . length (); if ( var2 == 0 ) { return this ; } else { int var3 = this . value . length ; char [] var4 = Arrays . copyOf ( this . value , var3 + var2 ); var1 . getChars ( var4 , var3 ); return new String ( var4 , true ); } } \u6240\u4ee5\u76f4\u63a5\u4f7f\u7528 String \u7c7b\u7684\u65b9\u6cd5\u6765\u64cd\u4f5c String \u662f\u4f4e\u6548\u7684\uff0c\u8fd9\u5c31\u9700\u8981\u7528\u5230 AbstractStringBuilder, \u4ee5\u53ca\u5176\u5b50\u7c7b StringBuilder \u548c StringBuffer","title":"String"},{"location":"%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/java/%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E5%AE%9E%E7%8E%B0/#abstractstringbuilder","text":"AbstractStringBuilder \u7684\u5b9e\u73b0\u4e2d\uff0c\u7528\u4e8e\u5b58\u50a8\u5b57\u7b26\u4e32\u5185\u5bb9\u7684 char \u6570\u7ec4\u4e0d\u518d\u88ab final \u4fee\u9970\uff0c \u4e14\u5176\u76f8\u5173\u7684\u5b57\u7b26\u4e32\u64cd\u4f5c\u5e95\u5c42\u5747\u4f7f\u7528\u672c\u5730\u65b9\u6cd5\u5b9e\u73b0\uff0c\u56e0\u6b64\u76f8\u8f83\u4e8e String.concat() \u65b9\u6cd5\u8981\u66f4\u4e3a\u9ad8\u6548 public AbstractStringBuilder append ( String var1 ) { if ( var1 == null ) { return this . appendNull (); } else { int var2 = var1 . length (); this . ensureCapacityInternal ( this . count + var2 ); var1 . getChars ( 0 , var2 , this . value , this . count ); this . count += var2 ; return this ; } } public void getChars ( int var1 , int var2 , char [] var3 , int var4 ) { if ( var1 < 0 ) { throw new StringIndexOutOfBoundsException ( var1 ); } else if ( var2 > this . value . length ) { throw new StringIndexOutOfBoundsException ( var2 ); } else if ( var1 > var2 ) { throw new StringIndexOutOfBoundsException ( var2 - var1 ); } else { System . arraycopy ( this . value , var1 , var3 , var4 , var2 - var1 ); } } public static native void arraycopy ( Object var0 , int var1 , Object var2 , int var3 , int var4 ); \u6216\u8bb8\u4e5f\u56e0\u6b64\uff0c\u76f4\u63a5\u4f7f\u7528\u8fd0\u7b97\u7b26\u8fdb\u884c\u7684 String \u62fc\u63a5\u5728\u7f16\u8bd1\u4e3a class \u6587\u4ef6\u4e4b\u540e\u53ef\u4ee5\u770b\u5230\u662f\u4f7f\u7528 StringBuilder.append() \u5b9e\u73b0\u7684\uff1a public class TestString { public static void main ( String [] args ) { String s1 = \"abc\" ; String s2 = \"abc\" ; String s3 = s1 + s2 ; System . out . println ( s3 ); } } \u4e0a\u8ff0\u6587\u4ef6\u53ef\u4ee5\u901a\u8fc7 javap -v $CLASSNAME \u6765\u67e5\u770b\u5176\u6267\u884c\u8fc7\u7a0b\uff1a \u7531\u4e0a\u56fe\u53ef\u89c1\uff0c\u76f4\u63a5\u4f7f\u7528\u8fd0\u7b97\u7b26\u8fdb\u884c\u7684\u5b57\u7b26\u4e32\u62fc\u63a5\u8c03\u7528\u7684\u662f StringBuilder.append() \u65b9\u6cd5\uff0c\u4f46\u662f\u8fd9\u79cd\u8c03\u7528\u5e76\u4e0d\u9ad8\u6548\uff1a JVM \u4f1a\u5148\u58f0\u660e\u4e00\u4e2a\u7a7a\u7684 StringBuilder\uff0c\u7136\u540e\u518d\u5c06 s1, s2 \u9010\u4e2a append() \u8fdb\u53bb\uff0c\u800c\u5982\u679c\u6211\u4eec\u76f4\u63a5\u4f7f\u7528 StringBuilder \u62fc\u63a5 s1, s2 \u5219\u5b8c\u5168\u53ef\u4ee5\u5728 StringBuilder \u521d\u59cb\u5316\u7684\u65f6\u5019\u4f20\u5165\u5176\u4e2d\u4e00\u4e2a\u503c\u4ece\u800c\u964d\u4f4e\u8fd0\u884c\u6210\u672c","title":"AbstractStringBuilder"},{"location":"%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/java/%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E5%AE%9E%E7%8E%B0/#stringbuffer","text":"StringBuffer \u662f StringBuilder \u7684\u7ebf\u7a0b\u5b89\u5168\u5b9e\u73b0\uff0c\u5176\u6e90\u7801\u4e2d\u5927\u90e8\u5206\u65b9\u6cd5\u90fd\u52a0\u4e0a\u4e86 synchronized \u5173\u952e\u5b57\uff0c \u5305\u62ec toSting() \u65b9\u6cd5\uff0c\u8fd9\u610f\u5473\u7740\u4e00\u4e2a\u7ebf\u7a0b\u53d6\u5f97 StringBuffer \u7684\u64cd\u4f5c\u6743\u65f6\u5176\u4ed6\u6b32\u4f7f\u7528 StringBuffer \u7684\u7ebf\u7a0b\u4f1a\u88ab\u963b\u585e \u8fd9\u79cd\u5b9e\u73b0\u80fd\u4fdd\u8bc1 StringBuffer \u7684\u5185\u5bb9\u4e00\u81f4\u6027\uff0c\u4f46\u81ea\u7136\u4e5f\u4f1a\u5e26\u6765\u4e00\u5b9a\u7684\u6027\u80fd\u5f00\u9500\uff0c\u4e8e\u662f StringBuffer \u4e3a toString() \u65b9\u6cd5\u8bbe\u7f6e\u4e86\u7f13\u5b58\uff1a public synchronized String toString () { if ( this . toStringCache == null ) { this . toStringCache = Arrays . copyOfRange ( this . value , 0 , this . count ); } return new String ( this . toStringCache , true ); } private transient char [] toStringCache ; transient \u5173\u952e\u5b57\u4fee\u9970\u7684\u7f13\u5b58\u610f\u5473\u7740\u5b83\u4e0d\u4f1a\u5728 StringBuffer \u5e8f\u5217\u5316\u65f6\u88ab\u56ca\u62ec\u5728\u5185\uff0c\u540c\u65f6\u56e0\u4e3a\u5176\u5b83\u64cd\u4f5c\u65b9\u6cd5\u90fd\u4f1a\u5237\u65b0\u7f13\u5b58\uff0c StringBuffer \u80fd\u4fdd\u8bc1\u5728 StringBuffer \u4e0d\u88ab\u4fee\u6539\u65f6\u662f\u5b89\u5168\u7684 \u7559\u610f\u4e0a\u9762\u6e90\u7801\u4e2d\u7684 return new String(this.toStringCache, true); \uff0c\u8fd9\u662f StringBuffer \u548c StringBuilder \u7684 toString() \u7684\u6700\u5927\u4e0d\u540c\uff0c\u8be5\u65b9\u6cd5\u4ee5\u5e03\u5c14\u503c\u4e3a\u91cd\u8f7d\u7b26\u53f7\uff0c\u4ee5\u6700\u5c0f\u6210\u672c\u5b8c\u6210 String \u7684\u521d\u59cb\u5316\uff1a String ( char [] var1 , boolean var2 ) { this . value = var1 ; } \u800c StringBuilder \u7684 toString() \u8c03\u7528\u7684 String \u6784\u9020\u65b9\u6cd5\u5219\u4e3a\uff1a public String ( char [] var1 , int var2 , int var3 ) { if ( var2 < 0 ) { throw new StringIndexOutOfBoundsException ( var2 ); } else { if ( var3 <= 0 ) { if ( var3 < 0 ) { throw new StringIndexOutOfBoundsException ( var3 ); } if ( var2 <= var1 . length ) { this . value = \"\" . value ; return ; } } if ( var2 > var1 . length - var3 ) { throw new StringIndexOutOfBoundsException ( var2 + var3 ); } else { this . value = Arrays . copyOfRange ( var1 , var2 , var2 + var3 ); } } } \u76f8\u6bd4\u4e4b\u4e0b StringBuffer \u5229\u7528\u7f13\u5b58\u65f6\u4f7f\u7528\u7684 String \u6784\u9020\u51fd\u6570\u529f\u80fd\u66f4\u5c11\u800c\u6210\u672c\u66f4\u5c0f","title":"StringBuffer"},{"location":"%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/typescript/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/any%26unknown%26never/","text":"any \u548c unknown \u548c never \u00b6 any \u00b6 any \u5373\u901a\u7528\u6570\u636e\u7c7b\u578b\uff0c\u5b83\u53ef\u4ee5\u662f\u6db5\u76d6\u4e86\u6240\u6709\u6570\u636e\u7c7b\u578b\u7684\u96c6\u5408\uff0c \u56e0\u6b64\u5047\u5982\u6570\u636e\u662f number\uff0c\u5b83\u4e5f\u53ef\u4ee5\u8c03\u7528 string.split() \u65b9\u6cd5 unknown \u00b6 unknown \u4e3a\u8d4b\u503c\u65f6\u5c1a\u4e0d\u6e05\u695a\u6570\u636e\u7c7b\u578b\u7684\u60c5\u51b5\u670d\u52a1\uff0c\u5b83\u4e5f\u53ef\u4ee5\u6db5\u76d6\u6240\u6709\u7684\u6570\u636e\u7c7b\u578b\uff0c \u4f46\u4e0e any \u4e0d\u540c\u7684\u662f\uff0cts \u4f1a\u68c0\u67e5 unknown \u7684\u5bf9\u8c61\u662f\u5426\u5728 unknown \u7684\u72b6\u6001\u4e0b\u8c03\u7528\u4e86\u786e\u5b9a\u7c7b\u578b\u7684\u65b9\u6cd5\u5e76\u53d1\u51fa\u8b66\u544a \u4f7f\u7528 unknown \u7c7b\u578b\u63a5\u6536\u6570\u636e\u4e4b\u540e\u5e94\u4f7f\u7528\u65ad\u8a00\u8fdb\u884c\u7c7b\u578b\u8f6c\u6362\uff1a const b : unknown = 'test, temp' ; const c = b as string ; c . split ( ',' ); never \u00b6 never \u76f8\u5f53\u4e8e\u7a7a\u96c6\uff0c\u8868\u793a\u6c38\u4e0d\u5b58\u5728\u503c\u7684\u7c7b\u578b\uff0c\u5e38\u7528\u4e8e\u6784\u9020\u6761\u4ef6\u7c7b\u578b\u6765\u7ec4\u5408\u51fa\u66f4\u7075\u6d3b\u7684\u63a8\u65ad","title":"any \u548c unknown \u548c never"},{"location":"%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/typescript/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/any%26unknown%26never/#any-unknown-never","text":"","title":"any \u548c unknown \u548c never"},{"location":"%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/typescript/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/any%26unknown%26never/#any","text":"any \u5373\u901a\u7528\u6570\u636e\u7c7b\u578b\uff0c\u5b83\u53ef\u4ee5\u662f\u6db5\u76d6\u4e86\u6240\u6709\u6570\u636e\u7c7b\u578b\u7684\u96c6\u5408\uff0c \u56e0\u6b64\u5047\u5982\u6570\u636e\u662f number\uff0c\u5b83\u4e5f\u53ef\u4ee5\u8c03\u7528 string.split() \u65b9\u6cd5","title":"any"},{"location":"%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/typescript/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/any%26unknown%26never/#unknown","text":"unknown \u4e3a\u8d4b\u503c\u65f6\u5c1a\u4e0d\u6e05\u695a\u6570\u636e\u7c7b\u578b\u7684\u60c5\u51b5\u670d\u52a1\uff0c\u5b83\u4e5f\u53ef\u4ee5\u6db5\u76d6\u6240\u6709\u7684\u6570\u636e\u7c7b\u578b\uff0c \u4f46\u4e0e any \u4e0d\u540c\u7684\u662f\uff0cts \u4f1a\u68c0\u67e5 unknown \u7684\u5bf9\u8c61\u662f\u5426\u5728 unknown \u7684\u72b6\u6001\u4e0b\u8c03\u7528\u4e86\u786e\u5b9a\u7c7b\u578b\u7684\u65b9\u6cd5\u5e76\u53d1\u51fa\u8b66\u544a \u4f7f\u7528 unknown \u7c7b\u578b\u63a5\u6536\u6570\u636e\u4e4b\u540e\u5e94\u4f7f\u7528\u65ad\u8a00\u8fdb\u884c\u7c7b\u578b\u8f6c\u6362\uff1a const b : unknown = 'test, temp' ; const c = b as string ; c . split ( ',' );","title":"unknown"},{"location":"%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/typescript/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/any%26unknown%26never/#never","text":"never \u76f8\u5f53\u4e8e\u7a7a\u96c6\uff0c\u8868\u793a\u6c38\u4e0d\u5b58\u5728\u503c\u7684\u7c7b\u578b\uff0c\u5e38\u7528\u4e8e\u6784\u9020\u6761\u4ef6\u7c7b\u578b\u6765\u7ec4\u5408\u51fa\u66f4\u7075\u6d3b\u7684\u63a8\u65ad","title":"never"},{"location":"%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/typescript/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/enum/","text":"enum \u00b6 enum \u7684\u4f7f\u7528\u573a\u666f \u00b6 enum \u679a\u4e3e\u5e38\u88ab\u7528\u6765\u4e3a\u5404\u79cd\u6807\u5fd7\u4f4d\u8bbe\u7f6e\u8bed\u4e49\u63d0\u793a\uff0c\u6bd4\u5982\uff1a \u5f53\u540e\u7aef\u8fd4\u56de\u7684 json \u6570\u636e\u4e2d\u6709\u4e00\u4e2a\u5b57\u6bb5 status\uff0c \u8be5\u5b57\u6bb5\u901a\u8fc7\u4e0d\u540c\u7684\u6574\u6570\u53d6\u503c\u8868\u793a\u4e0d\u540c\u7684\u72b6\u6001\u65f6\uff0c \u4fbf\u53ef\u8003\u8651\u4f7f\u7528 enum \u6765\u4e3a\u8fd9\u4e9b\u53d6\u503c\u8bbe\u7f6e\u8bed\u4e49\uff1a enum Status { // \u4e3a\u4efb\u610f\u5143\u7d20\u8bbe\u7f6e\u521d\u59cb\u503c\u540e\uff0cts\u4f1a\u81ea\u52a8\u4e3a\u540e\u7eed\u5143\u7d20\u8bbe\u7f6e\u9012\u589e\u540e\u7684\u503c todo = 0 , done , archived , deleted , } interface R { name : string ; status : Status ; } let file : R = { name : 'temp' , status : Status.archived , }; console . log ( file . status ); // 2 \u6b64\u5916\uff0cenum \u4e5f\u53ef\u4ee5\u7528\u4f5c\u524d\u7aef\u7684\u6743\u9650\u63a7\u5236 enum Permission { None = 0 , // 0000 Read = 1 << 0 , // 0001 Write = 1 << 1 , // 0010 Delete = 1 << 2 , // 0100 Manage = Read | Write | Delete , // 0111 } type User = { permission : Permission ; }; const user = { // 0b \u4ee3\u8868\u4e8c\u8fdb\u5236 permission : 0b0111 , }; // \u6743\u9650\u5224\u65ad if ( canWrite ( user . permission )) { console . log ( '\u7528\u6237\u5177\u6709\u5199\u6743\u9650' ); } if ( canManage ( user . permission )) { console . log ( '\u7528\u6237\u5177\u6709\u7ba1\u7406\u6743\u9650' ); } function canWrite ( permission : Permission ) : boolean { return ( permission & Permission . Write ) === Permission . Write ; } function canManage ( permission : Permission ) : boolean { return ( user . permission & Permission . Manage ) === Permission . Manage ; } \u4e0d\u5e94\u4f7f\u7528 enum \u7684\u60c5\u51b5 \u00b6 \u5f53\u9009\u9879\u672c\u8eab\u8fb9\u5b58\u5728\u8bed\u4e49\u7684\u65f6\u5019\u4e0d\u5e94\u4f7f\u7528 enum\uff0c\u800c\u5e94\u8be5\u76f4\u63a5\u4f7f\u7528 type \u5b9a\u4e49\u96c6\u5408 enum Fruit { apple = 'apple' , banana = 'banana' , pineapple = 'pineapple' , watermelon = 'watermelon' , } let f : Fruit = Fruit . apple ; f = Fruit . watermelon ; console . log ( f ); \u4ee5\u4e0a\u4f8b\u5b50\u4e2d\uff0c\u56e0\u4e3a Fruit \u4e2d\u7684\u9009\u9879\u6240\u4ee3\u8868\u7684\u503c\u672c\u8eab\u5c31\u6709\u4fbf\u4e8e\u7406\u89e3\u7684\u5b8c\u6574\u8bed\u4e49\uff0c \u56e0\u6b64\u518d\u4f7f\u7528 enum \u5c31\u4f1a\u663e\u5f97\u591a\u6b64\u4e00\u4e3e \u7531\u4e8e typescript \u7684\u6570\u636e\u7c7b\u578b\u672c\u8d28\u4e0a\u662f\u4e00\u79cd\u503c\u7684\u96c6\u5408\uff0c \u6240\u4ee5\u4e0a\u8ff0\u4ee3\u7801\u53ef\u4ee5\u76f4\u63a5\u6539\u6210\u4ee5\u4e0b\u5f62\u5f0f: type Fruit = 'apple' | 'banana' | 'pineapple' | 'watermelon' ; let f : Fruit = 'apple' ; f = 'watermelon' ; console . log ( f );","title":"enum"},{"location":"%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/typescript/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/enum/#enum","text":"","title":"enum"},{"location":"%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/typescript/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/enum/#enum_1","text":"enum \u679a\u4e3e\u5e38\u88ab\u7528\u6765\u4e3a\u5404\u79cd\u6807\u5fd7\u4f4d\u8bbe\u7f6e\u8bed\u4e49\u63d0\u793a\uff0c\u6bd4\u5982\uff1a \u5f53\u540e\u7aef\u8fd4\u56de\u7684 json \u6570\u636e\u4e2d\u6709\u4e00\u4e2a\u5b57\u6bb5 status\uff0c \u8be5\u5b57\u6bb5\u901a\u8fc7\u4e0d\u540c\u7684\u6574\u6570\u53d6\u503c\u8868\u793a\u4e0d\u540c\u7684\u72b6\u6001\u65f6\uff0c \u4fbf\u53ef\u8003\u8651\u4f7f\u7528 enum \u6765\u4e3a\u8fd9\u4e9b\u53d6\u503c\u8bbe\u7f6e\u8bed\u4e49\uff1a enum Status { // \u4e3a\u4efb\u610f\u5143\u7d20\u8bbe\u7f6e\u521d\u59cb\u503c\u540e\uff0cts\u4f1a\u81ea\u52a8\u4e3a\u540e\u7eed\u5143\u7d20\u8bbe\u7f6e\u9012\u589e\u540e\u7684\u503c todo = 0 , done , archived , deleted , } interface R { name : string ; status : Status ; } let file : R = { name : 'temp' , status : Status.archived , }; console . log ( file . status ); // 2 \u6b64\u5916\uff0cenum \u4e5f\u53ef\u4ee5\u7528\u4f5c\u524d\u7aef\u7684\u6743\u9650\u63a7\u5236 enum Permission { None = 0 , // 0000 Read = 1 << 0 , // 0001 Write = 1 << 1 , // 0010 Delete = 1 << 2 , // 0100 Manage = Read | Write | Delete , // 0111 } type User = { permission : Permission ; }; const user = { // 0b \u4ee3\u8868\u4e8c\u8fdb\u5236 permission : 0b0111 , }; // \u6743\u9650\u5224\u65ad if ( canWrite ( user . permission )) { console . log ( '\u7528\u6237\u5177\u6709\u5199\u6743\u9650' ); } if ( canManage ( user . permission )) { console . log ( '\u7528\u6237\u5177\u6709\u7ba1\u7406\u6743\u9650' ); } function canWrite ( permission : Permission ) : boolean { return ( permission & Permission . Write ) === Permission . Write ; } function canManage ( permission : Permission ) : boolean { return ( user . permission & Permission . Manage ) === Permission . Manage ; }","title":"enum \u7684\u4f7f\u7528\u573a\u666f"},{"location":"%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/typescript/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/enum/#enum_2","text":"\u5f53\u9009\u9879\u672c\u8eab\u8fb9\u5b58\u5728\u8bed\u4e49\u7684\u65f6\u5019\u4e0d\u5e94\u4f7f\u7528 enum\uff0c\u800c\u5e94\u8be5\u76f4\u63a5\u4f7f\u7528 type \u5b9a\u4e49\u96c6\u5408 enum Fruit { apple = 'apple' , banana = 'banana' , pineapple = 'pineapple' , watermelon = 'watermelon' , } let f : Fruit = Fruit . apple ; f = Fruit . watermelon ; console . log ( f ); \u4ee5\u4e0a\u4f8b\u5b50\u4e2d\uff0c\u56e0\u4e3a Fruit \u4e2d\u7684\u9009\u9879\u6240\u4ee3\u8868\u7684\u503c\u672c\u8eab\u5c31\u6709\u4fbf\u4e8e\u7406\u89e3\u7684\u5b8c\u6574\u8bed\u4e49\uff0c \u56e0\u6b64\u518d\u4f7f\u7528 enum \u5c31\u4f1a\u663e\u5f97\u591a\u6b64\u4e00\u4e3e \u7531\u4e8e typescript \u7684\u6570\u636e\u7c7b\u578b\u672c\u8d28\u4e0a\u662f\u4e00\u79cd\u503c\u7684\u96c6\u5408\uff0c \u6240\u4ee5\u4e0a\u8ff0\u4ee3\u7801\u53ef\u4ee5\u76f4\u63a5\u6539\u6210\u4ee5\u4e0b\u5f62\u5f0f: type Fruit = 'apple' | 'banana' | 'pineapple' | 'watermelon' ; let f : Fruit = 'apple' ; f = 'watermelon' ; console . log ( f );","title":"\u4e0d\u5e94\u4f7f\u7528 enum \u7684\u60c5\u51b5"},{"location":"%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/typescript/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/ts%E7%9A%84%E8%B5%8B%E5%80%BC%E7%B1%BB%E5%9E%8B%E5%85%BC%E5%AE%B9/","text":"ts \u7684\u8d4b\u503c\u7c7b\u578b\u517c\u5bb9 \u00b6 ts \u5728\u8fdb\u884c\u8d4b\u503c\u65f6\u4f1a\u8fdb\u884c\u7c7b\u578b\u517c\u5bb9\uff0c\u89c2\u5bdf\u4ee5\u4e0b\u4ee3\u7801 \u4ee3\u7801\u4e2d\u5148\u58f0\u660e\u4e86\u62e5\u6709 left \u5b57\u6bb5\u7684 healthy \u53d8\u91cf\u540e\u518d\u8d4b\u503c\u5230\u4e00\u4e2a A \u7c7b\u578b\u7684\u5bf9\u8c61 pass \u65f6\u4e0d\u4f1a\u62a5\u9519\uff0c \u8fd9\u662f\u56e0\u4e3a\u8d4b\u503c\u65f6\u4f1a\u5bf9\u7c7b\u578b\u8fdb\u884c\u517c\u5bb9\u5904\u7406\uff0c\u6b64\u65f6\u5176\u8f93\u51fa\u4e3a\uff1a \u800c\u82e5\u6211\u4eec\u76f4\u63a5\u8fdb\u884c\u8d4b\u503c\uff0c\u5373 unpass \u5bf9\u8c61\uff0c\u5219\u4f1a\u56e0\u4e25\u683c\u7684\u7c7b\u578b\u68c0\u6d4b\u800c\u4e0d\u5141\u8bb8\u6301\u6709 right \u5b57\u6bb5","title":"ts \u7684\u8d4b\u503c\u7c7b\u578b\u517c\u5bb9"},{"location":"%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/typescript/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/ts%E7%9A%84%E8%B5%8B%E5%80%BC%E7%B1%BB%E5%9E%8B%E5%85%BC%E5%AE%B9/#ts","text":"ts \u5728\u8fdb\u884c\u8d4b\u503c\u65f6\u4f1a\u8fdb\u884c\u7c7b\u578b\u517c\u5bb9\uff0c\u89c2\u5bdf\u4ee5\u4e0b\u4ee3\u7801 \u4ee3\u7801\u4e2d\u5148\u58f0\u660e\u4e86\u62e5\u6709 left \u5b57\u6bb5\u7684 healthy \u53d8\u91cf\u540e\u518d\u8d4b\u503c\u5230\u4e00\u4e2a A \u7c7b\u578b\u7684\u5bf9\u8c61 pass \u65f6\u4e0d\u4f1a\u62a5\u9519\uff0c \u8fd9\u662f\u56e0\u4e3a\u8d4b\u503c\u65f6\u4f1a\u5bf9\u7c7b\u578b\u8fdb\u884c\u517c\u5bb9\u5904\u7406\uff0c\u6b64\u65f6\u5176\u8f93\u51fa\u4e3a\uff1a \u800c\u82e5\u6211\u4eec\u76f4\u63a5\u8fdb\u884c\u8d4b\u503c\uff0c\u5373 unpass \u5bf9\u8c61\uff0c\u5219\u4f1a\u56e0\u4e25\u683c\u7684\u7c7b\u578b\u68c0\u6d4b\u800c\u4e0d\u5141\u8bb8\u6301\u6709 right \u5b57\u6bb5","title":"ts \u7684\u8d4b\u503c\u7c7b\u578b\u517c\u5bb9"},{"location":"%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/typescript/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/type%26interface/","text":"type & interface \u533a\u522b \u00b6 type \u00b6 type \u53c8\u79f0*\u7c7b\u578b\u522b\u540d*\uff0c\u5176\u672c\u8d28\u4e0a\u662f\u7ed9\u6240\u5b9a\u4e49\u7684\u7c7b\u578b\u53bb\u522b\u540d\uff0c \u5927\u591a\u6570\u573a\u5408\u4e0b\u90fd\u53ef\u4ee5\u4f7f\u7528 type typescript \u4e2d\u7684\u6bcf\u4e00\u4e2a\u7c7b\u578b\u90fd\u662f\u4e00\u4e2a\u96c6\u5408\uff0c \u50cf type A = 0 \u91cc\u7684 0 \u8868\u793a\u7684\u662f\u4ec5\u67090\u4e00\u4e2a\u503c\u7684\u96c6\u5408\uff0c \u7531\u6b64\u7c7b\u63a8 type falseLike = false | null | '' | undefined \uff0c \u5219\u662f\u8868\u793a falseLike \u662f\u5c06\u5305\u542b\u540e\u9762\u51e0\u4e2a\u4ec5\u6709\u4e00\u4e2a\u503c\u7684\u96c6\u5408\u7684\u96c6\u5408\u4f5c\u4e3a\u4e00\u79cd\u7c7b\u578b; \u800c type Person = { name: string; age: number } \u5219\u662f\u8868\u793a\u5c06\u5305\u542b name, age \u4e24\u4e2a\u5b57\u6bb5\u7684\u5bf9\u8c61\u96c6\u5408\u547d\u540d\u4e3a Person \u7c7b\u578b interface \u00b6 \u63a5\u53e3\u7684\u6982\u5ff5\u6e90\u81ea\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b; typescript \u4e2d\u7684 interface \u7528\u4ee5\u58f0\u660e\u63a5\u53e3\uff0c\u63cf\u8ff0**\u5bf9\u8c61\u7684\u5c5e\u6027**\uff0c interface \u548c\u7ed9\u5bf9\u8c61\u53d6\u522b\u540d\u65f6\u7684 type \u8fd8\u662f\u7c7b\u4f3c\u7684\uff0c\u4ee5\u4e0b\u4ee3\u7801\u4e2d\u4e24\u79cd Paper \u5b9e\u73b0\u662f\u4e00\u81f4\u7684\uff1a interface Paper extends Array < string > , Article { id : number ; field : string ; } interface Article { wordCount : number ; } type PaperInType = Array < string > & { id : number ; field : string ; } & Article ; \u533a\u522b \u00b6 1. \u8303\u56f4\u4e0d\u540c \u00b6 \u5c31\u50cf\u4e0a\u9762\u8bf4\u5230\u7684\u90a3\u6837\uff0cinterface \u53ea\u80fd\u63cf\u8ff0 \u5bf9\u8c61 \uff0c\u800c type \u5219\u53ef\u63cf\u8ff0\u6240\u6709\u6570\u636e\uff0c \u56e0\u6b64\u5b83\u4e0d\u80fd\u50cf type \u90a3\u6837\u4ec5\u7528 string, number \u7b49\u7c7b\u578b\u7684\u67d0\u4e9b\u503c\u7ec4\u88c5\u7c7b\u578b 2. \u63cf\u8ff0\u7684\u6027\u8d28\u4e0d\u540c \u00b6 type \u53ea\u662f\u53d6\u522b\u540d\uff0c\u800c interface \u5219\u662f\u7c7b\u578b**\u58f0\u660e**\uff0c \u7ecf\u8fc7 interface \u58f0\u660e\u7684\u7c7b\u578b\u662f\u771f\u5b9e\u5b58\u5728\u7684\uff0c\u800c type \u5f80\u5f80\u8fd8\u4f1a\u88ab lsp \u8f6c\u6362\u4e3a\u539f\u59cb\u7ed3\u6784 \u4e0d\u8fc7\u8fd9\u70b9\u5728\u4f7f\u7528\u4e0a\u4f53\u9a8c\u5dee\u8ddd\u4e0d\u5927 3. type \u4e0d\u53ef\u91cd\u65b0\u8d4b\u503c\uff0c\u800c interface \u53ef\u4ee5\u8fdb\u884c\u81ea\u52a8\u5408\u5e76 \u00b6 \u4e0d\u53ef\u91cd\u65b0\u8d4b\u503c\u65e2\u662f type \u7684\u4f18\u70b9\uff0c\u4e5f\u662f type \u7684\u7f3a\u70b9 \u4e0d\u53ef\u91cd\u65b0\u8d4b\u503c\u4f7f type \u5728\u7f16\u8bd1\u7684\u65f6\u5019\u6709\u66f4\u9ad8\u7684\u6027\u80fd\uff0c \u540c\u65f6\u907f\u514d\u5176\u5728\u4f7f\u7528\u65f6\u51fa\u73b0\u4e8c\u4e49\u6027\uff0c\u4f46\u4e5f\u4f7f\u5176\u62d3\u5c55\u6027\u964d\u4f4e \u4e0e\u4e4b\u76f8\u53cd\u7684\u662f\uff0ctypescript \u53ef\u4ee5\u901a\u8fc7\u58f0\u660e\u540c\u540d\u63a5\u53e3\u6765\u4e3a\u8be5\u63a5\u53e3\u6dfb\u52a0\u65b0\u7684\u5c5e\u6027 interface ForExpand { name : string ; age : number ; } // \u53ef\u4ee5\u51fa\u73b0\u5728\u4e0d\u540c\u7684\u6587\u4ef6\u4e2d interface ForExpand { expanded : boolean ; sex? : number } const a : ForExpand = { name : 'name' , age : 18 , expanded : false } \u5b9e\u9645\u5e94\u7528\u4e0a\u4fbf\u53ef\u901a\u8fc7\u8fd9\u4e2a\u7279\u6027\u6765\u65b9\u4fbf\u5730\u5c01\u88c5\u4e00\u4e9b\u6a21\u5757\u7684\u4ee3\u7801\uff1a import { InterfaceWaitForExpand } from 'module' ; declare module 'module' { // \u6307\u5b9a\u53ea\u62d3\u5c55 module \u6a21\u5757\u7684\u5185\u5bb9 export interface InterfaceWaitForExpand { // \u8fd9\u91cc\u8f93\u51fa\u5b9a\u4e49\u4e86\u4e24\u4e2a\u5b57\u6bb5\u5230 InterfaceWaitForExpand \u63a5\u53e3\u4e2d // ts \u4f1a\u5c06\u8fd9\u4e24\u4e2a\u5b57\u6bb5\u5408\u5e76\u5230 module \u4e2d\u7684 InterfaceWaitForExpand \u63a5\u53e3 _field1 : boolean ; _field2 : string ; } } \u82e5\u60f3\u6269\u5c55\u5168\u5c40\u7684\u63a5\u53e3\u5219\u53ef\u4ee5\u4f7f\u7528 declare globle declare global { interface String { padZero ( length : number ) : string ; } } \u56e0\u6b64\uff0c \u5bf9\u5916 api \u5c3d\u91cf\u4f7f\u7528 interface\uff0c\u65b9\u4fbf\u6269\u5c55\uff1b\u5bf9\u5185 api \u5c3d\u91cf\u4f7f\u7528 type\uff0c\u9632\u6b62\u4ee3\u7801\u5206\u6563","title":"type & interface \u533a\u522b"},{"location":"%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/typescript/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/type%26interface/#type-interface","text":"","title":"type &amp; interface \u533a\u522b"},{"location":"%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/typescript/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/type%26interface/#type","text":"type \u53c8\u79f0*\u7c7b\u578b\u522b\u540d*\uff0c\u5176\u672c\u8d28\u4e0a\u662f\u7ed9\u6240\u5b9a\u4e49\u7684\u7c7b\u578b\u53bb\u522b\u540d\uff0c \u5927\u591a\u6570\u573a\u5408\u4e0b\u90fd\u53ef\u4ee5\u4f7f\u7528 type typescript \u4e2d\u7684\u6bcf\u4e00\u4e2a\u7c7b\u578b\u90fd\u662f\u4e00\u4e2a\u96c6\u5408\uff0c \u50cf type A = 0 \u91cc\u7684 0 \u8868\u793a\u7684\u662f\u4ec5\u67090\u4e00\u4e2a\u503c\u7684\u96c6\u5408\uff0c \u7531\u6b64\u7c7b\u63a8 type falseLike = false | null | '' | undefined \uff0c \u5219\u662f\u8868\u793a falseLike \u662f\u5c06\u5305\u542b\u540e\u9762\u51e0\u4e2a\u4ec5\u6709\u4e00\u4e2a\u503c\u7684\u96c6\u5408\u7684\u96c6\u5408\u4f5c\u4e3a\u4e00\u79cd\u7c7b\u578b; \u800c type Person = { name: string; age: number } \u5219\u662f\u8868\u793a\u5c06\u5305\u542b name, age \u4e24\u4e2a\u5b57\u6bb5\u7684\u5bf9\u8c61\u96c6\u5408\u547d\u540d\u4e3a Person \u7c7b\u578b","title":"type"},{"location":"%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/typescript/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/type%26interface/#interface","text":"\u63a5\u53e3\u7684\u6982\u5ff5\u6e90\u81ea\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b; typescript \u4e2d\u7684 interface \u7528\u4ee5\u58f0\u660e\u63a5\u53e3\uff0c\u63cf\u8ff0**\u5bf9\u8c61\u7684\u5c5e\u6027**\uff0c interface \u548c\u7ed9\u5bf9\u8c61\u53d6\u522b\u540d\u65f6\u7684 type \u8fd8\u662f\u7c7b\u4f3c\u7684\uff0c\u4ee5\u4e0b\u4ee3\u7801\u4e2d\u4e24\u79cd Paper \u5b9e\u73b0\u662f\u4e00\u81f4\u7684\uff1a interface Paper extends Array < string > , Article { id : number ; field : string ; } interface Article { wordCount : number ; } type PaperInType = Array < string > & { id : number ; field : string ; } & Article ;","title":"interface"},{"location":"%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/typescript/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/type%26interface/#_1","text":"","title":"\u533a\u522b"},{"location":"%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/typescript/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/type%26interface/#1","text":"\u5c31\u50cf\u4e0a\u9762\u8bf4\u5230\u7684\u90a3\u6837\uff0cinterface \u53ea\u80fd\u63cf\u8ff0 \u5bf9\u8c61 \uff0c\u800c type \u5219\u53ef\u63cf\u8ff0\u6240\u6709\u6570\u636e\uff0c \u56e0\u6b64\u5b83\u4e0d\u80fd\u50cf type \u90a3\u6837\u4ec5\u7528 string, number \u7b49\u7c7b\u578b\u7684\u67d0\u4e9b\u503c\u7ec4\u88c5\u7c7b\u578b","title":"1. \u8303\u56f4\u4e0d\u540c"},{"location":"%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/typescript/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/type%26interface/#2","text":"type \u53ea\u662f\u53d6\u522b\u540d\uff0c\u800c interface \u5219\u662f\u7c7b\u578b**\u58f0\u660e**\uff0c \u7ecf\u8fc7 interface \u58f0\u660e\u7684\u7c7b\u578b\u662f\u771f\u5b9e\u5b58\u5728\u7684\uff0c\u800c type \u5f80\u5f80\u8fd8\u4f1a\u88ab lsp \u8f6c\u6362\u4e3a\u539f\u59cb\u7ed3\u6784 \u4e0d\u8fc7\u8fd9\u70b9\u5728\u4f7f\u7528\u4e0a\u4f53\u9a8c\u5dee\u8ddd\u4e0d\u5927","title":"2. \u63cf\u8ff0\u7684\u6027\u8d28\u4e0d\u540c"},{"location":"%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/typescript/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/type%26interface/#3-type-interface","text":"\u4e0d\u53ef\u91cd\u65b0\u8d4b\u503c\u65e2\u662f type \u7684\u4f18\u70b9\uff0c\u4e5f\u662f type \u7684\u7f3a\u70b9 \u4e0d\u53ef\u91cd\u65b0\u8d4b\u503c\u4f7f type \u5728\u7f16\u8bd1\u7684\u65f6\u5019\u6709\u66f4\u9ad8\u7684\u6027\u80fd\uff0c \u540c\u65f6\u907f\u514d\u5176\u5728\u4f7f\u7528\u65f6\u51fa\u73b0\u4e8c\u4e49\u6027\uff0c\u4f46\u4e5f\u4f7f\u5176\u62d3\u5c55\u6027\u964d\u4f4e \u4e0e\u4e4b\u76f8\u53cd\u7684\u662f\uff0ctypescript \u53ef\u4ee5\u901a\u8fc7\u58f0\u660e\u540c\u540d\u63a5\u53e3\u6765\u4e3a\u8be5\u63a5\u53e3\u6dfb\u52a0\u65b0\u7684\u5c5e\u6027 interface ForExpand { name : string ; age : number ; } // \u53ef\u4ee5\u51fa\u73b0\u5728\u4e0d\u540c\u7684\u6587\u4ef6\u4e2d interface ForExpand { expanded : boolean ; sex? : number } const a : ForExpand = { name : 'name' , age : 18 , expanded : false } \u5b9e\u9645\u5e94\u7528\u4e0a\u4fbf\u53ef\u901a\u8fc7\u8fd9\u4e2a\u7279\u6027\u6765\u65b9\u4fbf\u5730\u5c01\u88c5\u4e00\u4e9b\u6a21\u5757\u7684\u4ee3\u7801\uff1a import { InterfaceWaitForExpand } from 'module' ; declare module 'module' { // \u6307\u5b9a\u53ea\u62d3\u5c55 module \u6a21\u5757\u7684\u5185\u5bb9 export interface InterfaceWaitForExpand { // \u8fd9\u91cc\u8f93\u51fa\u5b9a\u4e49\u4e86\u4e24\u4e2a\u5b57\u6bb5\u5230 InterfaceWaitForExpand \u63a5\u53e3\u4e2d // ts \u4f1a\u5c06\u8fd9\u4e24\u4e2a\u5b57\u6bb5\u5408\u5e76\u5230 module \u4e2d\u7684 InterfaceWaitForExpand \u63a5\u53e3 _field1 : boolean ; _field2 : string ; } } \u82e5\u60f3\u6269\u5c55\u5168\u5c40\u7684\u63a5\u53e3\u5219\u53ef\u4ee5\u4f7f\u7528 declare globle declare global { interface String { padZero ( length : number ) : string ; } } \u56e0\u6b64\uff0c \u5bf9\u5916 api \u5c3d\u91cf\u4f7f\u7528 interface\uff0c\u65b9\u4fbf\u6269\u5c55\uff1b\u5bf9\u5185 api \u5c3d\u91cf\u4f7f\u7528 type\uff0c\u9632\u6b62\u4ee3\u7801\u5206\u6563","title":"3. type \u4e0d\u53ef\u91cd\u65b0\u8d4b\u503c\uff0c\u800c interface \u53ef\u4ee5\u8fdb\u884c\u81ea\u52a8\u5408\u5e76"},{"location":"%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/typescript/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8BDatatype/","text":"TS \u4e2d\u7684\u6570\u636e\u7c7b\u578b(Datatype) \u00b6 \u6570\u636e\u7c7b\u578b\u79cd\u7c7b \u00b6 TS \u7684\u6570\u636e\u7c7b\u578b\u79cd\u7c7b\u4e3b\u8981\u6709\u4e24\u79cd\uff1a\u6765\u81ea JS \u7684\u6570\u636e\u7c7b\u578b\u548c\u6765\u81ea TS \u81ea\u8eab\u7684\u6570\u636e\u7c7b\u578b \u6765\u81ea JS \u7684\u6570\u636e\u7c7b\u578b \u00b6 null, undefined, string, number, boolean, bigint, symbol, object (\u542b Array, Function, Date, RegExp...) TS \u81ea\u5df1\u7684\u6570\u636e\u7c7b\u578b \u00b6 void, never, enum, unknown, any, \u81ea\u5b9a\u4e49\u7c7b\u578b\uff1atype, interface TS \u7684\u5305\u88c5\u5bf9\u8c61 \u00b6 \u50cf java \u4e00\u6837\uff0cTS \u4e5f\u6709\u5305\u88c5\u7c7b\u7684\u8bf4\u6cd5 TS \u7684\u5305\u88c5\u7c7b\u4e00\u822c\u5305\u542b\u4ee5\u4e0b\u65b9\u6cd5\uff1a \u5b57\u7b26\u4e32\u8f6c\u6362\uff1a toString() , toLocaleString() , \u540e\u8005\u6839\u636e\u8fd0\u884c\u73af\u5883\u51b3\u5b9a String \u7684\u5b9e\u73b0 \u8868\u793a\u65b9\u6cd5/\u7cbe\u5ea6\u8f6c\u6362\uff1a\u6307\u6570\u5f0f\u663e\u5f0f toExponential() \uff0c \u4f4d\u6570\u6307\u5b9a toPrecision() \uff0c\u5c0f\u6570\u4f4d\u4f4d\u6570\u6307\u5b9a toFixed() ValueOf() \u65b9\u6cd5 \u5b9e\u9645\u4f7f\u7528\u65f6\u4e00\u822c\u4e0d\u4f1a\u663e\u5f0f\u5730\u7528\u5230\u5305\u88c5\u7c7b\uff0c\u4f46\u6bcf\u4e2a\u57fa\u672c\u6570\u636e\u7c7b\u578b\u90fd\u53ef\u901a\u8fc7\u8c03\u7528\u4e0a\u8ff0\u5305\u88c5\u7c7b\u7684\u65b9\u6cd5\u6765\u4f7f\u7528\u5305\u88c5\u7c7b\uff0c \u6b64\u65f6 TS \u4f1a\u9690\u5f0f\u5730\u5c06\u53d8\u91cf\u8f6c\u6362\u4e3a\u5bf9\u5e94\u7684\u5305\u88c5\u7c7b\u5e76\u6267\u884c\u903b\u8f91: var a = new Number ( 42 ); console . log ( a . toFixed ( 4 )); \u4e0a\u8ff0\u4ee3\u7801\u7684\u6267\u884c\u903b\u8f91\u5982\u4e0b\uff1a \u58f0\u660e\u4e00\u4e2a\u4e34\u65f6\u7684\u5305\u88c5\u7c7b\u5bf9\u8c61 let temp = new Number(42) \u5bf9 a \u8fdb\u884c\u8d4b\u503c a = temp.toFixed(4) \u5220\u9664 temp \u7528\u7c7b\u578b\u7b7e\u540d\u548c Record \u63cf\u8ff0\u5bf9\u8c61 \u00b6 \u867d\u7136 TS \u6709 Object \u7c7b\u578b\uff0c\u4f46\u56e0\u4e3a Object \u7c7b\u578b\u7684\u8303\u56f4\u592a\u5927\uff0c \u8fd9\u4f1a\u4f7f\u5f97\u6570\u636e\u7c7b\u578b\u7684\u63cf\u8ff0\u8fc7\u4e8e\u5bbd\u6cdb\uff0c\u6240\u4ee5\u4e00\u822c\u4e0d\u4f1a\u4f7f\u7528 Object \u6765\u63cf\u8ff0\u5bf9\u8c61\u7684\u6570\u636e\u7c7b\u578b \u6b64\u65f6\u4e00\u822c\u4f7f\u7528\u4ee5\u4e0b\u65b9\u6cd5\u63cf\u8ff0\u5bf9\u8c61\u7684\u6570\u636e\u7c7b\u578b\uff1a class/ constructor, \u8fd9\u79cd\u65b9\u5f0f\u5bf9\u4e8e TS \u6765\u8bf4\u6709\u4e9b\u6b7b\u677f\uff0c\u7528\u7684\u4eba\u4e0d\u591a type / interface type Person = { name : string ; age : number ; }; const a : Person = { name : 'Lloyd' , age : 18 , }; \u7d22\u5f15\u7b7e\u540d \u00b6 \u901a\u8fc7\u7d22\u5f15\u7b7e\u540d\u53ef\u4ee5\u6307\u5b9a\u4e00\u4e2a\u6570\u636e\u7c7b\u578b\u4e3a key value \u7ed3\u6784\uff0c\u540c\u65f6\u8ba9\u5b83\u53ef\u4ee5\u62e5\u6709\u62d3\u5c55\u7684\u5c5e\u6027\u6570\u91cf \u5e76\u6307\u5b9a\u5176\u4e2d key \u548c value \u7684\u6570\u636e\u7c7b\u578b\uff0ckey \u53ef\u4ee5\u662f string, symbol \u548c number \u7c7b\u578b symbol \u7684\u4f7f\u7528\u573a\u666f\u975e\u5e38\u5c11 \u58f0\u660e\u7d22\u5f15\u7b7e\u540d\u4e4b\u540e\uff0c\u4e0e key \u4e3a\u540c\u7c7b\u578b\u7684\u5b57\u6bb5\u540d\uff0c\u5176\u503c\u7684\u7c7b\u578b\u5fc5\u987b\u4e0e\u7b7e\u540d\u7684 value \u7684\u7c7b\u578b\u4e00\u81f4, \u5f53 key \u662f string \u7c7b\u578b\u65f6\uff0c\u7531\u4e8e\u672c\u8eab\u5c31\u4f7f\u7528 string \u7c7b\u578b\u4f5c\u4e3a\u5b57\u6bb5\u7d22\u5f15\uff0c\u5c31\u7b97\u5b57\u6bb5\u540d\u662f\u6570\u5b57\u4e5f\u4f1a\u88ab\u89e3\u91ca\u4e3a string\uff0c \u6240\u4ee5\u6b64\u65f6\u6570\u636e\u7ed3\u6784\u7684\u5404\u5b57\u6bb5\u5fc5\u987b\u9075\u5faa\u8be5\u7b7e\u540d\u7ed3\u6784 \u4e0b\u5217\u4ee3\u7801\u4e2d\uff0cname \u5b57\u6bb5\u548c email \u5b57\u6bb5\u53ef\u4ee5\u9650\u5b9a\u6b64\u7b7e\u540d\u7684\u6570\u636e\u7ed3\u6784\u5fc5\u987b\u5305\u542b\u8fd9\u4e24\u4e2a\u7d22\u5f15 type Person = { [ k : string ] : string ; name : string ; email : string ; }; type Person2 = Record < string , string > // \u548cPerson\u662f\u7c7b\u4f3c\u7684\uff0c\u4f46\u6ca1\u6709\u5bf9name, email\u7684\u5b58\u5728\u6027\u7ea6\u675f const a : Person = { name : 'Lloyd' , email : 'aaa@mail.com' , sex : 'male' , }; console . log ( a [ 'sex' ]); \u53e6\u9700\u6ce8\u610f\u533a\u5206 [k: string]: {value: string} \u548c [k: string]: string , \u524d\u8005\u8868\u793a\u6570\u636e\u7b7e\u540d\u9650\u5b9a\u7d22\u5f15\u4e3a string \u7c7b\u578b\uff0c\u503c\u4e3a\u5305\u542b string \u7c7b\u578b\u7684 value \u5b57\u6bb5\u7684 object, \u800c\u540e\u8005\u8868\u793a\u6570\u636e\u7b7e\u540d\u9650\u5b9a\u7d22\u5f15\u4e3a string \u7c7b\u578b\uff0c\u503c\u4e3a string \u7c7b\u578b \u4f7f\u7528\u6cdb\u578b\u63cf\u8ff0\u6570\u7ec4 \u00b6 \u7531\u4e8e\u76f4\u63a5\u4f7f\u7528 type A: Array \u592a\u4e0d\u7cbe\u786e\uff0cTS \u8981\u6c42\u4f7f\u7528 Array<T> , T[] \u6216 [T1, T2, ...] \u6765\u8868\u8ff0\u6570\u7ec4 \u4ee5\u4e0b\u4e24\u4e2a\u7c7b\u578b\u7b49\u4ef7\uff1a type A = string []; type B = Array < string > \u5143\u7ec4 \u00b6 \u4ee5\u4e0b\u7c7b\u578b\u5206\u522b\u4e3a\u4e8c\u5143\u7ec4\u548c\u4e09\u5143\u7ec4 type A = [ string , string ] type B = [ string , string , number ] type C = [ 1 , 2 , 3 | 4 ] // \u8fd9\u91cc\u6307\u6570\u7ec4\u7684\u524d\u4e24\u4e2a\u5143\u5206\u522b\u6570\u636e\u7c7b\u578b\u662f\u9650\u5b9a\u4e3a1, 2\u7684\u4e24\u4e2a\u96c6\u5408\uff0c\u7b2c\u4e09\u4e2a\u5143\u662f\u5305\u542b3, 4\u7684\u96c6\u5408 const c : C = [ 1 , 2 , 4 ] \u51fd\u6570\u5bf9\u8c61 \u00b6 type FnReturnVoid = () => void ; const f1 : FnReturnVoid = () => { console . log ( 'h1' ); }; // this\u7684\u7528\u6cd5 type Person = { name : string ; age : number ; sayHi : FnWithThis ; }; type FnWithThis = ( this : Person , msg : string ) => void ; // \u7bad\u5934\u51fd\u6570\u4e0d\u652f\u6301this const sayHi : FnWithThis = function ( msg ) { console . log ( this . name + ' ' + msg ); }; const a : Person = { name : 'Lloyd' , age : 18 , sayHi : sayHi , }; a . sayHi ( 'Hello' ); // \u643a\u5e26\u5c5e\u6027\u7684\u51fd\u6570\u5bf9\u8c61\uff0c\u5e38\u7528\u4e8e react \u91cc type FnWithProp = { ( a : number , b : number ) : void ; // \u4ee5\u5bf9\u8c61\u7684\u65b9\u5f0f\u58f0\u660e\u51fd\u6570\u7ed3\u6784\uff0c\u5c06 props \u4f5c\u4e3a\u4e00\u4e2a\u5b57\u6bb5 prop : string ; }; const f : FnWithProp = ( x , y ) => { return x * y ; }; f . prop = 'hello' ;","title":"TS \u4e2d\u7684\u6570\u636e\u7c7b\u578b(Datatype)"},{"location":"%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/typescript/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8BDatatype/#ts-datatype","text":"","title":"TS \u4e2d\u7684\u6570\u636e\u7c7b\u578b(Datatype)"},{"location":"%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/typescript/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8BDatatype/#_1","text":"TS \u7684\u6570\u636e\u7c7b\u578b\u79cd\u7c7b\u4e3b\u8981\u6709\u4e24\u79cd\uff1a\u6765\u81ea JS \u7684\u6570\u636e\u7c7b\u578b\u548c\u6765\u81ea TS \u81ea\u8eab\u7684\u6570\u636e\u7c7b\u578b","title":"\u6570\u636e\u7c7b\u578b\u79cd\u7c7b"},{"location":"%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/typescript/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8BDatatype/#js","text":"null, undefined, string, number, boolean, bigint, symbol, object (\u542b Array, Function, Date, RegExp...)","title":"\u6765\u81ea JS \u7684\u6570\u636e\u7c7b\u578b"},{"location":"%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/typescript/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8BDatatype/#ts","text":"void, never, enum, unknown, any, \u81ea\u5b9a\u4e49\u7c7b\u578b\uff1atype, interface","title":"TS \u81ea\u5df1\u7684\u6570\u636e\u7c7b\u578b"},{"location":"%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/typescript/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8BDatatype/#ts_1","text":"\u50cf java \u4e00\u6837\uff0cTS \u4e5f\u6709\u5305\u88c5\u7c7b\u7684\u8bf4\u6cd5 TS \u7684\u5305\u88c5\u7c7b\u4e00\u822c\u5305\u542b\u4ee5\u4e0b\u65b9\u6cd5\uff1a \u5b57\u7b26\u4e32\u8f6c\u6362\uff1a toString() , toLocaleString() , \u540e\u8005\u6839\u636e\u8fd0\u884c\u73af\u5883\u51b3\u5b9a String \u7684\u5b9e\u73b0 \u8868\u793a\u65b9\u6cd5/\u7cbe\u5ea6\u8f6c\u6362\uff1a\u6307\u6570\u5f0f\u663e\u5f0f toExponential() \uff0c \u4f4d\u6570\u6307\u5b9a toPrecision() \uff0c\u5c0f\u6570\u4f4d\u4f4d\u6570\u6307\u5b9a toFixed() ValueOf() \u65b9\u6cd5 \u5b9e\u9645\u4f7f\u7528\u65f6\u4e00\u822c\u4e0d\u4f1a\u663e\u5f0f\u5730\u7528\u5230\u5305\u88c5\u7c7b\uff0c\u4f46\u6bcf\u4e2a\u57fa\u672c\u6570\u636e\u7c7b\u578b\u90fd\u53ef\u901a\u8fc7\u8c03\u7528\u4e0a\u8ff0\u5305\u88c5\u7c7b\u7684\u65b9\u6cd5\u6765\u4f7f\u7528\u5305\u88c5\u7c7b\uff0c \u6b64\u65f6 TS \u4f1a\u9690\u5f0f\u5730\u5c06\u53d8\u91cf\u8f6c\u6362\u4e3a\u5bf9\u5e94\u7684\u5305\u88c5\u7c7b\u5e76\u6267\u884c\u903b\u8f91: var a = new Number ( 42 ); console . log ( a . toFixed ( 4 )); \u4e0a\u8ff0\u4ee3\u7801\u7684\u6267\u884c\u903b\u8f91\u5982\u4e0b\uff1a \u58f0\u660e\u4e00\u4e2a\u4e34\u65f6\u7684\u5305\u88c5\u7c7b\u5bf9\u8c61 let temp = new Number(42) \u5bf9 a \u8fdb\u884c\u8d4b\u503c a = temp.toFixed(4) \u5220\u9664 temp","title":"TS \u7684\u5305\u88c5\u5bf9\u8c61"},{"location":"%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/typescript/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8BDatatype/#record","text":"\u867d\u7136 TS \u6709 Object \u7c7b\u578b\uff0c\u4f46\u56e0\u4e3a Object \u7c7b\u578b\u7684\u8303\u56f4\u592a\u5927\uff0c \u8fd9\u4f1a\u4f7f\u5f97\u6570\u636e\u7c7b\u578b\u7684\u63cf\u8ff0\u8fc7\u4e8e\u5bbd\u6cdb\uff0c\u6240\u4ee5\u4e00\u822c\u4e0d\u4f1a\u4f7f\u7528 Object \u6765\u63cf\u8ff0\u5bf9\u8c61\u7684\u6570\u636e\u7c7b\u578b \u6b64\u65f6\u4e00\u822c\u4f7f\u7528\u4ee5\u4e0b\u65b9\u6cd5\u63cf\u8ff0\u5bf9\u8c61\u7684\u6570\u636e\u7c7b\u578b\uff1a class/ constructor, \u8fd9\u79cd\u65b9\u5f0f\u5bf9\u4e8e TS \u6765\u8bf4\u6709\u4e9b\u6b7b\u677f\uff0c\u7528\u7684\u4eba\u4e0d\u591a type / interface type Person = { name : string ; age : number ; }; const a : Person = { name : 'Lloyd' , age : 18 , };","title":"\u7528\u7c7b\u578b\u7b7e\u540d\u548c Record \u63cf\u8ff0\u5bf9\u8c61"},{"location":"%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/typescript/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8BDatatype/#_2","text":"\u901a\u8fc7\u7d22\u5f15\u7b7e\u540d\u53ef\u4ee5\u6307\u5b9a\u4e00\u4e2a\u6570\u636e\u7c7b\u578b\u4e3a key value \u7ed3\u6784\uff0c\u540c\u65f6\u8ba9\u5b83\u53ef\u4ee5\u62e5\u6709\u62d3\u5c55\u7684\u5c5e\u6027\u6570\u91cf \u5e76\u6307\u5b9a\u5176\u4e2d key \u548c value \u7684\u6570\u636e\u7c7b\u578b\uff0ckey \u53ef\u4ee5\u662f string, symbol \u548c number \u7c7b\u578b symbol \u7684\u4f7f\u7528\u573a\u666f\u975e\u5e38\u5c11 \u58f0\u660e\u7d22\u5f15\u7b7e\u540d\u4e4b\u540e\uff0c\u4e0e key \u4e3a\u540c\u7c7b\u578b\u7684\u5b57\u6bb5\u540d\uff0c\u5176\u503c\u7684\u7c7b\u578b\u5fc5\u987b\u4e0e\u7b7e\u540d\u7684 value \u7684\u7c7b\u578b\u4e00\u81f4, \u5f53 key \u662f string \u7c7b\u578b\u65f6\uff0c\u7531\u4e8e\u672c\u8eab\u5c31\u4f7f\u7528 string \u7c7b\u578b\u4f5c\u4e3a\u5b57\u6bb5\u7d22\u5f15\uff0c\u5c31\u7b97\u5b57\u6bb5\u540d\u662f\u6570\u5b57\u4e5f\u4f1a\u88ab\u89e3\u91ca\u4e3a string\uff0c \u6240\u4ee5\u6b64\u65f6\u6570\u636e\u7ed3\u6784\u7684\u5404\u5b57\u6bb5\u5fc5\u987b\u9075\u5faa\u8be5\u7b7e\u540d\u7ed3\u6784 \u4e0b\u5217\u4ee3\u7801\u4e2d\uff0cname \u5b57\u6bb5\u548c email \u5b57\u6bb5\u53ef\u4ee5\u9650\u5b9a\u6b64\u7b7e\u540d\u7684\u6570\u636e\u7ed3\u6784\u5fc5\u987b\u5305\u542b\u8fd9\u4e24\u4e2a\u7d22\u5f15 type Person = { [ k : string ] : string ; name : string ; email : string ; }; type Person2 = Record < string , string > // \u548cPerson\u662f\u7c7b\u4f3c\u7684\uff0c\u4f46\u6ca1\u6709\u5bf9name, email\u7684\u5b58\u5728\u6027\u7ea6\u675f const a : Person = { name : 'Lloyd' , email : 'aaa@mail.com' , sex : 'male' , }; console . log ( a [ 'sex' ]); \u53e6\u9700\u6ce8\u610f\u533a\u5206 [k: string]: {value: string} \u548c [k: string]: string , \u524d\u8005\u8868\u793a\u6570\u636e\u7b7e\u540d\u9650\u5b9a\u7d22\u5f15\u4e3a string \u7c7b\u578b\uff0c\u503c\u4e3a\u5305\u542b string \u7c7b\u578b\u7684 value \u5b57\u6bb5\u7684 object, \u800c\u540e\u8005\u8868\u793a\u6570\u636e\u7b7e\u540d\u9650\u5b9a\u7d22\u5f15\u4e3a string \u7c7b\u578b\uff0c\u503c\u4e3a string \u7c7b\u578b","title":"\u7d22\u5f15\u7b7e\u540d"},{"location":"%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/typescript/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8BDatatype/#_3","text":"\u7531\u4e8e\u76f4\u63a5\u4f7f\u7528 type A: Array \u592a\u4e0d\u7cbe\u786e\uff0cTS \u8981\u6c42\u4f7f\u7528 Array<T> , T[] \u6216 [T1, T2, ...] \u6765\u8868\u8ff0\u6570\u7ec4 \u4ee5\u4e0b\u4e24\u4e2a\u7c7b\u578b\u7b49\u4ef7\uff1a type A = string []; type B = Array < string >","title":"\u4f7f\u7528\u6cdb\u578b\u63cf\u8ff0\u6570\u7ec4"},{"location":"%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/typescript/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8BDatatype/#_4","text":"\u4ee5\u4e0b\u7c7b\u578b\u5206\u522b\u4e3a\u4e8c\u5143\u7ec4\u548c\u4e09\u5143\u7ec4 type A = [ string , string ] type B = [ string , string , number ] type C = [ 1 , 2 , 3 | 4 ] // \u8fd9\u91cc\u6307\u6570\u7ec4\u7684\u524d\u4e24\u4e2a\u5143\u5206\u522b\u6570\u636e\u7c7b\u578b\u662f\u9650\u5b9a\u4e3a1, 2\u7684\u4e24\u4e2a\u96c6\u5408\uff0c\u7b2c\u4e09\u4e2a\u5143\u662f\u5305\u542b3, 4\u7684\u96c6\u5408 const c : C = [ 1 , 2 , 4 ]","title":"\u5143\u7ec4"},{"location":"%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/typescript/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8BDatatype/#_5","text":"type FnReturnVoid = () => void ; const f1 : FnReturnVoid = () => { console . log ( 'h1' ); }; // this\u7684\u7528\u6cd5 type Person = { name : string ; age : number ; sayHi : FnWithThis ; }; type FnWithThis = ( this : Person , msg : string ) => void ; // \u7bad\u5934\u51fd\u6570\u4e0d\u652f\u6301this const sayHi : FnWithThis = function ( msg ) { console . log ( this . name + ' ' + msg ); }; const a : Person = { name : 'Lloyd' , age : 18 , sayHi : sayHi , }; a . sayHi ( 'Hello' ); // \u643a\u5e26\u5c5e\u6027\u7684\u51fd\u6570\u5bf9\u8c61\uff0c\u5e38\u7528\u4e8e react \u91cc type FnWithProp = { ( a : number , b : number ) : void ; // \u4ee5\u5bf9\u8c61\u7684\u65b9\u5f0f\u58f0\u660e\u51fd\u6570\u7ed3\u6784\uff0c\u5c06 props \u4f5c\u4e3a\u4e00\u4e2a\u5b57\u6bb5 prop : string ; }; const f : FnWithProp = ( x , y ) => { return x * y ; }; f . prop = 'hello' ;","title":"\u51fd\u6570\u5bf9\u8c61"},{"location":"%E8%A3%85%E6%9C%BA/%E7%B3%BB%E7%BB%9F/%E5%88%B6%E4%BD%9C%E5%8F%AF%E5%90%AF%E5%8A%A8U%E7%9B%98/","text":"\u5236\u4f5c\u53ef\u542f\u52a8U\u76d8 \u00b6 \u88c5\u673a\u65f6\uff0c\u64cd\u4f5c\u7cfb\u7edf\u7684\u5b89\u88c5\u4e00\u822c\u4ee5\u5b58\u6709\u7cfb\u7edf\u955c\u50cf\u7684\u53ef\u542f\u52a8U\u76d8\u5b8c\u6210\u3002 UltraISO \u00b6 \u6bd4\u8f83\u4f20\u7edf\u7684\u88c5\u673a\u65b9\u5f0f\u3002 \u4f7f\u7528 UltraISO \u5c06\u4e0b\u8f7d\u597d\u7684\u955c\u50cf\u7f6e\u5165U\u76d8\uff0c\u5e76\u987a\u4fbf\u5b8c\u6210\u5f15\u5bfc\u8bbe\u7f6e\uff0c\u8fd9\u79cd\u65b9\u5f0f\u5c31\u50cf\u662f\u8fc7\u53bb\u4f7f\u7528\u7684\u5149\u76d8\u88c5\u673a\uff0c\u6b64\u65f6U\u76d8\u5145\u5f53\u7cfb\u7edf\u5b89\u88c5\u5149\u76d8\u7684\u4f5c\u7528\uff0c\u56e0\u6b64\u6bcf\u4e2aU\u76d8\u53ea\u80fd\u5b58\u653e\u4e00\u4e2a\u7cfb\u7edf\u955c\u50cf\u3002 Ventoy \u00b6 Ventoy \u662f\u4e00\u4e2a\u7528\u4ee5\u5236\u4f5c\u53ef\u542f\u52a8U\u76d8\u7684\u5de5\u5177\uff0c\u5b83\u53ef\u4ee5\u4f7f\u5355\u4e2aU\u76d8\u5728\u5176\u5b58\u653e\u80fd\u529b\u5141\u8bb8\u7684\u60c5\u51b5\u4e0b\u5b58\u653e\u591a\u4e2a\u7cfb\u7edf\u955c\u50cf\uff0c\u5e76\u5728\u88c5\u673a\u65f6\u4f9b\u7528\u6237\u9009\u62e9\u3002 \u4f60\u53ea\u9700\u5728 \u5b98\u7f51 \u4e0a\u6839\u636e\u63d0\u793a\u83b7\u53d6\u5e76\u89e3\u538b\u5373\u53ef\u4f7f\u7528\u3002 \u4f7f\u7528 \u00b6 \u9996\u5148\u4f60\u9700\u8981\u5c06\u4f60\u7684U\u76d8\u683c\u5f0f\u5316\u4e3a\u88c5\u673a\u76d8\uff0c\u56e0\u6b64\u8bf7\u52a1\u5fc5\u786e\u4fdd\u6240U\u76d8\u5185\u800c\u6570\u636e\u5df2\u5b89\u5168\u5907\u4efd\u3002 \u63a5\u7740\uff0c\u4f60\u53ea\u9700\u8981\u6253\u5f00 Ventoy2Disk\uff0c\u9009\u62e9\u4f60\u7684U\u76d8\u5e76\u70b9\u51fb\u5b89\u88c5\u5373\u53ef\u5b8c\u6210\u542f\u52a8\u76d8 \u5c06\u4f60\u7684\u955c\u50cf\u6587\u4ef6\u590d\u5236\u5230U\u76d8\u4e2d\uff0c\u6b64\u65f6\u4f60\u7684U\u76d8\u4fbf\u53ef\u5b89\u88c5\u5bf9\u5e94\u7684\u955c\u50cf\uff0c\u4f60\u53ea\u9700\u8981\u5728\u542f\u52a8\u65f6\u9009\u62e9\u5bf9\u5e94\u7684\u955c\u50cf\u5373\u53ef \u4f7f\u7528\u672c\u5730\u955c\u50cf \u00b6 \u90e8\u5206\u60c5\u51b5\u4e0b\uff0c\u4f60\u53ef\u80fd\u4f7f\u7528\u7684\u662f\u7cfb\u7edf\u76d8+\u5b58\u50a8\u76d8\u7684\u7b56\u7565\uff0c\u6b64\u65f6\u4f60\u82e5\u9700\u8981\u88c5\u673a\u4e00\u822c\u53ea\u9700\u52a8\u7cfb\u7edf\u76d8\u5373\u53ef\u3002\u8fd9\u79cd\u60c5\u51b5\u4e0b\u4f60\u53ef\u4ee5\u9009\u62e9\u4e3a\u4f60\u7684U\u76d8\u548c\u672c\u5730\u76d8\u4e2d\u7684\u955c\u50cf\u5efa\u7acb vlink \uff0c\u6b64\u65f6\u4f7f\u7528 VentoyVlnk \u5373\u53ef","title":"\u5236\u4f5c\u53ef\u542f\u52a8U\u76d8"},{"location":"%E8%A3%85%E6%9C%BA/%E7%B3%BB%E7%BB%9F/%E5%88%B6%E4%BD%9C%E5%8F%AF%E5%90%AF%E5%8A%A8U%E7%9B%98/#u","text":"\u88c5\u673a\u65f6\uff0c\u64cd\u4f5c\u7cfb\u7edf\u7684\u5b89\u88c5\u4e00\u822c\u4ee5\u5b58\u6709\u7cfb\u7edf\u955c\u50cf\u7684\u53ef\u542f\u52a8U\u76d8\u5b8c\u6210\u3002","title":"\u5236\u4f5c\u53ef\u542f\u52a8U\u76d8"},{"location":"%E8%A3%85%E6%9C%BA/%E7%B3%BB%E7%BB%9F/%E5%88%B6%E4%BD%9C%E5%8F%AF%E5%90%AF%E5%8A%A8U%E7%9B%98/#ultraiso","text":"\u6bd4\u8f83\u4f20\u7edf\u7684\u88c5\u673a\u65b9\u5f0f\u3002 \u4f7f\u7528 UltraISO \u5c06\u4e0b\u8f7d\u597d\u7684\u955c\u50cf\u7f6e\u5165U\u76d8\uff0c\u5e76\u987a\u4fbf\u5b8c\u6210\u5f15\u5bfc\u8bbe\u7f6e\uff0c\u8fd9\u79cd\u65b9\u5f0f\u5c31\u50cf\u662f\u8fc7\u53bb\u4f7f\u7528\u7684\u5149\u76d8\u88c5\u673a\uff0c\u6b64\u65f6U\u76d8\u5145\u5f53\u7cfb\u7edf\u5b89\u88c5\u5149\u76d8\u7684\u4f5c\u7528\uff0c\u56e0\u6b64\u6bcf\u4e2aU\u76d8\u53ea\u80fd\u5b58\u653e\u4e00\u4e2a\u7cfb\u7edf\u955c\u50cf\u3002","title":"UltraISO"},{"location":"%E8%A3%85%E6%9C%BA/%E7%B3%BB%E7%BB%9F/%E5%88%B6%E4%BD%9C%E5%8F%AF%E5%90%AF%E5%8A%A8U%E7%9B%98/#ventoy","text":"Ventoy \u662f\u4e00\u4e2a\u7528\u4ee5\u5236\u4f5c\u53ef\u542f\u52a8U\u76d8\u7684\u5de5\u5177\uff0c\u5b83\u53ef\u4ee5\u4f7f\u5355\u4e2aU\u76d8\u5728\u5176\u5b58\u653e\u80fd\u529b\u5141\u8bb8\u7684\u60c5\u51b5\u4e0b\u5b58\u653e\u591a\u4e2a\u7cfb\u7edf\u955c\u50cf\uff0c\u5e76\u5728\u88c5\u673a\u65f6\u4f9b\u7528\u6237\u9009\u62e9\u3002 \u4f60\u53ea\u9700\u5728 \u5b98\u7f51 \u4e0a\u6839\u636e\u63d0\u793a\u83b7\u53d6\u5e76\u89e3\u538b\u5373\u53ef\u4f7f\u7528\u3002","title":"Ventoy"},{"location":"%E8%A3%85%E6%9C%BA/%E7%B3%BB%E7%BB%9F/%E5%88%B6%E4%BD%9C%E5%8F%AF%E5%90%AF%E5%8A%A8U%E7%9B%98/#_1","text":"\u9996\u5148\u4f60\u9700\u8981\u5c06\u4f60\u7684U\u76d8\u683c\u5f0f\u5316\u4e3a\u88c5\u673a\u76d8\uff0c\u56e0\u6b64\u8bf7\u52a1\u5fc5\u786e\u4fdd\u6240U\u76d8\u5185\u800c\u6570\u636e\u5df2\u5b89\u5168\u5907\u4efd\u3002 \u63a5\u7740\uff0c\u4f60\u53ea\u9700\u8981\u6253\u5f00 Ventoy2Disk\uff0c\u9009\u62e9\u4f60\u7684U\u76d8\u5e76\u70b9\u51fb\u5b89\u88c5\u5373\u53ef\u5b8c\u6210\u542f\u52a8\u76d8 \u5c06\u4f60\u7684\u955c\u50cf\u6587\u4ef6\u590d\u5236\u5230U\u76d8\u4e2d\uff0c\u6b64\u65f6\u4f60\u7684U\u76d8\u4fbf\u53ef\u5b89\u88c5\u5bf9\u5e94\u7684\u955c\u50cf\uff0c\u4f60\u53ea\u9700\u8981\u5728\u542f\u52a8\u65f6\u9009\u62e9\u5bf9\u5e94\u7684\u955c\u50cf\u5373\u53ef","title":"\u4f7f\u7528"},{"location":"%E8%A3%85%E6%9C%BA/%E7%B3%BB%E7%BB%9F/%E5%88%B6%E4%BD%9C%E5%8F%AF%E5%90%AF%E5%8A%A8U%E7%9B%98/#_2","text":"\u90e8\u5206\u60c5\u51b5\u4e0b\uff0c\u4f60\u53ef\u80fd\u4f7f\u7528\u7684\u662f\u7cfb\u7edf\u76d8+\u5b58\u50a8\u76d8\u7684\u7b56\u7565\uff0c\u6b64\u65f6\u4f60\u82e5\u9700\u8981\u88c5\u673a\u4e00\u822c\u53ea\u9700\u52a8\u7cfb\u7edf\u76d8\u5373\u53ef\u3002\u8fd9\u79cd\u60c5\u51b5\u4e0b\u4f60\u53ef\u4ee5\u9009\u62e9\u4e3a\u4f60\u7684U\u76d8\u548c\u672c\u5730\u76d8\u4e2d\u7684\u955c\u50cf\u5efa\u7acb vlink \uff0c\u6b64\u65f6\u4f7f\u7528 VentoyVlnk \u5373\u53ef","title":"\u4f7f\u7528\u672c\u5730\u955c\u50cf"},{"location":"%E8%A3%85%E6%9C%BA/%E7%B3%BB%E7%BB%9F/Linux/KVM/","text":"Linux \u4e0b\u4f7f\u7528 KVM \u7684\u7b14\u8bb0 \u00b6 \u51fa\u4e8e\u5de5\u4f5c\u6d41\u9700\u6c42\u51b3\u5b9a\u4f7f\u7528\u4e3b Linux + kvm Windows \u865a\u62df\u673a\u7684\u65b9\u5f0f\u4f7f\u7528\u53cc\u7cfb\u7edf \u4ee5\u4e0b\u662f\u4f7f\u7528 KVM \u9047\u5230\u7684\u4e00\u4e9b\u95ee\u9898\u548c\u7b14\u8bb0 \u5b89\u88c5\u73af\u5883 \u00b6 VirtIO \u6a21\u5757\u7684\u88c5\u8f7d \u00b6 \u5b89\u88c5 QEMU \u4e4b\u524d\u68c0\u67e5 VirtIO \u6a21\u5757\u7684\u88c5\u8f7d: $lsmod | grep virtio # \u82e5\u65e0\u663e\u793a\u5219\u8fd0\u884c\u4e0b\u4e00\u6761\u547d\u4ee4 $sudo modprobe virtio \u7136\u800c\u5b9e\u9645\u4e0a\uff0c\u50cf\u5b89\u88c5\u73af\u5883\u63d0\u5230\u7684Zen\u7b49\u4e00\u4e9b\u5185\u6838\u4f1a\u628a VirtIO \u76f4\u63a5\u7f16\u8bd1\u8fdb\u5185\u6838\uff0c \u56e0\u6b64\u65e0\u9700\u901a\u8fc7 modprobe \u547d\u4ee4\u8fdb\u884c\u52a0\u8f7d\uff0c\u5e76\u4e14 lsmod | grep virtio \u53ef\u80fd\u4e5f\u4f1a\u56e0\u4e3a VirtIO \u662f\u5b58\u5728\u4e8e\u5185\u6838\u4e2d\u800c\u4e0d\u662f\u4ee5\u53ef\u52a0\u8f7d\u7684\u6a21\u5757\u7684\u5f62\u5f0f\u5b58\u5728\u5728\u7cfb\u7edf\u4e2d\u7684\uff0c \u4f60\u53ef\u4ee5\u901a\u8fc7\u547d\u4ee4 modinfo virtio \u67e5\u770b VirtIO \u7684\u60c5\u51b5\uff1a","title":"Linux \u4e0b\u4f7f\u7528 KVM \u7684\u7b14\u8bb0"},{"location":"%E8%A3%85%E6%9C%BA/%E7%B3%BB%E7%BB%9F/Linux/KVM/#linux-kvm","text":"\u51fa\u4e8e\u5de5\u4f5c\u6d41\u9700\u6c42\u51b3\u5b9a\u4f7f\u7528\u4e3b Linux + kvm Windows \u865a\u62df\u673a\u7684\u65b9\u5f0f\u4f7f\u7528\u53cc\u7cfb\u7edf \u4ee5\u4e0b\u662f\u4f7f\u7528 KVM \u9047\u5230\u7684\u4e00\u4e9b\u95ee\u9898\u548c\u7b14\u8bb0","title":"Linux \u4e0b\u4f7f\u7528 KVM \u7684\u7b14\u8bb0"},{"location":"%E8%A3%85%E6%9C%BA/%E7%B3%BB%E7%BB%9F/Linux/KVM/#_1","text":"","title":"\u5b89\u88c5\u73af\u5883"},{"location":"%E8%A3%85%E6%9C%BA/%E7%B3%BB%E7%BB%9F/Linux/KVM/#virtio","text":"\u5b89\u88c5 QEMU \u4e4b\u524d\u68c0\u67e5 VirtIO \u6a21\u5757\u7684\u88c5\u8f7d: $lsmod | grep virtio # \u82e5\u65e0\u663e\u793a\u5219\u8fd0\u884c\u4e0b\u4e00\u6761\u547d\u4ee4 $sudo modprobe virtio \u7136\u800c\u5b9e\u9645\u4e0a\uff0c\u50cf\u5b89\u88c5\u73af\u5883\u63d0\u5230\u7684Zen\u7b49\u4e00\u4e9b\u5185\u6838\u4f1a\u628a VirtIO \u76f4\u63a5\u7f16\u8bd1\u8fdb\u5185\u6838\uff0c \u56e0\u6b64\u65e0\u9700\u901a\u8fc7 modprobe \u547d\u4ee4\u8fdb\u884c\u52a0\u8f7d\uff0c\u5e76\u4e14 lsmod | grep virtio \u53ef\u80fd\u4e5f\u4f1a\u56e0\u4e3a VirtIO \u662f\u5b58\u5728\u4e8e\u5185\u6838\u4e2d\u800c\u4e0d\u662f\u4ee5\u53ef\u52a0\u8f7d\u7684\u6a21\u5757\u7684\u5f62\u5f0f\u5b58\u5728\u5728\u7cfb\u7edf\u4e2d\u7684\uff0c \u4f60\u53ef\u4ee5\u901a\u8fc7\u547d\u4ee4 modinfo virtio \u67e5\u770b VirtIO \u7684\u60c5\u51b5\uff1a","title":"VirtIO \u6a21\u5757\u7684\u88c5\u8f7d"}]}